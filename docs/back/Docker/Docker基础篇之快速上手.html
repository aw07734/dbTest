
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>Docker · GitBook</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        
    
    <link rel="stylesheet" href="../../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-back-to-top-button/plugin.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="../nginx/Nginx.html" />
    
    
    <link rel="prev" href="../redis/redis.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../../">
            
                <a href="../../">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" >
            
                <span>
            
                    
                    前端
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1" data-path="../../front/02模块化,浏览器内置对象,事件.html">
            
                <a href="../../front/02模块化,浏览器内置对象,事件.html">
            
                    
                    模块化,浏览器内置对象,事件
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2" data-path="../../front/03作用域,闭包,this指针.html">
            
                <a href="../../front/03作用域,闭包,this指针.html">
            
                    
                    作用域,闭包,this指针
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3" data-path="../../front/04面向对象编程,原型及原型链,继承.html">
            
                <a href="../../front/04面向对象编程,原型及原型链,继承.html">
            
                    
                    面向对象编程,原型及原型链,继承
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.4" data-path="../../front/05ES6规范详解.html">
            
                <a href="../../front/05ES6规范详解.html">
            
                    
                    ES6规范详解
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.5" data-path="../../front/06前端工程化.html">
            
                <a href="../../front/06前端工程化.html">
            
                    
                    前端工程化
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.6" data-path="../../front/07vue基础.html">
            
                <a href="../../front/07vue基础.html">
            
                    
                    vue基础
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.7" data-path="../../front/09vue高级.html">
            
                <a href="../../front/09vue高级.html">
            
                    
                    vue高级
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.8" data-path="../../front/10vue-cli详解.html">
            
                <a href="../../front/10vue-cli详解.html">
            
                    
                    vue-cli详解
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.9" data-path="../../front/11前端路由及异步组件.html">
            
                <a href="../../front/11前端路由及异步组件.html">
            
                    
                    前端路由及异步组件
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.10" data-path="../../front/12状态管理及路由同构.html">
            
                <a href="../../front/12状态管理及路由同构.html">
            
                    
                    状态管理及路由同构
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.11" data-path="../../front/13vue实战.html">
            
                <a href="../../front/13vue实战.html">
            
                    
                    vue实战
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.12" data-path="../../front/14vue组件库设计.html">
            
                <a href="../../front/14vue组件库设计.html">
            
                    
                    vue组件库设计
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.13" data-path="../../front/15vue&vuex源码解析.html">
            
                <a href="../../front/15vue&vuex源码解析.html">
            
                    
                    vue&vuex源码解析
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.14" data-path="../../front/16小程序基础.html">
            
                <a href="../../front/16小程序基础.html">
            
                    
                    小程序基础
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.15" data-path="../../front/20react基础.html">
            
                <a href="../../front/20react基础.html">
            
                    
                    react基础
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.16" data-path="../../front/21react高级.html">
            
                <a href="../../front/21react高级.html">
            
                    
                    react高级
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.17" data-path="../../front/23react状态管理redux,mobx.html">
            
                <a href="../../front/23react状态管理redux,mobx.html">
            
                    
                    react状态管理redux,mobx
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.18" data-path="../../front/24react路由及服务端渲染同构.html">
            
                <a href="../../front/24react路由及服务端渲染同构.html">
            
                    
                    react路由及服务端渲染同构
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.19" data-path="../../front/25react实战.html">
            
                <a href="../../front/25react实战.html">
            
                    
                    react实战
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.20" data-path="../../front/26react组件库设计.html">
            
                <a href="../../front/26react组件库设计.html">
            
                    
                    react组件库设计
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.21" data-path="../../front/27react源码解析.html">
            
                <a href="../../front/27react源码解析.html">
            
                    
                    react源码解析
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.22" data-path="../../front/28nodejs基础.html">
            
                <a href="../../front/28nodejs基础.html">
            
                    
                    nodejs基础
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.23" data-path="../../front/29nodejs框架及实战.html">
            
                <a href="../../front/29nodejs框架及实战.html">
            
                    
                    nodejs框架及实战
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.24" data-path="../../front/30nodejs原理详解.html">
            
                <a href="../../front/30nodejs原理详解.html">
            
                    
                    nodejs原理详解
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.25" data-path="../../front/31nodejs HTTP.html">
            
                <a href="../../front/31nodejs HTTP.html">
            
                    
                    nodejs HTTP
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.26" data-path="../../front/32nodejs实战cli&爬虫.html">
            
                <a href="../../front/32nodejs实战cli&爬虫.html">
            
                    
                    nodejs实战cli&爬虫
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.27" data-path="../../front/33现代Hybrid开发与原理解析.html">
            
                <a href="../../front/33现代Hybrid开发与原理解析.html">
            
                    
                    现代Hybrid开发与原理解析
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.28" data-path="../../front/34react native入门.html">
            
                <a href="../../front/34react native入门.html">
            
                    
                    react native入门
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.29" data-path="../../front/35electron入门与原理介绍.html">
            
                <a href="../../front/35electron入门与原理介绍.html">
            
                    
                    electron入门与原理介绍
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.30" data-path="../../front/36RN 项目实战.html">
            
                <a href="../../front/36RN 项目实战.html">
            
                    
                    RN 项目实战
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.31" data-path="../../front/37Flutter入门.html">
            
                <a href="../../front/37Flutter入门.html">
            
                    
                    Flutter入门
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.32" data-path="../../front/39AST必知必会.html">
            
                <a href="../../front/39AST必知必会.html">
            
                    
                    AST必知必会
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.33" data-path="../../front/40Flutter实战.html">
            
                <a href="../../front/40Flutter实战.html">
            
                    
                    Flutter实战
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.34" data-path="../../front/41排序算法.html">
            
                <a href="../../front/41排序算法.html">
            
                    
                    排序算法
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.35" data-path="../../front/42复杂算法详解.html">
            
                <a href="../../front/42复杂算法详解.html">
            
                    
                    复杂算法详解
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.36" data-path="../../front/43树和图类算法.html">
            
                <a href="../../front/43树和图类算法.html">
            
                    
                    树和图类算法
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.37" data-path="../../front/44常见JS设计模式解析.html">
            
                <a href="../../front/44常见JS设计模式解析.html">
            
                    
                    常见JS设计模式解析
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.38" data-path="../../front/45设计模式实战.html">
            
                <a href="../../front/45设计模式实战.html">
            
                    
                    设计模式实战
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.39" data-path="../../front/46JS常见开发优化总结.html">
            
                <a href="../../front/46JS常见开发优化总结.html">
            
                    
                    JS常见开发优化总结
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.40" data-path="../../front/47大厂常见问题解决方案.html">
            
                <a href="../../front/47大厂常见问题解决方案.html">
            
                    
                    大厂常见问题解决方案
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.41" data-path="../../front/48浏览器原理.html">
            
                <a href="../../front/48浏览器原理.html">
            
                    
                    浏览器原理
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.42" data-path="../../front/49,50webpack前端打包工具.html">
            
                <a href="../../front/49,50webpack前端打包工具.html">
            
                    
                    webpack前端打包工具
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3" >
            
                <span>
            
                    
                    后端
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1" data-path="../bxd_Java基础/01/bxd_Java基础01.html">
            
                <a href="../bxd_Java基础/01/bxd_Java基础01.html">
            
                    
                    bxd_Java 基础 01
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2" data-path="../bxd_Java基础/02/bxd_Java基础02.html">
            
                <a href="../bxd_Java基础/02/bxd_Java基础02.html">
            
                    
                    bxd_Java 基础 02
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3" data-path="../01基础加强/基础加强.html">
            
                <a href="../01基础加强/基础加强.html">
            
                    
                    基础加强
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.4" >
            
                <span>
            
                    
                    MySQL
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.4.1" data-path="../02MySQL/MySQL.html">
            
                <a href="../02MySQL/MySQL.html">
            
                    
                    MySQL
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.4.2" data-path="../07MySQL加强/MySQL基础加强.html">
            
                <a href="../07MySQL加强/MySQL基础加强.html">
            
                    
                    MySQL 加强
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.4.3" data-path="../MySQL性能优化/MySQL性能优化.html">
            
                <a href="../MySQL性能优化/MySQL性能优化.html">
            
                    
                    MySQL 性能优化
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.4.4" data-path="../MySQL 高级/Mysql高级-day01.html">
            
                <a href="../MySQL 高级/Mysql高级-day01.html">
            
                    
                    MySQL 高级01
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.4.5" data-path="../MySQL 高级/Mysql高级-day02.html">
            
                <a href="../MySQL 高级/Mysql高级-day02.html">
            
                    
                    MySQL 高级02
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.4.6" data-path="../MySQL 高级/Mysql高级-day03.html">
            
                <a href="../MySQL 高级/Mysql高级-day03.html">
            
                    
                    MySQL 高级03
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.4.7" data-path="../MySQL 高级/Mysql高级-day04.html">
            
                <a href="../MySQL 高级/Mysql高级-day04.html">
            
                    
                    MySQL 高级04
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3.5" data-path="../03JDBC/JDBC.html">
            
                <a href="../03JDBC/JDBC.html">
            
                    
                    JDBC
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.6" data-path="../04JavaWeb/JavaWeb.html">
            
                <a href="../04JavaWeb/JavaWeb.html">
            
                    
                    JavaWeb
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.7" data-path="../05Struts2/Struts2.html">
            
                <a href="../05Struts2/Struts2.html">
            
                    
                    Struct2
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.8" data-path="../08Hibernate/Hibernate.html">
            
                <a href="../08Hibernate/Hibernate.html">
            
                    
                    Hibernate
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.9" data-path="../09Spring/Spring.html">
            
                <a href="../09Spring/Spring.html">
            
                    
                    Spring
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.10" data-path="../11JavaScript-Ajax-jQuery/JavaScript-Ajax-jQuery.html">
            
                <a href="../11JavaScript-Ajax-jQuery/JavaScript-Ajax-jQuery.html">
            
                    
                    JavaScript-Ajax-jQuery
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.11" data-path="../12UML_Maven/UML_Maven.html">
            
                <a href="../12UML_Maven/UML_Maven.html">
            
                    
                    UML_Maven
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.12" data-path="../13WMS/WMS.html">
            
                <a href="../13WMS/WMS.html">
            
                    
                    WMS
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.13" data-path="../14JS加强/JS加强.html">
            
                <a href="../14JS加强/JS加强.html">
            
                    
                    JS 加强
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.14" data-path="../15EasyUI/EasyUI.html">
            
                <a href="../15EasyUI/EasyUI.html">
            
                    
                    EasyUI
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.15" data-path="../16SpringMVC/SpringMVC.html">
            
                <a href="../16SpringMVC/SpringMVC.html">
            
                    
                    SpringMVC
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.16" data-path="../17MyBatis/MyBatis.html">
            
                <a href="../17MyBatis/MyBatis.html">
            
                    
                    MyBatis
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.17" data-path="../19CRM/CRM.html">
            
                <a href="../19CRM/CRM.html">
            
                    
                    CRM
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.18" data-path="../20Lucene/Lucene.html">
            
                <a href="../20Lucene/Lucene.html">
            
                    
                    Lucene
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.19" data-path="../redis/redis.html">
            
                <a href="../redis/redis.html">
            
                    
                    redis
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.3.20" data-path="Docker基础篇之快速上手.html">
            
                <a href="Docker基础篇之快速上手.html">
            
                    
                    Docker
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.21" data-path="../nginx/Nginx.html">
            
                <a href="../nginx/Nginx.html">
            
                    
                    Nginx
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.22" data-path="../other/Gradle.html">
            
                <a href="../other/Gradle.html">
            
                    
                    Gradle
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.23" data-path="../other/Shiro.html">
            
                <a href="../other/Shiro.html">
            
                    
                    Shiro
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.24" data-path="../other/SpringSecurity.html">
            
                <a href="../other/SpringSecurity.html">
            
                    
                    SpringSecurity
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="../.." >Docker</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="docker&#x57FA;&#x7840;&#x7BC7;&#x4E4B;&#x5FEB;&#x901F;&#x4E0A;&#x624B;">Docker&#x57FA;&#x7840;&#x7BC7;&#x4E4B;&#x5FEB;&#x901F;&#x4E0A;&#x624B;</h1>
<h1 id="&#x7B2C;&#x4E00;&#x7AE0;-docker&#x7B80;&#x4ECB;">&#x7B2C;&#x4E00;&#x7AE0; Docker&#x7B80;&#x4ECB;</h1>
<h3 id="&#x662F;&#x4EC0;&#x4E48;&#xFF1F;">&#x662F;&#x4EC0;&#x4E48;&#xFF1F;</h3>
<h4 id="&#x95EE;&#x9898;&#xFF1A;&#x4E3A;&#x4EC0;&#x4E48;&#x4F1A;&#x6709;-docker-&#x7684;&#x51FA;&#x73B0;">&#x95EE;&#x9898;&#xFF1A;&#x4E3A;&#x4EC0;&#x4E48;&#x4F1A;&#x6709; docker &#x7684;&#x51FA;&#x73B0;</h4>
<p>&#x4E00;&#x6B3E;&#x4EA7; &#x54C1;&#x4ECE;&#x5F00;&#x53D1;&#x5230;&#x4E0A;&#x7EBF;&#xFF0C;&#x4ECE;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#xFF0C;&#x5230;&#x8FD0;&#x884C;&#x73AF;&#x5883;&#xFF0C;&#x518D;&#x5230;&#x5E94;&#x7528;&#x914D;&#x7F6E;&#x3002;&#x4F5C;&#x4E3A;&#x5F00;&#x53D1;+&#x8FD0;&#x7EF4;&#x4E4B;&#x95F4;&#x7684;&#x534F;&#x4F5C;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x5173;&#x5FC3;&#x5F88;&#x591A;&#x4E1C;&#x897F;&#xFF0C;&#x8FD9;&#x4E5F;&#x662F;&#x5F88;&#x591A;&#x4E92;&#x8054;&#x7F51;&#x516C;&#x53F8;&#x90FD;&#x4E0D;&#x5F97;&#x4E0D;&#x9762;&#x5BF9;&#x7684;&#x95EE;&#x9898;&#xFF0C;&#x7279;&#x522B;&#x662F;&#x5404;&#x79CD;&#x7248;&#x672C;&#x7684;&#x8FED;&#x4EE3;&#x4E4B;&#x540E;&#xFF0C;&#x4E0D;&#x540C;&#x7248;&#x672C;&#x73AF;&#x5883;&#x7684;&#x517C;&#x5BB9;&#xFF0C;&#x5BF9;&#x8FD0;&#x7EF4;&#x4EBA;&#x5458;&#x90FD;&#x662F;&#x8003;&#x9A8C;
<strong>Docker</strong>&#x4E4B;&#x6240;&#x4EE5;&#x53D1;&#x5C55;&#x5982;&#x6B64;&#x8FC5;&#x901F;&#xFF0C;&#x4E5F;&#x662F;&#x56E0;&#x4E3A;&#x5B83;&#x5BF9;&#x6B64;&#x7ED9;&#x51FA;&#x4E86;&#x4E00;&#x4E2A;&#x6807;&#x51C6;&#x5316;&#x7684;&#x89E3;&#x51B3;&#x65B9;&#x6848;&#x3002;
&#x73AF;&#x5883;&#x914D;&#x7F6E;&#x5982;&#x6B64;&#x9EBB;&#x70E6;&#xFF0C;&#x6362;&#x4E00;&#x53F0;&#x673A;&#x5668;&#xFF0C;&#x5C31;&#x8981;&#x91CD;&#x6765;&#x4E00;&#x6B21;&#xFF0C;&#x8D39;&#x529B;&#x8D39;&#x65F6;&#x3002;&#x5F88;&#x591A;&#x4EBA;&#x60F3;&#x5230;&#xFF0C;&#x80FD;&#x4E0D;&#x80FD;&#x4ECE;&#x6839;&#x672C;&#x4E0A;&#x89E3;&#x51B3;&#x95EE;&#x9898;&#xFF0C;&#x8F6F;&#x4EF6;&#x53EF;&#x4EE5;&#x5E26;&#x73AF;&#x5883;&#x5B89;&#x88C5;?&#x4E5F;&#x5C31;&#x662F;&#x8BF4;&#xFF0C;&#x5B89;&#x88C5;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x628A;&#x539F;&#x59CB;&#x73AF;&#x5883;-&#x6A21;-&#x6837;&#x5730;&#x590D;&#x5236;&#x8FC7;&#x6765;&#x3002;&#x5F00;&#x53D1;&#x4EBA;&#x5458;&#x5229;&#x7528;Docker&#x53EF;&#x4EE5;&#x6D88;&#x9664;&#x534F;&#x4F5C;&#x7F16;&#x7801;&#x65F6;&#x201C;&#x5728;&#x6211;&#x7684;&#x673A;&#x5668;&#x4E0A;&#x53EF;&#x6B63;&#x5E38;&#x5DE5;&#x4F5C;&#x201D;&#x7684;&#x95EE;&#x9898;&#x3002;</p>
<p><img src="Snipaste_2020-10-02_17-51-22.png" alt=""></p>
<p>&#x4E4B;&#x524D;&#x5728;&#x670D;&#x52A1;&#x5668;&#x914D;&#x7F6E;&#x4E00;&#x4E2A;&#x5E94;&#x7528;&#x7684;&#x8FD0;&#x884C;&#x73AF;&#x5883;&#xFF0C;&#x8981;&#x5B89;&#x88C5;&#x5404;&#x79CD;&#x8F6F;&#x4EF6;&#xFF0C;&#x5C31;&#x62FF;&#x5C1A;&#x7845;&#x8C37;&#x7535;&#x5546;&#x9879;&#x76EE;&#x7684;&#x73AF;&#x5883;&#x6765;&#x8BF4;&#x5427;&#xFF0C;<strong>Java/TomcatMySQL/JDBC</strong>&#x9A71;&#x52A8;&#x5305;&#x7B49;&#x3002;&#x5B89;&#x88C5;&#x548C;&#x914D;&#x7F6E;&#x8FD9;&#x4E9B;&#x4E1C;&#x897F;&#x6709;&#x591A;&#x9EBB;&#x70E6;&#x5C31;&#x4E0D;&#x8BF4;&#x4E86;&#xFF0C;&#x5B83;&#x8FD8;&#x4E0D;&#x80FD;&#x8DE8;&#x5E73;&#x53F0;&#x3002;&#x5047;&#x5982;&#x6211;&#x4EEC;&#x662F;&#x5728;<strong>Windows</strong>&#x4E0A;&#x5B89;&#x88C5;&#x7684;&#x8FD9;&#x4E9B;&#x73AF;&#x5883;&#xFF0C;&#x5230;&#x4E86;Linux &#x53C8;&#x5F97;&#x91CD;&#x65B0;&#x88C5;&#x3002;&#x51B5;&#x4E14;&#x5C31;&#x7B97;&#x4E0D;&#x8DE8;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#xFF0C;&#x6362;&#x53E6;&#x4E00;&#x53F0;&#x540C;&#x6837;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x7684;&#x670D;&#x52A1;&#x5668;&#xFF0C;&#x8981;&#x79FB;&#x690D;&#x5E94;&#x7528;&#x4E5F;&#x662F;&#x975E;&#x5E38;&#x9EBB;&#x70E6;&#x7684;&#x3002;</p>
<p>&#x4F20;&#x7EDF;&#x4E0A;&#x8BA4;&#x4E3A;&#xFF0C;&#x8F6F;&#x4EF6;&#x7F16;&#x7801;&#x5F00;&#x53D1;/&#x6D4B;&#x8BD5;&#x7ED3;&#x675F;&#x540E;&#xFF0C;&#x6240;&#x4EA7;&#x51FA;&#x7684;&#x6210;&#x679C;&#x5373;&#x662F;&#x7A0B;&#x5E8F;&#x6216;&#x662F;&#x80FD;&#x591F;&#x7F16;&#x8BD1;&#x6267;&#x884C;&#x7684;&#x4E8C;&#x8FDB;&#x5236;&#x5B57;&#x8282;&#x7801;&#x7B49;java&#x4E3A;&#x4F8B;)&#x3002;&#x800C;&#x4E3A;&#x4E86;&#x8BA9;&#x8FD9;&#x7A0B;&#x5E8F;&#x53EF;&#x4EE5;&#x987A;&#x5229;&#x6267;&#x884C;&#xFF0C;&#x5F00;&#x53D1;&#x56E2;&#x961F;&#x4E5F;&#x5F97;&#x51C6;&#x5907;&#x5B8C;&#x6574;&#x7684;&#x90E8;&#x7F72;&#x6587;&#x4EF6;&#xFF0C;&#x8BA9;&#x7EF4;&#x8FD0;&#x56E2;&#x961F;&#x5F97;&#x4EE5;&#x90E8;&#x7F72;&#x5E94;&#x7528;&#x7A0B;&#x5F0F;&#xFF0C;<strong>&#x5F00;&#x53D1;&#x9700;&#x8981;&#x6E05;&#x695A;&#x7684;&#x544A;&#x8BC9;&#x8FD0;&#x7EF4;&#x90E8;&#x7F72;&#x56E2;&#x961F;&#xFF0C;&#x7528;&#x7684;&#x5168;&#x90E8;&#x914D;&#x7F6E;&#x6587;&#x4EF6;+&#x6240;&#x6709;&#x8F6F;&#x4EF6;&#x73AF;&#x5883;&#x3002;&#x4E0D;&#x8FC7;&#xFF0C;&#x5373;&#x4FBF;&#x5982;&#x6B64;&#xFF0C;&#x4ECD;&#x7136;&#x5E38;&#x5E38;&#x53D1;&#x751F;&#x90E8;&#x7F72;&#x5931;&#x8D25;&#x7684;&#x72B6;&#x51B5;&#x3002;</strong>Docker&#x955C; &#x50CF;&#x7684;&#x8BBE;&#x8BA1;<strong>&#xFF0C;&#x4F7F;&#x5F97;Docker&#x5F97;&#x4EE5;&#x6253;&#x8FC7;&#x53BB;&#x300C;&#x7A0B;&#x5E8F;&#x5373;&#x5E94;&#x7528;&#x300D;&#x7684;&#x89C2;&#x5FF5;&#x3002;&#x900F;&#x8FC7;&#x955C;&#x50CF;(images)&#x5C06;&#x4F5C;&#x4E1A;&#x7CFB;&#x7EDF;&#x6838;&#x5FC3;&#x9664;&#x5916;&#xFF0C;&#x8FD0;&#x4F5C;&#x5E94;&#x7528;&#x7A0B;&#x5F0F;&#x6240;&#x9700;&#x8981;&#x7684;&#x7CFB;&#x7EDF;&#x73AF;&#x5883;&#xFF0C;&#x7531;&#x4E0B;&#x800C;&#x4E0A;&#x6253;&#x5305;&#xFF0C;&#x8FBE;&#x5230;&#x5E94;&#x7528;&#x7A0B;&#x5F0F;&#x8DE8;&#x5E73;&#x53F0;&#x95F4;&#x7684;&#x65E0;&#x7F1D;&#x63A5;&#x8F68;&#x8FD0;.&#x4F5C;&#x3002;</strong></p>
<h4 id="docker&#x7406;&#x5FF5;">docker&#x7406;&#x5FF5;</h4>
<p>Docker&#x662F;&#x57FA;&#x4E8E;Go&#x8BED;&#x8A00;&#x5B9E;&#x73B0;&#x7684;&#x4E91;&#x5F00;&#x6E90;&#x9879;&#x76EE;&#x3002;
Docker&#x7684;&#x4E3B;&#x8981;&#x76EE;&#x6807;&#x662F;&#x201C;<strong>Build, Ship[ and Run Any App,Anywhere</strong>&quot;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x901A;&#x8FC7;&#x5BF9;&#x5E94;&#x7528;&#x7EC4;&#x4EF6;&#x7684;&#x5C01;&#x88C5;&#x3001;&#x5206;&#x53D1;&#x3001;&#x90E8;&#x7F72;&#x3001;&#x8FD0;&#x884C;&#x7B49;&#x751F;&#x547D;&#x671F;&#x7684;&#x7BA1;&#x7406;&#xFF0C;&#x4F7F;&#x7528;&#x6237;&#x7684;APP (&#x53EF;&#x4EE5;&#x662F;&#x4E00;&#x4E2A;WEB&#x5E94;&#x7528;&#x6216;&#x6570;&#x636E;&#x5E93;&#x5E94;&#x7528;&#x7B49;&#x7B49;)&#x53CA;&#x5176;&#x8FD0;&#x884C;&#x73AF;&#x5883;&#x80FD;&#x591F;&#x505A;&#x5230;&#x201C;<strong>&#x4E00;&#x6B21;&#x5C01;&#x88C5;&#xFF0C;&#x5230;&#x5904;&#x8FD0;&#x884C;</strong>&#x201D;&#x3002;</p>
<p><img src="image/Snipaste_2020-10-02_18-14-27.png" alt=""></p>
<p> Linux&#x5BB9;&#x5668;&#x6280;&#x672F;&#x7684;&#x51FA;&#x73B0;&#x5C31;&#x89E3;&#x51B3;&#x4E86;&#x8FD9;&#x6837;&#x4E00; &#x4E00;&#x4E2A;&#x95EE;&#x9898;&#xFF0C;&#x800C;Docker&#x5C31;&#x662F;&#x5728;&#x5B83;&#x7684;&#x57FA;&#x7840;&#x4E0A;&#x53D1;&#x5C55;&#x8FC7;&#x6765;&#x7684;&#x3002;&#x5C06;&#x5E94;&#x7528;&#x8FD0;&#x884C;&#x5728;Docker&#x5BB9;&#x5668;&#x4E0A;&#x9762;&#xFF0C;&#x800C;Docker&#x5BB9;&#x5668;&#x5728;&#x4EFB;&#x4F55;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x4E0A;&#x90FD;&#x662F;&#x4E00;-&#x81F4;&#x7684;&#xFF0C;&#x8FD9;&#x5C31;&#x5B9E;&#x73B0;&#x4E86;&#x8DE8;&#x5E73;&#x53F0;&#x3001;&#x8DE8;&#x670D;&#x52A1;&#x5668;&#x3002;<strong>&#x53EA;&#x9700;&#x8981;&#x4E00;&#x6B21;&#x914D;&#x7F6E;&#x597D;&#x73AF;&#x5883;&#xFF0C;&#x6362;&#x5230;&#x522B;&#x7684;&#x673A;&#x5B50;&#x4E0A;&#x5C31;&#x53EF;&#x4EE5;&#x4E00;&#x952E;&#x90E8;&#x7F72;&#x597D;&#xFF0C;&#x5927;&#x5927;&#x7B80;&#x5316;&#x4E86;&#x64CD;&#x4F5C;</strong></p>
<h4 id="&#x4E00;&#x53E5;&#x8BDD;">&#x4E00;&#x53E5;&#x8BDD;</h4>
<p>&#x89E3;&#x51B3;&#x4E86;&#x8FD0;&#x884C;&#x73AF;&#x5883;&#x548C;&#x914D;&#x7F6E;&#x95EE;&#x9898;&#x7684;&#x8F6F;&#x4EF6;&#x5BB9;&#x5668;&#xFF0C;&#x65B9;&#x4FBF;&#x505A;&#x6301;&#x7EED;&#x96C6;&#x6210;&#x5E76;&#x6709;&#x52A9;&#x4E8E;&#x6574;&#x4F53;&#x53D1;&#x5E03;&#x7684;&#x5BB9;&#x5668;&#x865A;&#x62DF;&#x5316;&#x6280;&#x672F;</p>
<h3 id="&#x80FD;&#x5E72;&#x561B;">&#x80FD;&#x5E72;&#x561B;</h3>
<h4 id="&#x4E4B;&#x524D;&#x7684;&#x865A;&#x62DF;&#x673A;&#x6280;&#x672F;">&#x4E4B;&#x524D;&#x7684;&#x865A;&#x62DF;&#x673A;&#x6280;&#x672F;</h4>
<p>&#x865A;&#x62DF;&#x673A;<strong>(virtual machine)</strong>&#x5C31;&#x662F;&#x5E26;&#x73AF;&#x5883;&#x5B89;&#x88C5;&#x7684;&#x4E00;&#x79CD;&#x89E3;&#x51B3;&#x65B9;&#x6848;&#x3002;</p>
<p>&#x5B83;&#x53EF;&#x4EE5;&#x5728;&#x4E00;&#x79CD;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x91CC;&#x9762;&#x8FD0;&#x884C;&#x53E6;&#x4E00;&#x79CD;&#x4F5C;&#x7CFB;&#x7EDF;&#xFF0C;&#x6BD4;&#x5982;&#x5728;<strong>Windows&#x7CFB;&#x7EDF;&#x91CC;&#x9762;&#x8FD0;&#x884C;Linux&#x7CFB;&#x7EDF;</strong>&#x3002;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x5BF9;&#x6B64;&#x6BEB;&#x65E0;&#x611F;&#x77E5;&#xFF0C;&#x56E0;&#x4E3A;&#x865A;&#x62DF;&#x673A;&#x770B;&#x4E0A;&#x53BB;&#x8DDF;&#x771F;&#x5B9E;&#x7CFB;&#x7EDF;- -&#x6A21;-&#x6837;&#xFF0C;&#x800C;&#x5BF9;&#x4E8E;&#x5E95;&#x5C42;&#x7CFB;&#x7EDF;&#x6765;&#x8BF4;&#xFF0C;&#x865A;&#x62DF;&#x673A;&#x5C31;&#x662F;&#x4E00;&#x4E2A;&#x666E;&#x901A;&#x6587;&#x4EF6;&#xFF0C;&#x4E0D;&#x9700;&#x8981;&#x4E86;&#x5C31;&#x5220;&#x6389;&#xFF0C;&#x5BF9;&#x5176;&#x4ED6;&#x90E8;&#x5206;&#x6BEB;&#x65E0;&#x5F71;&#x54CD;&#x3002;&#x8FD9;&#x7C7B;&#x865A;&#x62DF;&#x673A;&#x5B8C;&#x7F8E;&#x7684;&#x8FD0;&#x884C;&#x4E86;&#x53E6;&#x4E00;&#x5957;&#x7CFB;&#x7EDF;&#xFF0C;&#x80FD;&#x591F;&#x4F7F;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#xFF0C;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x548C;&#x786C;&#x4EF6;&#x4E09;&#x8005;&#x4E4B;&#x95F4;&#x7684;&#x903B;&#x8F91;&#x4E0D;&#x53D8;&#x3002;</p>
<p><img src="image/Snipaste_2020-10-02_18-18-07.png" alt=""></p>
<p>&#x865A;&#x62DF;&#x673A;&#x7684;&#x7F3A;&#x70B9;:</p>
<p>1&#x3001;&#x8D44;&#x6E90;&#x5360;&#x7528;&#x591A;</p>
<p>2&#x3001;&#x5197;&#x4F59;&#x6B65;&#x9AA4;&#x591A;</p>
<p>3&#x3001;&#x542F;&#x52A8;&#x6162;</p>
<h4 id="&#x5BB9;&#x5668;&#x865A;&#x62DF;&#x5316;&#x6280;&#x672F;">&#x5BB9;&#x5668;&#x865A;&#x62DF;&#x5316;&#x6280;&#x672F;</h4>
<p>&#x7531;&#x4E8E;&#x524D;&#x9762;&#x865B;&#x62DF;&#x673A;&#x5B58;&#x5728;&#x8FD9;&#x4E9B;&#x7F3A;&#x70B9;&#xFF0C;<strong>Linux</strong> &#x53D1;&#x5C55;&#x51FA;&#x4E86;&#x53E6;&#x4E00;&#x79CD;&#x865A;&#x62DF;&#x5316;&#x6280;&#x672F;: <strong>Linux &#x5BB9;&#x5668;</strong>(Linux Containers,&#x7F29;&#x4E3A;LXC)&#x3002;</p>
<p><strong>Linux&#x5BB9;&#x5668;&#x4E0D;&#x662F;&#x6A21;&#x62DF;&#x4E00;&#x4E2A;&#x5B8C;&#x6574;&#x7684;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;</strong>&#xFF0C;&#x800C;&#x662F;&#x5BF9;&#x8FDB;&#x7A0B;&#x8FDB;&#x884C;&#x9694;&#x79BB;&#x3002;&#x6709;&#x4E86;&#x5BB9;&#x5668;&#xFF0C;&#x5C31;&#x53EF;&#x4EE5;&#x5C06;&#x8F6F;&#x4EF6;&#x8FD0;&#x884C;&#x6240;&#x7684;&#x6240;&#x6709;&#x8D44;&#x6E90;&#x6253;&#x5305;&#x5230;&#x4E00;&#x4E2A;&#x9694;&#x79BB;&#x7684;&#x5BB9;&#x5668;&#x4E2D;&#x3002;&#x5BB9;&#x5668;&#x4E0E;&#x865A;&#x62DF;&#x673A;&#x4E0D;&#x540C;&#xFF0C;&#x4E0D;&#x9700;&#x8981;&#x6346;&#x7ED1;&#x4E00;&#x6574;&#x5957;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#xFF0C;&#x53EA;&#x9700;&#x8981;&#x8F6F;&#x4EF6;&#x5DE5;&#x4F5C;&#x6240;&#x9700;&#x7684;&#x5E93;&#x8D44;&#x6E90;&#x548C;&#x8BBE;&#x7F6E;&#x3002;&#x7CFB;&#x7EDF;&#x56E0;&#x6B64;&#x800C;&#x53D8;&#x5F97;&#x9AD8;&#x6548;&#x8F7B;&#x91CF;&#x5E76;&#x4FDD;&#x8BC1;&#x90E8;&#x7F72;&#x5728;&#x4EFB;&#x4F55;&#x73AF;&#x5883;&#x4E2D;&#x7684;&#x8F6F;&#x4EF6;&#x90FD;&#x80FD;&#x59CB;&#x7EC8;&#x5982;&#x4E00;&#x5730;&#x8FD0;&#x884C;&#x3002;.</p>
<p><img src="image/Snipaste_2020-10-02_18-22-04.png" alt=""></p>
<p>&#x6BD4;&#x8F83;&#x4E86;<strong>Docker</strong>&#x548C;&#x4F20;&#x7EDF;&#x865A;&#x62DF;&#x5316;&#x65B9;&#x5F0F;&#x7684;&#x4E0D;&#x540C;&#x4E4B;&#x5904;:</p>
<p>1&#x3001;&#x4F20;&#x7EDF;&#x865A;&#x62DF;&#x673A;&#x6280;&#x672F;&#x662F;&#x865A;&#x62DF;&#x51FA;&#x4E00;&#x5957;&#x786C;&#x4EF6;&#x540E;&#xFF0C;&#x5728;&#x5176;&#x4E0A;&#x8FD0;&#x884C;&#x4E00;&#x4E2A;&#x5B8C;&#x6574;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#xFF0C;&#x5728;&#x8BE5;&#x7CFB;&#x7EDF;&#x4E0A;&#x518D;&#x8FD0;&#x884C;&#x6240;&#x9700;&#x5E94;&#x7528;&#x8FDB;&#x7A0B;;</p>
<p>2&#x3001;&#x800C;&#x5BB9;&#x5668;&#x5185;&#x7684;&#x5E94;&#x7528;&#x8FDB;&#x7A0B;&#x76F4;&#x63A5;&#x8FD0;&#x884C;&#x4E8E;&#x5BBF;&#x4E3B;&#x7684;&#x5185;&#x6838;&#xFF0C;&#x5BB9;&#x5668;&#x5185;&#x6CA1;&#x6709;&#x81EA;&#x5DF1;&#x7684;&#x5185;&#x6838;&#xFF0C;<strong>&#x800C;&#x4E14;&#x4E5F;&#x6CA1;&#x6709;&#x8FDB;&#x884C;&#x786C;&#x4EF6;&#x865A;&#x62DF;</strong>&#x3002;&#x56E0;&#x6B64;&#x5BB9;&#x5668;&#x8981;&#x6BD4;&#x4F20;&#x7EDF;&#x865A;&#x62DF;&#x673A;&#x4E3A;&#x8F7B;&#x4FBF;&#x3002;</p>
<p>3&#x3001;&#x6BCF;&#x4E2A;&#x5BB9;&#x5668;&#x4E4B;&#x95F4;&#x4E92;&#x76F8;&#x9694;&#x79BB;&#xFF0C;&#x6BCF;&#x4E2A;&#x5BB9;&#x5668;&#x6709;&#x81EA;&#x5DF1;&#x7684;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#xFF0C;&#x5BB9;&#x5668;&#x4E4B;&#x95F4;&#x8FDB;&#x7A0B;&#x4E0D;&#x4F1A;&#x76F8;&#x4E92;&#x5F71;&#x54CD;&#xFF0C;&#x80FD;&#x533A;&#x5206;&#x8BA1;&#x7B97;&#x8D44;&#x6E90;&#x3002;</p>
<h4 id="&#x5F00;&#x53D1;&#x8FD0;&#x7EF4;devops">&#x5F00;&#x53D1;/&#x8FD0;&#x7EF4;(DevOps)</h4>
<p>&#x4E00;&#x6B21;&#x6784;&#x5EFA;&#x3001;&#x968F;&#x5904;&#x8FD0;&#x884C;&#xFF0C;</p>
<h5 id="&#x66F4;&#x5FEB;&#x901F;&#x7684;&#x5E94;&#x7528;&#x4EA4;&#x4ED8;&#x548C;&#x90E8;&#x7F72;">&#x66F4;&#x5FEB;&#x901F;&#x7684;&#x5E94;&#x7528;&#x4EA4;&#x4ED8;&#x548C;&#x90E8;&#x7F72;</h5>
<p>&#x200B;        &#x4F20;&#x7EDF;&#x7684;&#x5E94;&#x7528;&#x5F00;&#x53D1;&#x5B8C;&#x6210;&#x540E;&#xFF0C;&#x9700;&#x8981;&#x63D0;&#x4F9B;&#x4E00;&#x5806;&#x5B89;&#x88C5;&#x7A0B;&#x5E8F;&#x548C;&#x914D;&#x7F6E;&#x8BF4;&#x660E;&#x6587;&#x6863;&#xFF0C;&#x5B89;&#x88C5;&#x90E8;&#x7F72;&#x540E;&#x9700;&#x6839;&#x636E;&#x914D;&#x7F6E;&#x6587;&#x6863;&#x8FDB;&#x884C;&#x7E41;&#x6742;&#x7684;&#x914D;&#x7F6E;&#x624D;&#x80FD;&#x6B63;&#x5E38;&#x8FD0;&#x884C;&#x3002;Docker&#x5316;
&#x4E4B;&#x540E;&#x53EA;&#x9700;&#x8981;&#x4EA4;&#x4ED8;&#x5C11;&#x91CF;&#x5BB9;&#x5668;&#x955C;&#x50CF;&#x6587;&#x4EF6;&#xFF0C;&#x5728;&#x6B63;&#x5F0F;&#x751F;&#x4EA7;&#x73AF;&#x5883;&#x52A0;&#x8F7D;&#x955C;&#x50CF;&#x5E76;&#x8FD0;&#x884C;&#x5373;&#x53EF;&#xFF0C;&#x5E94;&#x7528;&#x5B89;&#x88C5;&#x914D;&#x7F6E;&#x5728;&#x955C;&#x50CF;&#x91CC;&#x5DF2;&#x7ECF;&#x5185;&#x7F6E;&#x597D;&#xFF0C;&#x5927;&#x5927;&#x8282;&#x7701;&#x90E8;&#x7F72;&#x914D;&#x7F6E;&#x548C;&#x6D4B;
&#x8BD5;&#x9A8C;&#x8BC1;&#x65F6;&#x95F4;&#x3002;</p>
<h5 id="&#x66F4;&#x4FBF;&#x6377;&#x7684;&#x5347;&#x7EA7;&#x548C;&#x6269;&#x7F29;&#x5BB9;">&#x66F4;&#x4FBF;&#x6377;&#x7684;&#x5347;&#x7EA7;&#x548C;&#x6269;&#x7F29;&#x5BB9;</h5>
<p>&#x200B;        &#x968F;&#x7740;&#x5FAE;&#x670D;&#x52A1;&#x67B6;&#x6784;&#x548C;Docker&#x7684;&#x53D1;&#x5C55;&#xFF0C;&#x5927;&#x91CF;&#x7684;&#x5E94;&#x7528;&#x4F1A;&#x901A;&#x8FC7;&#x5FAE;&#x670D;&#x52A1;&#x65B9;&#x5F0F;&#x67B6;&#x6784;&#xFF0C;&#x5E94;&#x7528;&#x7684;&#x5F00;&#x53D1;&#x6784;&#x5EFA;&#x5C06;&#x53D8;&#x6210;&#x642D;&#x4E50;&#x9AD8;&#x79EF;&#x6728;&#x4E00;&#x6837;&#xFF0C;&#x6BCF;&#x4E2A;Docker&#x5BB9;&#x5668;&#x5C06;&#x53D8;&#x6210;-&#x5757;&#x201C;&#x79EF;&#x6728;&#x201D;&#xFF0C;&#x5E94;&#x7528;&#x7684;&#x5347;&#x7EA7;&#x5C06;&#x53D8;&#x5F97;&#x975E;&#x5E38;&#x5BB9;&#x6613;&#x3002;&#x5F53;&#x73B0;&#x6709;&#x7684;&#x5BB9;&#x5668;&#x4E0D;&#x8DB3;&#x4EE5;&#x652F;&#x6491;&#x4E1A;&#x52A1;&#x5904;&#x7406;&#x65F6;&#xFF0C;&#x53EF;&#x901A;&#x8FC7;&#x955C;&#x50CF;&#x8FD0;&#x884C;&#x65B0;&#x7684;&#x5BB9;&#x5668;&#x8FDB;&#x884C;&#x5FEB;&#x901F;&#x6269;&#x5BB9;&#xFF0C;&#x4F7F;&#x5E94;&#x7528;&#x7CFB;&#x7EDF;&#x7684;&#x6269;&#x5BB9;&#x4ECE;&#x539F;&#x5148;&#x7684;&#x5929;&#x7EA7;&#x53D8;&#x6210;&#x5206;&#x949F;&#x7EA7;&#x751A;&#x81F3;&#x79D2;&#x7EA7;&#x3002;</p>
<h5 id="&#x66F4;&#x7B80;&#x5355;&#x7684;&#x7CFB;&#x7EDF;&#x8FD0;&#x7EF4;">&#x66F4;&#x7B80;&#x5355;&#x7684;&#x7CFB;&#x7EDF;&#x8FD0;&#x7EF4;</h5>
<p>&#x200B;        &#x5E94;&#x7528;&#x5BB9;&#x5668;&#x5316;&#x8FD0;&#x884C;&#x540E;&#xFF0C;&#x751F;&#x4EA7;&#x73AF;&#x5883;&#x8FD0;&#x884C;&#x7684;&#x5E94;&#x7528;&#x53EF;&#x4E0E;&#x5F00;&#x53D1;&#x3001;&#x6D4B;&#x8BD5;&#x73AF;&#x5883;&#x7684;&#x5E94;&#x7528;&#x9AD8;&#x5EA6;--&#x81F4;&#xFF0C;&#x5BB9;&#x5668;&#x4F1A;&#x5C06;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x76F8;&#x5173;&#x7684;&#x73AF;&#x5883;&#x548C;&#x72B6;&#x6001;&#x5B8C;&#x5168;&#x5C01;&#x88C5;&#x8D77;&#x6765;&#xFF0C;&#x4E0D;&#x4F1A;&#x56E0;&#x4E3A;&#x5E95;&#x5C42;&#x57FA;&#x7840;&#x67B6;&#x6784;&#x548C;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x7684;&#x4E0D;&#x4E00;&#x81F4;&#x6027;&#x7ED9;&#x5E94;&#x7528;&#x5E26;&#x6765;&#x5F71;&#x54CD;&#xFF0C;&#x4EA7;&#x751F;&#x65B0;&#x7684;BUG&#x3002;&#x5F53;&#x51FA;&#x73B0;&#x7A0B;&#x5E8F;&#x5F02;&#x5E38;&#x65F6;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x6D4B;&#x8BD5;&#x73AF;&#x5883;&#x7684;&#x76F8;&#x540C;&#x5BB9;&#x5668;&#x8FDB;&#x884C;&#x5FEB;&#x901F;&#x5B9A;&#x4F4D;&#x548C;&#x4FEE;&#x590D;&#x3002;</p>
<h5 id="&#x66F4;&#x9AD8;&#x6548;&#x7684;&#x8BA1;&#x7B97;&#x8D44;&#x6E90;&#x5229;&#x7528;">&#x66F4;&#x9AD8;&#x6548;&#x7684;&#x8BA1;&#x7B97;&#x8D44;&#x6E90;&#x5229;&#x7528;</h5>
<p>&#x200B;    <strong>Docker&#x662F;&#x5185;&#x6838;&#x7EA7;&#x865A;&#x62DF;&#x5316;</strong>&#xFF0C;&#x5176;&#x4E0D;&#x50CF;&#x4F20;&#x7EDF;&#x7684;&#x865A;&#x62DF;&#x5316;&#x6280;&#x672F;&#x4E00;&#x6837; &#x9700;&#x8981;&#x989D;&#x5916;&#x7684;Hypervisor&#x652F;&#x6301;&#xFF0C;&#x6240;&#x4EE5;&#x5728;-&#x53F0;&#x7269;&#x7406;&#x673A;&#x4E0A;&#x53EF;&#x4EE5;&#x8FD0;&#x884C;&#x5F88;&#x591A;&#x4E2A;&#x5BB9;&#x5668;&#x5B9E;&#x4F8B;&#xFF0C;&#x53EF;&#x5927;&#x5927;&#x63D0;&#x5347;&#x7269;&#x7406;&#x670D;&#x52A1;&#x5668;&#x7684;CPU&#x548C;&#x5185;&#x5B58;&#x7684;&#x5229;&#x7528;&#x7387;&#x3002;</p>
<h4 id="&#x4F01;&#x4E1A;&#x7EA7;">&#x4F01;&#x4E1A;&#x7EA7;</h4>
<p>&#x65B0;&#x6D6A;</p>
<p><img src="image/Snipaste_2020-10-02_18-30-08.png" alt=""></p>
<p>&#x7F8E;&#x56E2;</p>
<p><img src="image/Snipaste_2020-10-02_18-30-56.png" alt=""></p>
<p>&#x8611;&#x83C7;&#x8857;</p>
<p><img src="image/Snipaste_2020-10-02_18-31-11.png" alt=""></p>
<h4 id="&#x53BB;&#x54EA;&#x4E0B;">&#x53BB;&#x54EA;&#x4E0B;</h4>
<h5 id="1&#x3001;&#x5B98;&#x7F51;">1&#x3001;&#x5B98;&#x7F51;</h5>
<p>docker&#x5B98;&#x7F51;&#xFF1A; <a href="https://www.docker.com/" target="_blank">https://www.docker.com/</a></p>
<p>docker&#x4E2D;&#x6587;&#x7F51;&#x7AD9;: <a href="https://www.docker-cn.com/" target="_blank">https://www.docker-cn.com/</a></p>
<h5 id="2&#x3001;&#x4ED3;&#x5E93;">2&#x3001;&#x4ED3;&#x5E93;</h5>
<p>Docker Hub&#x5B98;&#x7F51;&#xFF1A;<a href="https://hub.docker.com/" target="_blank">https://hub.docker.com/</a></p>
<h1 id="&#x7B2C;&#x4E8C;&#x7AE0;-docker&#x5B89;&#x88C5;">&#x7B2C;&#x4E8C;&#x7AE0; Docker&#x5B89;&#x88C5;</h1>
<h3 id="&#x524D;&#x63D0;&#x8BF4;&#x660E;">&#x524D;&#x63D0;&#x8BF4;&#x660E;</h3>
<p><strong>CentOS Docker&#x5B89;&#x88C5;</strong>
Docker&#x652F;&#x6301;&#x4EE5;&#x4E0B;&#x7684;CentOS&#x7248;&#x672C;:
CentOS 7 (64-bit)
CentOS 6.5 (64-bit)&#x6216;&#x66F4;&#x9AD8;&#x7684;&#x7248;&#x672C;</p>
<p><strong>&#x524D;&#x63D0;&#x6761;&#x4EF6;</strong>
&#x76EE;&#x524D;&#xFF0C;CentOS &#x4EC5;&#x53D1;&#x884C;&#x7248;&#x672C;&#x4E2D;&#x7684;&#x5185;&#x6838;&#x652F;&#x6301;Docker&#x3002;
Docker&#x8FD0;&#x884C;&#x5728;CentOS 7.&#x4E0A;&#xFF0C;&#x8981;&#x6C42;&#x7CFB;&#x7EDF;&#x4E3A;64&#x4F4D;&#x3001;&#x7CFB;&#x7EDF;&#x5185;&#x6838;&#x7248;&#x672C;&#x4E3A;3.10&#x4EE5;&#x4E0A;&#x3002;
Docker&#x8FD0;&#x884C;&#x5728;CentOS-6.5&#x6216;&#x66F4;&#x9AD8;&#x7684;&#x7248;&#x672C;&#x7684;CentOS&#x4E0A;&#xFF0C;&#x8981;&#x6C42;&#x7CFB;&#x7EDF;&#x4E3A;64&#x4F4D;&#x3001;&#x7CFB;<strong>&#x7EDF;&#x5185;&#x6838;&#x7248;&#x672C;&#x4E3A;2.6.32-431&#x6216;&#x8005;&#x66F4;&#x9AD8;&#x7248;&#x672C;&#x3002;</strong></p>
<p><img src="image/Snipaste_2020-10-02_18-46-16.png" alt=""></p>
<h3 id="docker-&#x7684;&#x57FA;&#x672C;&#x7EC4;&#x6210;">Docker &#x7684;&#x57FA;&#x672C;&#x7EC4;&#x6210;</h3>
<h4 id="docker&#x67B6;&#x6784;&#x56FE;">docker&#x67B6;&#x6784;&#x56FE;</h4>
<p><img src="../../architecture.svg" alt=""></p>
<h4 id="&#x955C;&#x50CF;-image-">&#x955C;&#x50CF;( image )</h4>
<p>Docker&#x955C;&#x50CF;(lmage)&#x5C31;&#x662F;-&#x4E00;&#x4E2A;&#x53EA;&#x8BFB;&#x7684;&#x6A21;&#x677F;&#x3002;&#x955C;&#x50CF;&#x53EF;&#x4EE5;&#x7528;&#x6765;&#x521B;&#x5EFA;Docker&#x5BB9;&#x5668;&#xFF0C;&#x4E2A;&#x955C;&#x50CF;&#x53EF;&#x4EE5;&#x521B;&#x5EFA;&#x5F88;&#x591A;&#x5BB9;&#x5668;</p>
<p><img src="image/Snipaste_2020-10-02_19-39-12.png" alt=""></p>
<h4 id="&#x5BB9;&#x5668;-container">&#x5BB9;&#x5668;( container)</h4>
<p>Docker&#x5229;&#x7528;&#x5BB9;&#x5668;(Container) &#x72EC;&#x7ACB;&#x8FD0;&#x884C;&#x7684;&#x4E00;&#x4E2A;&#x6216;&#x4E00;&#x7EC4;&#x5E94;&#x7528;&#x3002;<strong>&#x5BB9;&#x5668;&#x662F;&#x7528;&#x955C;&#x50CF;&#x521B;&#x5EFA;&#x7684;&#x8FD0;&#x884C;&#x5B9E;&#x4F8B;&#x3002;</strong>
&#x5B83;&#x53EF;&#x4EE5;&#x88AB;&#x542F;&#x52A8;&#x3001;&#x5F00;&#x59CB;&#x3001;&#x505C;&#x6B62;&#x3001;&#x5220;&#x9664;&#x3002;&#x6BCF;&#x4E2A;&#x5BB9;&#x5668;&#x90FD;&#x662F;&#x76F8;&#x4E92;&#x9694;&#x79BB;&#x7684;&#x3001;&#x4FDD;&#x8BC1;&#x5B89;&#x5168;&#x7684;&#x5E73;&#x53F0;&#x3002;
<strong>&#x53EF;&#x4EE5;&#x628A;&#x5BB9;&#x5668;&#x770B;&#x505A;&#x662F;&#x4E00;&#x4E2A;&#x7B80; &#x6613;&#x7248;&#x7684;Linux&#x73AF;&#x5883;</strong>(&#x5305;&#x62EC;root&#x7528;&#x6237;&#x6743;&#x9650;&#x3001;&#x8FDB;&#x7A0B;&#x7A7A;&#x95F4;&#x3001;&#x7528;&#x6237;&#x7A7A;&#x95F4;&#x548C;&#x7F51;&#x7EDC;&#x7A7A;&#x95F4;&#x7B49;)&#x548C;&#x8FD0;&#x884C;&#x5728;&#x5176;&#x4E2D;&#x7684;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x3002;
&#x5BB9;&#x5668;&#x7684;&#x5B9A;&#x4E49;&#x548C;&#x955C;&#x50CF;&#x51E0;&#x4E4E;&#x4E00;&#x6A21;&#x4E00;&#x6837;&#xFF0C;&#x4E5F;&#x662F;&#x4E00;&#x5806;&#x5C42;&#x7684;&#x7EDF;&#x4E00;&#x89C6;&#x89D2;&#xFF0C; &#x552F;- -&#x533A;&#x522B;&#x5728;&#x4E8E;&#x5BB9;&#x5668;&#x7684;&#x6700;&#x4E0A;&#x9762;&#x90A3;-&#x5C42;&#x662F;&#x53EF;&#x8BFB;&#x53EF;&#x5199;&#x7684;&#x3002;</p>
<h4 id="&#x4ED3;&#x5E93;-repository">&#x4ED3;&#x5E93;( repository)</h4>
<p>&#x4ED3;&#x5E93;(<strong>Repository</strong>) &#x662F;<strong>&#x96C6;&#x4E2D;&#x5B58;&#x653E;&#x955C;&#x50CF;</strong>&#x6587;&#x4EF6;&#x7684;&#x573A;&#x6240;&#x3002;
&#x4ED3;&#x5E93;(<strong>Repository</strong>)&#x548C;&#x4ED3;&#x5E93;&#x6CE8;&#x518C;&#x670D;&#x52A1;&#x5668;(<strong>Registry</strong>) &#x662F;&#x6709;&#x533A;&#x522B;&#x7684;&#x3002;&#x4ED3;&#x5E93;&#x6CE8;&#x518C;&#x670D;&#x52A1;&#x5668;&#x4E0A;&#x5F80;&#x5F80;&#x5B58;&#x653E;&#x7740;&#x591A;&#x4E2A;&#x4ED3;&#x5E93;&#xFF0C;&#x6BCF;&#x4E2A;&#x4ED3;&#x5E93;&#x4E2D;&#x53C8;&#x5305;&#x542B;&#x4E86;&#x591A;&#x955C;&#x50CF;&#xFF0C;
&#x6BCF;&#x4E2A;&#x955C;&#x50CF;&#x6709;&#x4E0D;&#x540C;&#x7684;&#x6807;&#x7B7E;(tag) &#x3002;</p>
<p>&#x4ED3;&#x5E93;&#x5206;&#x4E3A;&#x516C;&#x5F00;&#x4ED3;&#x5E93;(<strong>Public</strong>) &#x548C;&#x79C1;&#x6709;&#x4ED3;&#x5E93;(<strong>Private</strong>) &#x4E24;&#x79CD;&#x5F62;&#x5F0F;&#x3002;
<strong>&#x6700;&#x5927;&#x7684;&#x516C;&#x5F00;&#x4ED3;&#x5E93;&#x662F;Docker Hub(ttps://hub. docker.com/)</strong>
&#x5B58;&#x653E;&#x4E86;&#x6570;&#x91CF;&#x5E9E;&#x5927;&#x7684;&#x955C;&#x50CF;&#x4F9B;&#x7528;&#x6237;&#x4E0B;&#x8F7D;&#x3002;&#x56FD;&#x5185;&#x7684;&#x516C;&#x5F00;&#x4ED3;&#x5E93;&#x5305;&#x62EC;&#x963F;&#x91CC;&#x4E91;&#x3001;&#x7F51;&#x6613;&#x4E91;&#x7B49;</p>
<h4 id="&#x5C0F;&#x603B;&#x7ED3;-">&#x5C0F;&#x603B;&#x7ED3; ()</h4>
<p>&#x9700;&#x8981;&#x6B63;&#x786E;&#x7684;&#x7406;&#x89E3;&#x4ED3;&#x50A8;/&#x955C;&#x50CF;/&#x5BB9;&#x5668;&#x8FD9;&#x51E0;&#x4E2A;&#x6982;&#x5FF5;:</p>
<p>Docker&#x672C;&#x8EAB;&#x662F;&#x4E00;&#x4E2A;&#x5BB9;&#x5668;&#x8FD0;&#x884C;&#x8F7D;&#x4F53;&#x6216;&#x79F0;&#x4E4B;&#x4E3A;&#x7BA1;&#x7406;&#x5F15;&#x64CE;&#x3002;&#x6211;&#x4EEC;&#x628A;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x548C;&#x914D;&#x7F6E;&#x4F9D;&#x8D56;&#x6253;&#x5305;&#x597D;&#x5F62;&#x6210;&#x4E00;-&#x4E2A;&#x53EF;&#x4EA4;&#x4ED8;&#x7684;&#x8FD0;&#x884C;&#x73AF;&#x5883;&#xFF0C;&#x8FD9;&#x4E2A;&#x6253;&#x597D;&#x7684;&#x8FD0;&#x884C;&#x73AF;&#x5883;&#x5C31;&#x4F3C;&#x4E4E;image&#x955C;&#x50CF;&#x6587;&#x4EF6;&#x3002;&#x53EA;&#x6709;&#x901A;&#x8FC7;&#x8FD9;&#x4E2A;&#x955C;&#x50CF;&#x6587;&#x4EF6;&#x624D;&#x80FD;&#x751F;&#x6210;Docker&#x5BB9;&#x5668;&#x3002;image&#x6587;&#x4EF6;&#x53EF;&#x4EE5;&#x770B;&#x4F5C;&#x662F;&#x5BB9;&#x5668;&#x7684;&#x6A21;&#x677F;&#x3002;Docker&#x6839;&#x636E;image&#x6587;&#x4EF6;&#x751F;&#x6210;&#x5BB9;&#x5668;&#x7684;&#x5B9E;&#x4F8B;&#x3002;&#x540C;&#x4E00;&#x4E2A;image&#x6587;&#x4EF6;&#xFF0C;&#x53EF;&#x4EE5;&#x751F;&#x6210;&#x591A;&#x4E2A;&#x540C;&#x65F6;&#x8FD0;&#x884C;&#x7684;&#x5BB9;&#x5668;&#x5B9E;&#x4F8B;&#x3002;</p>
<p>image&#x6587;&#x4EF6;&#x751F;&#x6210;&#x7684;&#x5BB9;&#x5668;&#x5B9E;&#x4F8B;&#xFF0C;&#x672C;&#x8EAB;&#x4E5F;&#x662F;&#x4E00;&#x4E00;&#x4E2A;&#x6587;&#x4EF6;&#xFF0C;&#x79F0;&#x4E3A;&#x955C;&#x50CF;&#x6587;&#x4EF6;&#x3002;</p>
<p>&#x4E00;&#x4E2A;&#x5BB9;&#x5668;&#x8FD0;&#x884C;&#x4E00;&#x79CD;&#x670D;&#x52A1;&#xFF0C;&#x5F53;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x5C31;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;docker&#x5BA2;&#x6237;&#x7AEF;&#x521B;&#x5EFA;&#x4E00;-&#x4E2A;&#x5BF9;&#x5E94;&#x7684;&#x8FD0;&#x884C;&#x5B9E;&#x4F8B;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x6211;&#x4EEC;&#x7684;&#x5BB9;&#x5668;&#x81F3;&#x4E8E;&#x4ED3;&#x50A8;&#xFF0C;&#x5C31;&#x662F;&#x653E;&#x4E86;&#x4E00;&#x5806;&#x955C;&#x50CF;&#x7684;&#x5730;&#x65B9;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x628A;&#x955C;&#x50CF;&#x53D1;&#x5E03;&#x5230;&#x4ED3;&#x50A8;&#x4E2D;&#xFF0C;&#x9700;&#x8981;&#x7684;&#x65F6;&#x5019;&#x4ECE;&#x4ED3;&#x50A8;&#x4E2D;&#x62C9;&#x4E0B;&#x6765;&#x5C31;&#x53EF;&#x4EE5;&#x4E86;&#x3002;|</p>
<h3 id="&#x5B89;&#x88C5;&#x6B65;&#x9AA4;">&#x5B89;&#x88C5;&#x6B65;&#x9AA4;</h3>
<h4 id="centos68&#x5B89;&#x88C5;docker">Centos6.8&#x5B89;&#x88C5;Docker</h4>
<p>1&#x3001;yum install -y epel-release</p>
<p><img src="image/Snipaste_2020-10-02_19-48-53.png" alt=""></p>
<p>2&#x3001;yum install -y docker-io</p>
<p><img src="image/Snipaste_2020-10-02_19-49-37.png" alt=""></p>
<p>3&#x3001;&#x5B89;&#x88C5;&#x540E;&#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#xFF1A; etc/sysconfig/docker</p>
<p><img src="image/Snipaste_2020-10-02_19-50-17.png" alt=""></p>
<p>4&#x3001;&#x542F;&#x52A8; Docker&#x540E;&#x53F0;&#x670D;&#x52A1;: service docker start</p>
<p>5&#x3001;docker version &#x9A8C;&#x8BC1;</p>
<h4 id="centos70&#x5B89;&#x88C5;docker">Centos7.0&#x5B89;&#x88C5;Docker</h4>
<p><a href="https://docs.docker.com/engine/install/centos/" target="_blank">https://docs.docker.com/engine/install/centos/</a></p>
<h3 id="&#x6C38;&#x8FDC;&#x7684;helloworld">&#x6C38;&#x8FDC;&#x7684;helloworld</h3>
<h4 id="&#x963F;&#x91CC;&#x4E91;&#x955C;&#x50CF;&#x52A0;&#x901F;">&#x963F;&#x91CC;&#x4E91;&#x955C;&#x50CF;&#x52A0;&#x901F;</h4>
<p>&#x662F;&#x4EC0;&#x4E48;</p>
<p>&#x200B;    <a href="https://promotion.aliyun.com/ntms/act/kubernetes.html" target="_blank">https://promotion.aliyun.com/ntms/act/kubernetes.html</a></p>
<p>&#x6CE8;&#x518C;&#x4E00;&#x4E2A;&#x5C5E;&#x4E8E;&#x81EA;&#x5DF1;&#x7684;&#x963F;&#x91CC;&#x4E91;&#x8D26;&#x6237;( &#x53EF;&#x590D;&#x7528;&#x6DD8;&#x5B9D;&#x8D26;&#x53F7;)</p>
<p>&#x83B7;&#x5F97;&#x52A0;&#x901F;&#x5668;&#x5730;&#x5740;&#x8FDE;&#x63A5;</p>
<p>&#x200B;    &#x767B;&#x5F55;&#x963F;&#x91CC;&#x4E91;&#x5F00;&#x53D1;&#x8005;&#x5E73;&#x53F0;</p>
<p>&#x200B;    &#x83B7;&#x53D6;&#x52A0;&#x901F;&#x5668;&#x5730;&#x5740;</p>
<p>&#x914D;&#x7F6E;&#x672C;&#x673A;Docker&#x8FD0;&#x884C;&#x955C;&#x50CF;&#x52A0;&#x901F;&#x5668;</p>
<p>&#x200B;    &#x9274;&#x4E8E;&#x56FD;&#x5185;&#x7F51;&#x7EDC;&#x95EE;&#x9898;&#xFF0C;&#x540E;&#x7EED;&#x62C9;&#x53D6;Docker&#x955C;&#x50CF;&#x5341;&#x5206;&#x7F13;&#x6162;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x9700;&#x8981;&#x914D;&#x7F6E;&#x52A0;&#x901F;&#x5668;&#x6765;&#x89E3;&#x51B3;&#xFF0C;
&#x6211;&#x4F7F;&#x7528;&#x7684;&#x662F;&#x963F;&#x91CC;&#x4E91;&#x7684;&#x672C;&#x4EBA;&#x81EA;&#x5DF1;&#x8D26;&#x53F7;&#x7684;&#x955C;&#x50CF;&#x5730;&#x5740;(&#x9700;&#x8981;&#x81EA;&#x5DF1;&#x6CE8;&#x518C;&#x6709;&#x4E00;&#x4E2A;&#x5C5E;&#x4E8E;&#x4F60;&#x81EA;&#x5DF1;&#x7684;): ht:po/. mirror aliyuncns .com</p>
<ul>
<li>vim /etc/sysconfig/docker
&#x5C06;&#x83B7;&#x5F97;&#x7684;&#x81EA;&#x5DF1;&#x8D26;&#x6237;&#x4E0B;&#x7684;&#x963F;&#x91CC;&#x4E91;&#x52A0;&#x901F;&#x5730;&#x5740;&#x914D;&#x7F6E;&#x8FDB;
other_ args-=&quot;--registry-mirror=<a href="https://&#x4F60;&#x81EA;" target="_blank">https://&#x4F60;&#x81EA;</a> &#x5DF1;&#x7684;&#x8D26;&#x53F7;&#x52A0;&#x901F;&#x4FE1;&#x606F;.mirror .aliyuncs.com</li>
</ul>
<p><img src="image/Snipaste_2020-10-02_20-19-10.png" alt=""></p>
<p>&#x91CD;&#x65B0;&#x542F;&#x52A8; Docker &#x540E;&#x53F0;&#x670D;&#x52A1;&#xFF1A;service docker restart</p>
<p>Linux&#x7CFB;&#x7EDF;&#x4E0B;&#x914D;&#x7F6E;&#x5B8C;&#x52A0;&#x901F;&#x5668;&#x9700;&#x8981;&#x68C0;&#x67E5;&#x662F;&#x5426;&#x751F;&#x6548;</p>
<h4 id="&#x7F51;&#x6613;&#x4E91;&#x52A0;&#x901F;">&#x7F51;&#x6613;&#x4E91;&#x52A0;&#x901F;</h4>
<p>&#x57FA;&#x672C;&#x4E0A;&#x540C;&#x4E0A;&#x8FF0;&#x963F;&#x91CC;&#x4E91;</p>
<p>&#x542F;&#x52A8;Docker&#x540E;&#x53F0;&#x5BB9;&#x5668;(&#x6D4B;&#x8BD5;&#x8FD0;&#x884C; hello-world )</p>
<p>&#x200B;    docker run hello world</p>
<p><img src="image/Snipaste_2020-10-03_10-54-57.png" alt=""></p>
<p>run&#x5E72;&#x4E86;&#x4EC0;&#x4E48;</p>
<p><img src="image/Snipaste_2020-10-03_10-55-24.png" alt=""></p>
<h3 id="&#x5E95;&#x5C42;&#x539F;&#x7406;">&#x5E95;&#x5C42;&#x539F;&#x7406;</h3>
<h4 id="docker&#x662F;&#x600E;&#x6837;&#x5DE5;&#x4F5C;&#x7684;">Docker&#x662F;&#x600E;&#x6837;&#x5DE5;&#x4F5C;&#x7684;</h4>
<p>Docker&#x662F;&#x4E00;&#x4E2A;Client-Server&#x7ED3;&#x6784;&#x7684;&#x7CFB;&#x7EDF;&#xFF0C;Docker&#x5B88; &#x62A4;&#x8FDB;&#x7A0B;&#x8FD0;&#x884C;&#x5728;&#x4E3B;&#x673A;&#x4E0A;&#xFF0C;&#x7136;&#x540E;&#x901A;&#x8FC7;Socket&#x8FDE; &#x63A5;&#x4ECE;&#x5BA2;&#x6237;&#x7AEF;&#x8BBF;&#x95EE;&#xFF0C;&#x5B88;&#x62A4;&#x8FDB;&#x7A0B;&#x4ECE;&#x5BA2;&#x6237;&#x7AEF;&#x63A5;&#x53D7;&#x547D;&#x4EE4;&#x5E76;&#x7BA1;&#x7406;&#x8FD0;&#x884C;&#x5728;&#x4E3B;&#x673A;&#x4E0A;&#x7684;&#x5BB9;&#x5668;&#x3002;<strong>&#x5BB9;&#x5668;&#xFF0C;&#x662F;&#x4E00;&#x4E2A;&#x8FD0;&#x884C;&#x65F6;&#x73AF;&#x5883;&#xFF0C;&#x5C31;&#x662F;&#x6211;&#x4EEC;&#x524D;&#x9762;&#x8BF4;&#x5230;&#x7684;&#x96C6;&#x88C5;&#x7BB1;&#x3002;</strong></p>
<p><img src="image/Snipaste_2020-10-03_10-58-47.png" alt=""></p>
<h4 id="&#x4E3A;&#x4EC0;&#x4E48;docker&#x6BD4;&#x8F83;&#x6BD4;vm&#x5FEB;">&#x4E3A;&#x4EC0;&#x4E48;Docker&#x6BD4;&#x8F83;&#x6BD4;vm&#x5FEB;</h4>
<p>1&#x3001;<strong>docker</strong>&#x6709;&#x7740;&#x6BD4;&#x865A;&#x62DF;&#x673A;&#x66F4;&#x5C11;&#x7684;&#x62BD;&#x8C61;&#x5C42;&#x3002;&#x7531;&#x4E8D;docker&#x4E0D;&#x9700;&#x8981;<strong>Hypervisor</strong>&#x5B9E;&#x73B0;&#x786C;&#x4EF6;&#x8D44;&#x6E90;&#x865A;&#x62DF;&#x5316;,&#x8FD0;&#x884C;&#x5728;docker&#x5BB9;&#x5668;&#x4E0A;&#x7684;&#x7A0B;&#x5E8F;&#x76F4;&#x63A5;&#x4F7F;&#x7528;&#x7684;&#x90FD;&#x662F;&#x5B9E;&#x9645;&#x7269;&#x7406;&#x673A;&#x7684;&#x786C;&#x4EF6;&#x8D44;&#x6E90;&#x3002;&#x56E0;&#x6B64;&#x5728;CPU&#x3001;&#x5185;&#x5B58;&#x5229;&#x7528;&#x7387;&#x4E0A;docker&#x5C06;&#x4F1A;&#x5728;&#x6548;&#x7387;&#x4E0A;&#x6709;&#x660E;&#x663E;&#x4F18;&#x52BF;&#x3002;
2&#x3001;<strong>docker</strong>&#x5229;&#x7528;&#x7684;&#x662F;&#x5BBF;&#x4E3B;&#x673A;&#x7684;&#x5185;&#x6838;,&#x800C;&#x4E0D;&#x9700;&#x8981;<strong>Guest OS</strong>&#x3002;&#x56E0;&#x6B64;,&#x5F53;&#x65B0;&#x5EFA;&#x4E00;&#x4E2A; &#x5BB9;&#x5668;&#x65F6;,docker&#x4E0D;&#x9700;&#x8981;&#x548C;&#x865A;&#x62DF;&#x673A;&#x4E00;&#x6837; &#x91CD;&#x65B0;&#x52A0;&#x8F7D;- - &#x4E2A;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x5185;&#x6838;&#x4ECD;&#x800C;&#x907F;&#x514D;&#x5F15;&#x5BFB;&#x3001;&#x52A0;&#x8F7D;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x5185;&#x6838;&#x8FD4;&#x4E2A;&#x6BD4;&#x8F83;&#x8D39;&#x65F6;&#x8D39;&#x8D44;&#x6E90;&#x7684;&#x8FC7;&#x7A0B;,&#x5F53;&#x65B0;&#x5EFA;--&#x4E2A;&#x865A;&#x62DF;&#x673A;&#x65F6;,&#x865A;&#x62DF;&#x673A;&#x8F6F;&#x4EF6;&#x9700;&#x8981;&#x52A0;&#x8F7D;GuestOS,&#x8FD4;&#x4E2A;&#x65B0;&#x5EFA;&#x8FC7;&#x7A0B;&#x662F;&#x5206;&#x949F;&#x7EA7;&#x522B;&#x7684;&#x3002;&#x800C;docker&#x7531;&#x4E8E;&#x76F4;&#x63A5;&#x5229;&#x7528;&#x5BBF;&#x4E3B;&#x673A;&#x7684;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;,&#x5219;&#x7701;&#x7565;&#x4E86;&#x8FD4;&#x4E2A;&#x8FC7;&#x7A0B;,&#x56E0;&#x6B64;&#x65B0;&#x5EFA;&#x4E00;-&#x4E2A;docker&#x5BB9;&#x5668;&#x53EA;&#x9700;&#x8981;&#x51E0;&#x79D2;&#x949F;&#x3002;</p>
<p><img src="image/Snipaste_2020-10-03_11-00-34.png" alt=""></p>
<h1 id="&#x7B2C;&#x4E09;&#x7AE0;-docker&#x5E38;&#x7528;&#x547D;&#x4EE4;">&#x7B2C;&#x4E09;&#x7AE0; Docker&#x5E38;&#x7528;&#x547D;&#x4EE4;</h1>
<h3 id="&#x5E2E;&#x52A9;&#x547D;&#x4EE4;">&#x5E2E;&#x52A9;&#x547D;&#x4EE4;</h3>
<pre><code class="lang-shell">docker Version

docker info

docker --help
    &#x81EA;&#x5DF1;&#x67E5;&#x770B;&#x5B98;&#x7F51;&#x89E3;&#x91CA;&#xFF0C;&#x9AD8;&#x624B;&#x90FD;&#x662F;&#x81EA;&#x5DF1;&#x7EC3;&#x51FA;&#x6765;&#x7684;&#xFF0C;&#x767E;&#x5EA6;&#x4E0A;&#x53EA;&#x4E0D;&#x8FC7;&#x662F;&#x7FFB;&#x8BD1;&#x4E86;&#x4E0B;&#xFF0C;&#x52A0;&#x4E86;&#x70B9;&#x4F8B;&#x5B50;
</code></pre>
<h3 id="&#x955C;&#x50CF;&#x547D;&#x4EE4;">&#x955C;&#x50CF;&#x547D;&#x4EE4;</h3>
<h4 id="docker-images-&#x5217;&#x51FA;&#x672C;&#x673A;&#x4E0A;&#x7684;&#x955C;&#x50CF;">docker images &#x5217;&#x51FA;&#x672C;&#x673A;&#x4E0A;&#x7684;&#x955C;&#x50CF;</h4>
<h4 id="options-&#x8BF4;&#x660E;&#xFF1A;"><img src="image/Snipaste_2020-10-03_11-09-33.png" alt="">OPTIONS &#x8BF4;&#x660E;&#xFF1A;</h4>
<pre><code class="lang-dockerfile">-a &#x5217;&#x51FA;&#x672C;&#x5730;&#x6240;&#x6709;&#x7684;&#x955C;&#x50CF;(&#x542B;&#x4E2D;&#x95F4;&#x6620;&#x5C04;&#x5C42;)
-q &#x53EA;&#x663E;&#x793A;&#x955C;&#x50CF;ID
--digests &#x663E;&#x793A;&#x955C;&#x50CF;&#x7684;&#x6458;&#x8981;&#x4FE1;&#x606F;
--no-trunc &#x663E;&#x793A;&#x5B8C;&#x6574;&#x7684;&#x955C;&#x50CF;&#x4FE1;&#x606F;
</code></pre>
<h4 id="docker-search-&#x67D0;&#x4E2A;xxx&#x955C;&#x50CF;&#x7684;&#x540D;&#x5B57;">docker search &#x67D0;&#x4E2A;XXX&#x955C;&#x50CF;&#x7684;&#x540D;&#x5B57;</h4>
<p>&#x200B;    &#x7F51;&#x7AD9; www.dockerhub.com</p>
<p>&#x200B;    docker search [OPTIONS] &#x955C;&#x50CF;&#x540D;&#x5B57;</p>
<p>&#x200B;    OPTIONS &#x8BF4;&#x660E;</p>
<pre><code class="lang-dockerfile">--no-trun &#x663E;&#x793A;&#x5B8C;&#x6574;&#x7684;&#x955C;&#x50CF;&#x63CF;&#x8FF0;
-s &#x5217;&#x51FA;&#x6536;&#x85CF;&#x6570;&#x4E0D;&#x5C0F;&#x4E8E;&#x6307;&#x5B9A;&#x503C;&#x7684;&#x955C;&#x50CF;
--automated &#x53EA;&#x5217;&#x51FA; automated build&#x7C7B;&#x578B;&#x7684;&#x955C;&#x50CF;
</code></pre>
<h4 id="docker-pull-&#x67D0;&#x4E2A;&#x955C;&#x50CF;&#x7684;&#x540D;&#x5B57;">docker pull &#x67D0;&#x4E2A;&#x955C;&#x50CF;&#x7684;&#x540D;&#x5B57;</h4>
<p>&#x200B;    &#x4E0B;&#x8F7D;&#x955C;&#x50CF;</p>
<p>&#x200B;     docker pull &#x955C;&#x50CF;&#x540D;&#x5B57;[:TAG]</p>
<h4 id="docker-rmi-&#x67D0;&#x4E2A;xxx&#x955C;&#x50CF;&#x7684;&#x540D;&#x5B57;id">docker rmi &#x67D0;&#x4E2A;XXX&#x955C;&#x50CF;&#x7684;&#x540D;&#x5B57;ID</h4>
<p>&#x200B;    &#x5220;&#x9664;&#x955C;&#x50CF;</p>
<p>&#x200B;    &#x5220;&#x9664;&#x5355;&#x4E2A; docker rm -f &#x955C;&#x50CF;ID</p>
<p>&#x200B;    &#x5220;&#x9664;&#x591A;&#x4E2A; docker rm -f &#x955C;&#x50CF;&#x540D;1:TAG &#x955C;&#x50CF;&#x540D;2:TAG</p>
<p>&#x200B;    &#x5220;&#x9664;&#x591A;&#x4E2A; docker rmi -f ${docker images -qa}</p>
<h3 id="&#x5BB9;&#x5668;&#x547D;&#x4EE4;">&#x5BB9;&#x5668;&#x547D;&#x4EE4;</h3>
<p>&#x6709;&#x955C;&#x50CF;&#x624D;&#x80FD;&#x521B;&#x5EFA;&#x5BB9;&#x5668;&#xFF0C;&#x8FD9;&#x662F;&#x6839;&#x672C;&#x524D;&#x63D0;(&#x4E0B;&#x8F7D;&#x4E00;&#x4E2A;Centos&#x955C;&#x50CF;&#x6F14;&#x793A;)</p>
<p>&#x200B;    docker pull centos</p>
<h4 id="&#x65B0;&#x5EFA;&#x5E76;&#x542F;&#x52A8;&#x5BB9;&#x5668;">&#x65B0;&#x5EFA;&#x5E76;&#x542F;&#x52A8;&#x5BB9;&#x5668;</h4>
<p>&#x200B;    docker run [OPTIONS] IMAGE [COMMAND][ARG]</p>
<p>&#x200B;    OPTIONS &#x8BF4;&#x660E; </p>
<pre><code class="lang-java">OPTIONS&#x8BF4;&#x660E;(&#x5E38;&#x7528;) :&#x6709;&#x4E9B;&#x662F;&#x4E00;&#x4E2A;&#x51CF;&#x53F7;&#xFF0C;&#x6709;&#x4E9B;&#x662F;&#x4E24;&#x4E2A;&#x51CF;&#x53F7;
--name=<span class="hljs-string">&quot;&#x5BB9;&#x5668;&#x65B0;&#x540D;&#x5B57;&quot;</span>:&#x4E3A;&#x5BB9;&#x5668;&#x6307;&#x5B9A;&#x4E00;&#x4E2A;&#x540D;&#x79F0;;
-d:&#x540E;&#x53F0;&#x8FD0;&#x884C;&#x5BB9;&#x5668;&#xFF0C;&#x5E76;&#x8FD4;&#x56DE;&#x5BB9;&#x5668;ID&#xFF0C; &#x4E5F;&#x5373;&#x542F;&#x52A8;&#x5B88;&#x62A4;&#x5F0F;&#x5BB9;&#x5668;;
-i:&#x4EE5;&#x4EA4;&#x4E92;&#x6A21;&#x5F0F;&#x8FD0;&#x884C;&#x5BB9;&#x5668;&#xFF0C;&#x901A;&#x5E38;&#x4E0E;-t&#x540C;&#x65F6;&#x4F7F;&#x7528;;
-t:&#x4E3A;&#x5BB9;&#x5668;&#x91CD;&#x65B0;&#x5206;&#x914D;&#x4E00;&#x4E2A;&#x4F2A;&#x8F93;&#x5165;&#x7EC8;&#x7AEF;&#xFF0C;&#x901A;&#x5E38;&#x4E0E;-i&#x540C;&#x65F6;&#x4F7F;&#x7528;;
-P:&#x968F;&#x673A;&#x7AEF;&#x53E3;&#x6620;&#x5C04;;
-p:&#x6307;&#x5B9A;&#x7AEF;&#x53E3;&#x6620;&#x5C04;&#xFF0C;&#x6709;&#x4EE5;&#x4E0B;&#x56DB;&#x79CD;&#x683C;&#x5F0F;
ip:hostPort:containerPort
ip::containerPort
hostPort:containerPort
containerPort
</code></pre>
<p><img src="image/Snipaste_2020-10-03_11-40-34.png" alt=""></p>
<h4 id="&#x5217;&#x51FA;&#x5F53;&#x524D;&#x6240;&#x6709;&#x6B63;&#x5728;&#x8FD0;&#x884C;&#x7684;&#x5BB9;&#x5668;">&#x5217;&#x51FA;&#x5F53;&#x524D;&#x6240;&#x6709;<strong>&#x6B63;&#x5728;&#x8FD0;&#x884C;</strong>&#x7684;&#x5BB9;&#x5668;</h4>
<p>&#x200B;    dockers ps [OPTIONS]</p>
<pre><code class="lang-JAVA">OPTIONS&#x8BF4;&#x660E;(&#x5E38;&#x7528;) :
-a :&#x5217;&#x51FA;&#x5F53;&#x524D;&#x6240;&#x6709;&#x6B63;&#x5728;&#x8FD0;&#x884C;&#x7684;&#x5BB9;&#x5668;+&#x5386;&#x53F2;&#x4E0A;&#x8FD0;&#x884C;&#x8FC7;&#x7684;
-|:&#x663E;&#x793A;&#x6700;&#x8FD1;&#x521B;&#x5EFA;&#x7684;&#x5BB9;&#x5668;&#x3002;
-n:&#x663E;&#x793A;&#x6700;&#x8FD1;n&#x4E2A;&#x521B;&#x5EFA;&#x7684;&#x5BB9;&#x5668;&#x3002;
-q :&#x9759;&#x9ED8;&#x6A21;&#x5F0F;&#xFF0C;&#x53EA;&#x663E;&#x793A;&#x5BB9;&#x5668;&#x7F16;&#x53F7;&#x3002;
--no-trunc :&#x4E0D;&#x622A;&#x65AD;&#x8F93;&#x51FA;&#x3002;
</code></pre>
<h4 id="&#x9000;&#x51FA;&#x5BB9;&#x5668;">&#x9000;&#x51FA;&#x5BB9;&#x5668;</h4>
<p>&#x4E24;&#x79CD;&#x9000;&#x51FA;&#x65B9;&#x5F0F;</p>
<p>&#x200B;    exit &#x5BB9;&#x5668;&#x505C;&#x6B62;&#x9000;&#x51FA;</p>
<p>&#x200B;    ctrl+P+Q &#x5BB9;&#x5668;&#x4E0D;&#x505C;&#x6B62;&#x9000;&#x51FA;</p>
<h4 id="&#x542F;&#x52A8;&#x5BB9;&#x5668;">&#x542F;&#x52A8;&#x5BB9;&#x5668;</h4>
<p>docker start &#x5BB9;&#x5668;ID&#x6216;&#x5BB9;&#x5668;&#x7B7E;&#x540D;</p>
<h4 id="&#x91CD;&#x542F;&#x5BB9;&#x5668;">&#x91CD;&#x542F;&#x5BB9;&#x5668;</h4>
<p>docker restart &#x5BB9;&#x5668;ID&#x6216;&#x5BB9;&#x5668;&#x7B7E;&#x540D;</p>
<h4 id="&#x505C;&#x6B62;&#x5BB9;&#x5668;">&#x505C;&#x6B62;&#x5BB9;&#x5668;</h4>
<p>docker stop &#x5BB9;&#x5668;ID&#x6216;&#x5BB9;&#x5668;&#x7B7E;&#x540D;</p>
<h4 id="&#x5F3A;&#x5236;&#x505C;&#x6B62;&#x5BB9;&#x5668;">&#x5F3A;&#x5236;&#x505C;&#x6B62;&#x5BB9;&#x5668;</h4>
<p>docker kill &#x5BB9;&#x5668;ID&#x6216;&#x5BB9;&#x5668;&#x7B7E;&#x540D;</p>
<h4 id="&#x5220;&#x9664;&#x5DF2;&#x505C;&#x6B62;&#x7684;&#x5BB9;&#x5668;">&#x5220;&#x9664;&#x5DF2;&#x505C;&#x6B62;&#x7684;&#x5BB9;&#x5668;</h4>
<p>docker rm &#x5BB9;&#x5668;ID  -f</p>
<p>&#x200B;    &#x4E00;&#x6B21;&#x6027;&#x5220;&#x9664;&#x591A;&#x4E2A;&#x5BB9;&#x5668;</p>
<p>&#x200B;    docker rm -f $(docker ps -a -q)</p>
<p>&#x200B;    docker ps -a -q | xargs docker rm</p>
<h3 id="&#x91CD;&#x8981;">&#x91CD;&#x8981;</h3>
<h4 id="&#x542F;&#x52A8;&#x5B88;&#x62A4;&#x5F0F;&#x5BB9;&#x5668;">&#x542F;&#x52A8;&#x5B88;&#x62A4;&#x5F0F;&#x5BB9;&#x5668;</h4>
<h1 id="&#x4F7F;&#x7528;&#x955C;&#x50CF;centoslatest&#x4EE5;&#x540E;&#x53F0;&#x6A21;&#x5F0F;&#x542F;&#x52A8;&#x4E00;&#x4E2A;&#x5BB9;&#x5668;">&#x4F7F;&#x7528;&#x955C;&#x50CF;centos:latest&#x4EE5;&#x540E;&#x53F0;&#x6A21;&#x5F0F;&#x542F;&#x52A8;&#x4E00;&#x4E2A;&#x5BB9;&#x5668;</h1>
<p>docker run -d centos</p>
<p>&#x95EE;&#x9898;:&#x7136;&#x540E;docker ps -a&#x8FDB;&#x884C;&#x67E5;&#x770B;,<strong>&#x4F1A;&#x53D1;&#x73B0;&#x5BB9;&#x5668;&#x5DF2;&#x7ECF;&#x9000;&#x51FA;</strong>
&#x5F88;&#x91CD;&#x8981;&#x7684;&#x8981;&#x8BF4;&#x660E;&#x7684;&#x4E00;&#x70B9;: <strong>Docker&#x5BB9;&#x5668;&#x540E;&#x53F0;&#x8FD0;&#x884C;,&#x5C31;&#x5FC5;&#x987B;&#x6709;&#x4E00;&#x4E2A;&#x524D;&#x53F0;&#x8FDB;&#x7A0B;.</strong>
&#x5BB9;&#x5668;&#x8FD0;&#x884C;&#x7684;&#x547D;&#x4EE4;&#x5982;&#x679C;&#x4E0D;&#x662F;&#x90A3;&#x4E9B;<strong>&#x4E00;&#x76F4;&#x6302;&#x8D77;&#x7684;&#x547D;&#x4EE4;</strong> (&#x6BD4;&#x5982;&#x8FD0;&#x884C;top&#xFF0C;tail) &#xFF0C;&#x5C31;&#x662F;&#x4F1A;&#x81EA;&#x52A8;&#x9000;&#x51FA;&#x7684;&#x3002;
&#x8FD9;&#x4E2A;&#x662F;<strong>docker</strong>&#x7684;&#x673A;&#x5236;&#x95EE;&#x9898;,&#x6BD4;&#x5982;&#x4F60;&#x7684;web&#x5BB9;&#x5668;&#xFF0C;&#x6211;&#x4EEC;&#x4EE5;<strong>nginx</strong>&#x4E3A;&#x4F8B;&#xFF0C;&#x6B63;&#x5E38;&#x60C5;&#x51B5;&#x4E0B;,&#x6211;&#x4EEC;&#x914D;&#x7F6E;&#x542F;&#x52A8;&#x670D;&#x52A1;&#x53EA;&#x9700;&#x8981;&#x542F;&#x52A8;&#x54CD;&#x5E94;&#x7684;<strong>service</strong>&#x5373;&#x53EF;&#x3002;&#x4F8B;&#x5982;
service nginx start
&#x4F46;&#x662F;,&#x8FD9;&#x6837;&#x505A;,<strong>nginx</strong>&#x4E3A;&#x540E;&#x53F0;&#x8FDB;&#x7A0B;&#x6A21;&#x5F0F;&#x8FD0;&#x884C;,&#x5C31;&#x5BFC;&#x81F4;<strong>docker</strong>&#x524D;&#x53F0;&#x6CA1;&#x6709;&#x8FD0;&#x884C;&#x7684;&#x5E94;&#x7528;,&#x8FD9;&#x6837;&#x7684;&#x5BB9;&#x5668;&#x540E;&#x53F0;&#x542F;&#x52A8;&#x540E;&#xFF0C;&#x4F1A;&#x7ACB;&#x5373;&#x81EA;&#x6740;&#x56E0;&#x4E3A;&#x4ED6;&#x89C9;&#x5F97;&#x4ED6;&#x6CA1;&#x4E8B;&#x53EF;&#x505A;&#x4E86;.&#x6240;&#x4EE5;&#xFF0C;&#x6700;&#x4F73;&#x7684;&#x89E3;&#x51B3;&#x65B9;&#x6848;&#x662F;&#x5C06;&#x4F60;&#x8981;&#x8FD0;&#x884C;&#x7684;&#x7A0B;&#x5E8F;&#x4EE5;&#x524D;&#x53F0;&#x8FDB;&#x7A0B;&#x7684;&#x5F62;&#x5F0F;&#x8FD0;&#x884C;</p>
<h4 id="&#x67E5;&#x770B;&#x5BB9;&#x5668;&#x65E5;&#x5FD7;">&#x67E5;&#x770B;&#x5BB9;&#x5668;&#x65E5;&#x5FD7;</h4>
<p>docker logs -f -t --tail &#x5BB9;&#x5668;ID </p>
<p>&#x200B;    -t &#x662F;&#x52A0;&#x5165;&#x65F6;&#x95F4;&#x6233;</p>
<p>&#x200B;    -f &#x8DDF;&#x968F;&#x6700;&#x65B0;&#x7684;&#x65E5;&#x5FD7;&#x6253;&#x5370;</p>
<p>&#x200B;    --tail &#x6570;&#x5B57;&#x663E;&#x793A;&#x6700;&#x540E;&#x591A;&#x5C11;&#x6761;</p>
<h4 id="&#x67E5;&#x770B;&#x5BB9;&#x5668;&#x5185;&#x7684;&#x8FDB;&#x7A0B;">&#x67E5;&#x770B;&#x5BB9;&#x5668;&#x5185;&#x7684;&#x8FDB;&#x7A0B;</h4>
<p>docker top &#x5BB9;&#x5668;ID</p>
<h4 id="&#x67E5;&#x770B;&#x5BB9;&#x5668;&#x5185;&#x90E8;&#x7EC6;&#x8282;">&#x67E5;&#x770B;&#x5BB9;&#x5668;&#x5185;&#x90E8;&#x7EC6;&#x8282;</h4>
<p>docker inspect &#x5BB9;&#x5668;ID</p>
<h4 id="&#x8FDB;&#x5165;&#x6B63;&#x5728;&#x8FD0;&#x884C;&#x7684;&#x5BB9;&#x5668;&#x5E76;&#x4EE5;&#x547D;&#x4EE4;&#x884C;&#x4EA4;&#x4E92;">&#x8FDB;&#x5165;&#x6B63;&#x5728;&#x8FD0;&#x884C;&#x7684;&#x5BB9;&#x5668;&#x5E76;&#x4EE5;&#x547D;&#x4EE4;&#x884C;&#x4EA4;&#x4E92;</h4>
<p>docker exec -it &#x5BB9;&#x5668;ID bashShell</p>
<p><img src="image/Snipaste_2020-10-03_13-23-17.png" alt=""></p>
<p>&#x91CD;&#x65B0;&#x8FDB;&#x5165;docker attach &#x5BB9;&#x5668;ID</p>
<p>&#x4E0A;&#x8FF0;&#x4E24;&#x4E2A;&#x533A;&#x522B;</p>
<p>attach &#x76F4;&#x63A5;&#x8FDB;&#x5165;&#x5BB9;&#x5668;&#x542F;&#x52A8;&#x547D;&#x4EE4;&#x7684;&#x7EC8;&#x7AEF;&#xFF0C;&#x4E0D;&#x4F1A;&#x542F;&#x52A8;&#x65B0;&#x7684;&#x8FDB;&#x7A0B;</p>
<p>exec &#x5B9E;&#x5728;&#x5BB9;&#x5668;&#x4E2D;&#x6253;&#x5F00;&#x65B0;&#x7684;&#x7EC8;&#x7AEF;&#xFF0C;&#x5E76;&#x4E14;&#x53EF;&#x4EE5;&#x7A77;&#x7684;&#x90A3;&#x4E2A;&#x65B0;&#x7684;&#x8FDB;&#x7A0B;</p>
<h4 id="&#x4ECE;&#x5BB9;&#x5668;&#x5185;&#x62F7;&#x8D1D;&#x6587;&#x4EF6;&#x5230;&#x4E3B;&#x673A;&#x4E0A;">&#x4ECE;&#x5BB9;&#x5668;&#x5185;&#x62F7;&#x8D1D;&#x6587;&#x4EF6;&#x5230;&#x4E3B;&#x673A;&#x4E0A;</h4>
<p>docker cp &#x5BB9;&#x5668;ID:&#x5BB9;&#x5668;&#x5185;&#x8DEF;&#x5F84; &#x76EE;&#x7684;&#x4E3B;&#x673A;&#x8DEF;&#x5F84;</p>
<p><img src="image/Snipaste_2020-10-03_13-26-40.png" alt=""></p>
<h3 id="&#x5C0F;&#x603B;&#x7ED3;">&#x5C0F;&#x603B;&#x7ED3;</h3>
<p><img src="image/Snipaste_2020-10-03_13-30-12.png" alt=""></p>
<p><img src="../../20201003133051.png" alt=""></p>
<h1 id="&#x7B2C;-&#x56DB;-&#x7AE0;-docker-&#x955C;&#x50CF;">&#x7B2C; &#x56DB; &#x7AE0; Docker &#x955C;&#x50CF;</h1>
<h2 id="&#x662F;&#x4EC0;&#x4E48;">&#x662F;&#x4EC0;&#x4E48;</h2>
<p>&#x955C;&#x50CF;&#x662F;&#x4E00;&#x79CD;&#x8F7B;&#x91CF;&#x7EA7;&#x3001;&#x53EF;&#x6267;&#x884C;&#x7684;&#x72EC;&#x7ACB;&#x8F6F;&#x4EF6;&#x5305;&#xFF0C;&#x7528;&#x6765;&#x6253;&#x5305;&#x8F6F;&#x4EF6;&#x8FD0;&#x884C;&#x73AF;&#x5883;&#x548C;&#x57FA;&#x4E8E;&#x8FD0;&#x884C;&#x73AF;&#x5883;&#x5F00;&#x53D1;&#x7684;&#x8F6F;&#x4EF6;&#xFF0C;&#x5B83;&#x5305;&#x542B;&#x8FD0;&#x884C;&#x67D0;&#x4E2A;&#x8F6F;&#x4EF6;&#x6240;&#x9700;&#x7684;&#x6709;&#x5185;&#x5BB9;&#xFF0C;&#x5305;&#x62EC;&#x4EE3;&#x7801;&#x3001;&#x8FD0;&#x884C;&#x65F6;&#x3001;&#x5E93;&#x3001;&#x73AF;&#x5883;&#x53D8;&#x91CF;&#x548C;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x3002;</p>
<h3 id="unionfs&#x8054;&#x5408;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;">UnionFS(&#x8054;&#x5408;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;)</h3>
<p>UnionFS (&#x72B6;&#x8282;&#x53C8;&#x4EF6;&#x793A;&#x7EDF;)
UnionFS (&#x8054;&#x5408;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;) : Union&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;(UnionFS)&#x662F;&#x4E00;&#x4E00;&#x79CD;&#x5206;&#x5C42;&#x3001;&#x8F7B;&#x91CF;&#x7EA7;&#x5E76;&#x4E14;&#x9AD8;&#x6027;&#x80FD;&#x7684;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#xFF0C;&#x5B83;&#x652F;&#x6301;&#x5BF9;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x7684;&#x4FEE;&#x4F5C;&#x4E3A;&#x4E00; &#x6B21;&#x63D0;&#x4EA4;&#x6765;&#x4E00;&#x5C42;&#x5C42;&#x7684;&#x53E0;&#x52A0;&#xFF0C;&#x540C;&#x65F6;&#x53EF;&#x4EE5;&#x5C06;&#x4E0D;&#x540C;&#x76EE;&#x5F55;&#x6302;&#x8F7D;&#x5230;&#x540C;&#x4E00;&#x4E2A;&#x865A;&#x62DF;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x4E0B;(unite several directories into a singlevirtualfilesystem)&#x3002;Union&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x662F;Docker&#x955C;&#x50CF;&#x7684;&#x57FA;&#x7840;&#x3002;&#x955C;&#x50CF;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x5206;&#x5C42;&#x6765;&#x8FDB;&#x884C;&#x7EE7;&#x627F;&#xFF0C;&#x57FA;&#x4E8E;&#x57FA;&#x7840;&#x955C;&#x50CF;(&#x6CA1;&#x6709;&#x7236;&#x955C;&#x50CF;)&#x53EF;&#x4EE5;&#x5236;&#x4F5C;&#x5404;&#x79CD;&#x5177;.&#x4F53;&#x7684;&#x5E94;&#x7528;&#x955C;&#x50CF;&#x3002;</p>
<p>&#x7279;&#x6027;:&#x4E00;&#x6B21;&#x540C;&#x65F6;&#x52A0;&#x8F7D;&#x591A;&#x4E2A;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#xFF0C;&#x4F46;&#x4ECE;&#x5916;&#x9762;&#x770B;&#x8D77;&#x6765;&#xFF0C;&#x53EA;&#x80FD;&#x770B;&#x5230;&#x4E00;&#x4E2A;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#xFF0C;&#x8054;&#x5408;&#x52A0;&#x8F7D;&#x4F1A;&#x628A;&#x5404;&#x5C42;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x53E0;&#x52A0;&#x8D77;&#x6765;&#xFF0C;&#x8FD9;&#x6837;&#x6700;&#x7EC8;&#x7684;&#x6587;
&#x4EF6;&#x7CFB;&#x7EDF;&#x4F1A;&#x5305;&#x542B;&#x6240;&#x6709;&#x5E95;&#x5C42;&#x7684;&#x6587;&#x4EF6;&#x548C;&#x76EE;&#x5F55;</p>
<h3 id="docker&#x955C;&#x50CF;&#x52A0;&#x8F7D;&#x539F;&#x7406;">Docker&#x955C;&#x50CF;&#x52A0;&#x8F7D;&#x539F;&#x7406;</h3>
<p><strong>Docker&#x955C;&#x50CF;&#x52A0;&#x8F7D;&#x539F;&#x7406;:</strong>
    <strong>docker</strong>&#x7684;&#x955C;&#x50CF;&#x5B9E;&#x9645;&#x4E0A;&#x7531;&#x4E00;&#x5C42;&#x4E00;&#x5C42;&#x7684;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x7EC4;&#x6210;&#xFF0C;&#x8FD9;&#x79CD;&#x5C42;&#x7EA7;&#x7684;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;<strong>UnionFS&#x3002;</strong></p>
<p><strong>botfs(boot file system)</strong>&#x4E3B;&#x8981;&#x5305;&#x542B;<strong>bootloader</strong>&#x548C;<strong>kernel</strong>, <strong>bootloader</strong>&#x4E3B; &#x8981;&#x662F;&#x5F15;&#x5BFC;&#x52A0;&#x8F7D;<strong>kernel</strong>, <strong>Linux</strong>&#x521A;&#x542F;&#x52A8;&#x65F6;&#x4F1A;&#x52A0;&#x8F7D;bootfs&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#xFF0C;&#x5728;<strong>Docker</strong>&#x955C;&#x50CF;&#x7684;&#x6700;&#x5E95;&#x5C42;&#x662F;<strong>bootfs</strong>&#x3002;&#x8FD9;&#x4E00;-&#x5C42;&#x4E0E;&#x6211;&#x4EEC;&#x5178;&#x578B;&#x7684;<strong>Linux/Unix</strong>&#x7CFB;&#x7EDF;&#x662F;- - -&#x6837;&#x7684;&#xFF0C;&#x5305;&#x542B;boot&#x52A0;&#x8F7D;&#x5668;&#x548C;&#x5185;&#x6838;&#x3002;&#x5F53;boot&#x52A0;&#x8F7D;&#x5B8C;&#x6210;&#x4E4B; &#x540E;&#x6574;&#x4E2A;&#x5185;&#x6838;&#x5C31;&#x90FD;&#x5728;&#x5185;&#x5B58;&#x4E2D;&#x4E86;&#xFF0C;&#x6B64;&#x65F6;&#x5185;&#x5B58;&#x7684;&#x4F7F;&#x7528;&#x6743;&#x5DF1;&#x7531;bootfs&#x8F6C;&#x4EA4;&#x7ED9;&#x5185;&#x6838;&#xFF0C;&#x6B64;&#x65F6;&#x7CFB;&#x7EDF;&#x4E5F;&#x4F1A;&#x5378;&#x8F7D;bootfs&#x3002;</p>
<p><strong>rootfs (root file system)&#xFF0C;</strong>&#x5728;<strong>bootfs</strong>&#x4E4B; &#x4E0A;&#x3002; &#x5305;&#x542B;&#x7684;&#x5C31;&#x662F;&#x5178;&#x578B;Linux&#x7CFB;&#x7EDF;&#x4E2D;&#x7684;<strong>/dev, /proc, /bin, /etc</strong>&#x7B49;&#x6807;&#x51C6;&#x76EE;&#x5F55;&#x548C;&#x6587;&#x4EF6;&#x3002;<strong>rootfs</strong>&#x5C31; &#x662F;&#x5404;&#x79CD;&#x4E0D;&#x540C;&#x7684;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x53D1;&#x884C;&#x7248;&#xFF0C;&#x6BD4;&#x5982;<strong>Ubuntu</strong>&#xFF0C;<strong>Centos</strong>&#x7B49;&#x7B49;&#x3002;</p>
<p><img src="image/Snipaste_2020-10-03_13-38-28.png" alt=""></p>
<p>&#x5E73;&#x65F6;&#x6211;&#x4EEC;&#x5B89;&#x88C5;&#x7684;&#x865A;&#x62DF;&#x673A;&#x7684;Centos&#x90FD;&#x662F;&#x597D;&#x51E0;&#x4E2A;G &#xFF0C;&#x4E3A;&#x4EC0;&#x4E48;docker&#x8FD9;&#x91CC;&#x624D;&#x8981;200m</p>
<p><img src="../../QQ&#x622A;&#x56FE;20201003133908.png" alt=""></p>
<p>&#x5BF9;&#x4E8E;&#x4E00;&#x4E2A;&#x7CBE;&#x7B80;&#x7684;<strong>OS, rootfs</strong>&#x53EF; &#x4EE5;&#x5F88;&#x5C0F;&#xFF0C;&#x53EA;&#x9700;&#x8981;&#x5305;&#x62EC;&#x6700;&#x57FA;&#x672C;&#x7684;&#x547D;&#x4EE4;&#x3001;&#x5DE5;&#x5177;&#x548C;&#x7A0B;&#x5E8F;&#x5E93;&#x5C31;&#x53EF;&#x4EE5;&#x4E86;&#xFF0C;&#x56E0;&#x4E3A;&#x5E95;&#x5C42;&#x76F4;&#x63A5;&#x7528;<strong>Host</strong>&#x7684;<strong>kernel</strong>,&#x81EA;&#x53EA;&#x9700;&#x8981;&#x63D0;&#x4F9B;rootfs&#x5C31;&#x884C;&#x4E86;&#x3002;&#x7531;&#x6B64;&#x53EF;&#x89C1;&#x5BF9;&#x4E8E;&#x4E0D;&#x540C;&#x7684;<strong>linux</strong>&#x53D1;&#x884C;&#x7248;, <strong>bootfs</strong>&#x57FA;&#x672C;&#x662F;&#x4E00;&#x81F4;&#x7684;, <strong>rootfs</strong>&#x4F1A;&#x6709;&#x5DEE;&#x522B;&#xFF0C;&#x56E0;&#x6B64;&#x4E0D;&#x540C;&#x7684;&#x53D1;&#x884C;&#x7248;&#x53EF;&#x4EE5;&#x516C;&#x7528;<strong>bootfs</strong>&#x3002;</p>
<h3 id="&#x5206;&#x5C42;&#x7684;&#x955C;&#x50CF;">&#x5206;&#x5C42;&#x7684;&#x955C;&#x50CF;</h3>
<p><img src="image/Snipaste_2020-10-03_13-40-06.png" alt=""></p>
<h3 id="&#x5206;&#x5C42;&#x7684;&#x955C;&#x50CF;">&#x5206;&#x5C42;&#x7684;&#x955C;&#x50CF;</h3>
<p><img src="image/Snipaste_2020-10-03_14-02-22.png" alt=""></p>
<h3 id="&#x4E3A;&#x4EC0;&#x4E48;-docker&#x7EAA;&#x5FF5;&#x9986;&#x60F3;&#x8981;&#x91C7;&#x7528;&#x8FD9;&#x79CD;&#x5206;&#x5C42;&#x7ED3;&#x6784;">&#x4E3A;&#x4EC0;&#x4E48; Docker&#x7EAA;&#x5FF5;&#x9986;&#x60F3;&#x8981;&#x91C7;&#x7528;&#x8FD9;&#x79CD;&#x5206;&#x5C42;&#x7ED3;&#x6784;</h3>
<p>&#x6700;&#x5927;&#x7684;&#x4E00;&#x4E2A;&#x597D;&#x5904;&#x5C31;&#x662F;-<strong>&#x5171;&#x4EAB;&#x8D44;&#x6E90;</strong>
&#x6BD4;&#x5982;:<strong>&#x6709;&#x591A;&#x4E2A;&#x955C;&#x50CF;&#x90FD;&#x4ECE;&#x76F8;&#x540C;&#x7684;base&#x955C;&#x50CF;&#x6784;&#x5EFA;&#x800C;&#x6765;</strong>&#xFF0C;&#x90A3;&#x4E48;&#x5BBF;&#x4E3B;&#x673A;&#x53EA;&#x9700;&#x5728;&#x78C1;&#x76D8;&#x4E0A;&#x4FDD;&#x5B58;&#x4E00;&#x4EFD;<strong>base</strong>&#x955C;&#x50CF;,
&#x540C;&#x65F6;&#x5185;&#x5B58;&#x4E2D;&#x4E5F;&#x53EA;&#x9700;&#x52A0;&#x8F7D;&#x4E00;&#x4EFD;<strong>base</strong>&#x955C;&#x50CF;&#xFF0C;&#x5C31;&#x53EF;&#x4EE5;&#x4E3A;&#x6240;&#x6709;&#x5BB9;&#x5668;&#x670D;&#x52A1;&#x4E86;&#x3002;&#x800C;&#x4E14;&#x955C;&#x50CF;&#x7684;&#x6BCF;&#x4E00;&#x5C42;&#x90FD;&#x53EF;&#x4EE5;&#x88AB;&#x5171;&#x4EAB;&#x3002;</p>
<h2 id="&#x7279;&#x70B9;">&#x7279;&#x70B9;</h2>
<p>Docker&#x955C;&#x50CF;&#x90FD;&#x662F;&#x53EA;&#x8BFB;&#x7684;&#xFF0C;&#x5F53;&#x5BB9;&#x5668;&#x542F;&#x52A8;&#x65F6;&#xFF0C;&#x4E00;&#x4E2A;&#x65B0;&#x7684;&#x53EF;&#x5199;&#x5C42;&#x88AB;&#x52A0;&#x8F7D;&#x5230;<strong>&#x955C;&#x50CF;&#x7684;&#x9876;&#x90E8;</strong>&#xFF0C;&#x8FD9;&#x4E00;&#x5C42;&#x901A;&#x5E38;&#x88AB;&#x79F0;&#x4E3A;<strong>&#x5BB9;&#x5668;&#x5C42;</strong>&#xFF0C;&#x5BB9;&#x5668;&#x5C42;&#x4E4B;&#x4E0B;&#x90FD;&#x53EB;<strong>&#x955C;&#x50CF;&#x5C42;</strong></p>
<h2 id="docker&#x955C;&#x50CF;commit&#x64CD;&#x4F5C;">Docker&#x955C;&#x50CF;Commit&#x64CD;&#x4F5C;</h2>
<p>docker commit &#x63D0;&#x4EA4;&#x5BB9;&#x5668;&#x526F;&#x672C;&#x4F7F;&#x4E4B;&#x79F0;&#x4E3A;&#x4E00;&#x4E2A;&#x65B0;&#x7684;&#x955C;&#x50CF;</p>
<p>docker commit -m=&quot;&#x63D0;&#x4EA4;&#x7684;&#x63CF;&#x8FF0;&#x4FE1;&#x606F;&quot; -a=&quot;&#x4F5C;&#x8005;&quot; &#x5BB9;&#x5668;ID &#x8981;&#x521B;&#x5EFA;&#x7684;&#x76EE;&#x6807;&#x955C;&#x50CF;&#x540D;:[&#x6807;&#x7B7E;&#x540D;]</p>
<h4 id="&#x6848;&#x4F8B;&#x6F14;&#x793A;&#xFF1A;">&#x6848;&#x4F8B;&#x6F14;&#x793A;&#xFF1A;</h4>
<p>1&#x3001;&#x4ECE;Hub&#x4E0A;&#x4E0B;&#x8F7D;tomcat&#x955C;&#x50CF;&#x5230;&#x672C;&#x5730;&#x5E76;&#x6210;&#x529F;&#x8FD0;&#x884C;</p>
<p><img src="image/Snipaste_2020-10-03_14-26-27.png" alt=""></p>
<p>docker run -d -p 8080:8080 tomcat</p>
<pre><code class="lang-java">-p&#x4E3B;&#x673A;&#x7AEF;&#x53E3;&#xFF1A;docker&#x5BB9;&#x5668;&#x7AEF;&#x53E3;
-P:&#x968F;&#x673A;&#x5206;&#x914D;&#x7AEF;&#x53E3;
i:&#x4EA4;&#x4E92;
t:&#x7EC8;&#x7AEF;
</code></pre>
<p>2&#x3001;&#x6545;&#x610F;&#x5220;&#x9664;&#x4E0A;&#x4E00;&#x6B65;&#x955C;&#x50CF;&#x751F;&#x4EA7;tomcat&#x5BB9;&#x5668;&#x7684;&#x6587;&#x6863;</p>
<p><img src="image/Snipaste_2020-10-03_14-28-22.png" alt=""></p>
<p>3&#x3001;&#x4E5F;&#x5373;&#x5F53;&#x524D;&#x7684;tomcat&#x8FD0;&#x884C;&#x5B9E;&#x4F8B;&#x662F;&#x4E00;&#x4E2A;&#x6CA1;&#x6709;&#x6587;&#x6863;&#x5185;&#x5BB9;&#x7684;&#x5BB9;&#x5668;&#xFF0C;&#x4EE5;&#x4ED6;&#x4E3A;&#x6A21;&#x677F;commit&#x4E00;&#x4E2A;&#x6CA1;&#x6709;doc&#x7684;tomcat&#x65B0;&#x955C;&#x50CF; atguigu/tomcat02</p>
<p><img src="image/Snipaste_2020-10-03_14-29-38.png" alt=""></p>
<p>4&#x3001;&#x542F;&#x52A8;&#x6211;&#x4EEC;&#x7684;&#x65B0;&#x955C;&#x50CF;&#x5E76;&#x548C;&#x539F;&#x6765;&#x7684;&#x5BF9;&#x6BD4;</p>
<p>&#x200B;    &#x542F;&#x52A8;atuigu/tomcat02 &#x6CA1;&#x6709;doc</p>
<p>&#x200B;    &#x542F;&#x52A8;&#x539F;&#x6765;tomcat&#x4ED6;&#x6709;doc</p>
<h1 id="&#x7B2C;-&#x4E94;-&#x7AE0;-docker&#x5BB9;&#x5668;&#x6570;&#x636E;&#x5377;">&#x7B2C; &#x4E94; &#x7AE0; Docker&#x5BB9;&#x5668;&#x6570;&#x636E;&#x5377;</h1>
<h2 id="&#x662F;&#x4EC0;&#x4E48;">&#x662F;&#x4EC0;&#x4E48;</h2>
<p>&#x5148;&#x6765;&#x770B;&#x770B;<strong>Docker</strong>&#x7684;&#x7406;&#x5FF5;:
<em>&#x5C06;&#x8FD0;&#x7528;&#x4E0E;&#x8FD0;&#x884C;&#x7684;&#x73AF;&#x5883;&#x6253;&#x5305;&#x5F62;&#x6210;&#x5BB9;&#x5668;&#x8FD0;&#x884C;&#xFF0C;&#x8FD0;&#x884C;&#x53EF;&#x4EE5;&#x4F34;&#x968F;&#x7740;&#x5BB9;&#x5668;&#xFF0C;&#x4F46;&#x662F;&#x6211;&#x4EEC;&#x5BF9;&#x6570;&#x636E;&#x7684;&#x8981;&#x6C42;&#x5E0C;&#x671B;&#x662F;&#x6301;&#x4E45;&#x5316;&#x7684;
</em>&#x5BB9;&#x5668;&#x4E4B;&#x95F4;&#x5E0C;&#x671B;&#x6709;&#x53EF;&#x80FD;&#x5171;&#x4EAB;&#x6570;&#x636E;
<strong>Docker</strong>&#x5BB9;&#x5668;&#x4EA7;&#x751F;&#x7684;&#x6570;&#x636E;&#xFF0C;&#x5982;&#x679C;&#x4E0D;&#x901A;&#x8FC7;<strong>docker</strong> <strong>commit</strong>&#x751F;&#x6210;&#x65B0;&#x7684;&#x955C;&#x50CF;&#xFF0C;&#x4F7F;&#x5F97;&#x6570;&#x636E;&#x505A;&#x4E3A;&#x955C;&#x50CF;&#x7684;&#x4E00;&#x90E8;&#x5206;&#x4FDD;&#x5B58;&#x4E0B;&#x6765;&#xFF0C;
&#x90A3;&#x4E48;&#x5F53;&#x5BB9;&#x5668;&#x5220;&#x9664;&#x540E;&#xFF0C;&#x6570;&#x636E;&#x81EA;&#x7136;&#x4E5F;&#x5C31;&#x6CA1;&#x6709;&#x4E86;&#x3002;
&#x4E3A;&#x4E86;&#x80FD;&#x4FDD;&#x5B58;&#x6570;&#x636E;&#x5728;docker&#x4E2D;&#x6211;&#x4EEC;&#x4F7F;&#x7528;&#x5377;&#x3002;|</p>
<p>&#x4E00;&#x53E5;&#x8BDD;&#xFF1A;&#x6709;&#x70B9;&#x7C7B;&#x4F3C;&#x6211;&#x4EEC;Redis&#x91CC;&#x9762;&#x7684;rdb&#x548C;aof&#x6587;&#x4EF6;</p>
<h2 id="&#x80FD;&#x5E72;&#x561B;">&#x80FD;&#x5E72;&#x561B;</h2>
<p>&#x5377;&#x5C31;&#x662F;&#x76EE;&#x5F55;&#x6216;&#x6587;&#x4EF6;&#xFF0C;&#x5B58;&#x5728;&#x4E8E;&#x4E00;&#x4E2A;&#x6216;&#x591A;&#x4E2A;&#x5BB9;&#x5668;&#x4E2D;&#xFF0C;&#x7531;<strong>docker</strong>&#x6302;&#x8F7D;&#x5230;&#x5BB9;&#x5668;&#xFF0C;&#x4F46;&#x4E0D;&#x5C5E;&#x4E8E;&#x8054;&#x5408;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#xFF0C;&#x56E0;&#x6B64;&#x80FD;&#x591F;&#x7ED5;&#x8FC7;Union FileSystem&#x63D0;&#x4F9B;&#x4E00;&#x4E9B;&#x7528; &#x4E8E;&#x6301;&#x7EED;&#x5B58;&#x50A8;&#x6216;&#x5171;&#x4EAB;&#x6570;&#x636E;&#x7684;&#x7279;&#x6027;:
&#x5377;&#x7684;&#x8BBE;&#x8BA1;&#x76EE;&#x7684;&#x5C31;&#x662F;&#x6570;&#x636E;&#x7684;&#x6301;&#x4E45;&#x5316;&#xFF0C;&#x5B8C;&#x5168;&#x72EC;&#x7ACB;&#x4E8E;&#x5BB9;&#x5668;&#x7684;&#x751F;&#x5B58;&#x5468;&#x671F;&#xFF0C;&#x56E0;&#x6B64;Docker&#x4E0D; &#x4F1A;&#x5728;&#x5BB9;&#x5668;&#x5220;&#x9664;&#x65F6;&#x5220;&#x9664;&#x5176;&#x6302;&#x8F7D;&#x7684;&#x6570;&#x636E;&#x5377;</p>
<p>&#x7279;&#x70B9;:
1:&#x6570;&#x636E;&#x5377;&#x53EF;&#x5728;&#x5BB9;&#x5668;&#x4E4B;&#x95F4;&#x5171;&#x4EAB;&#x6216;&#x91CD;&#x7528;&#x6570;&#x636E;
2:&#x5377;&#x4E2D;&#x7684;&#x66F4;&#x6539;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x751F;&#x6548;
3:&#x6570;&#x636E;&#x5377;&#x4E2D;&#x7684;&#x66F4;&#x6539;&#x4E0D;&#x4F1A;&#x5305;&#x542B;&#x5728;&#x955C;&#x50CF;&#x7684;&#x66F4;&#x65B0;&#x4E2D;
4:&#x6570;&#x636E;&#x5377;&#x7684;&#x751F;&#x547D;&#x5468;&#x671F;&#x4E00;&#x76F4;&#x6301;&#x7EED;&#x5230;&#x6CA1;&#x6709;&#x5BB9;&#x5668;&#x4F7F;&#x7528;&#x5B83;&#x4E3A;&#x6B62;</p>
<p><strong>&#x5BB9;&#x5668;&#x7684;&#x6301;&#x4E45;&#x5316;</strong></p>
<p><strong>&#x5BB9;&#x5668;&#x95F4;&#x7EE7;&#x627F;+&#x5171;&#x4EAB;&#x6570;&#x636E;</strong></p>
<h2 id="&#x6570;&#x636E;&#x5377;">&#x6570;&#x636E;&#x5377;</h2>
<h3 id="&#x5BB9;&#x5668;&#x5185;&#x6DFB;&#x52A0;">&#x5BB9;&#x5668;&#x5185;&#x6DFB;&#x52A0;</h3>
<h4 id="&#x76F4;&#x63A5;&#x547D;&#x4EE4;&#x6DFB;&#x52A0;">&#x76F4;&#x63A5;&#x547D;&#x4EE4;&#x6DFB;&#x52A0;</h4>
<p><img src="image/Snipaste_2020-10-03_15-30-44.png" alt=""></p>
<p>docker run -it -v /&#x5BBF;&#x4E3B;&#x673A;&#x7EDD;&#x5BF9;&#x8DEF;&#x5F84;&#x76EE;&#x5F55;:/&#x5BB9;&#x5668;&#x5185;&#x76EE;&#x5F55; &#x955C;&#x50CF;&#x540D;</p>
<p>&#x67E5;&#x770B;&#x6570;&#x636E;&#x5377;&#x662F;&#x5426;&#x6302;&#x8F7D;&#x6210;&#x529F;</p>
<p><img src="image/Snipaste_2020-10-03_15-31-52.png" alt=""></p>
<p>&#x5BB9;&#x5668;&#x548C;&#x5BBF;&#x4E3B;&#x673A;&#x4E4B;&#x95F4;&#x6570;&#x636E;&#x5171;&#x4EAB;</p>
<p><img src="image/Snipaste_2020-10-03_15-32-19.png" alt=""></p>
<p>&#x5BB9;&#x5668;&#x505C;&#x6B62;&#x9000;&#x51FA;&#x540E;&#xFF0C;&#x4E3B;&#x673A;&#x4FEE;&#x6539;&#x540E;&#x7684;&#x6570;&#x636E;&#x662F;&#x5426;&#x540C;&#x6B65;</p>
<p><img src="image/Snipaste_2020-10-03_15-33-03.png" alt=""></p>
<p>&#x547D;&#x4EE4;(&#x5E26;&#x6743;&#x9650;)</p>
<p>&#x200B;    docker run -it -v /&#x5BBF;&#x4E3B;&#x673A;&#x7EDD;&#x5BF9;&#x8DEF;&#x5F84;&#x76EE;&#x5F55;:/&#x5BB9;&#x5668;&#x5185;&#x76EE;&#x5F55;<strong>:ro</strong> &#x955C;&#x50CF;&#x540D;</p>
<p><img src="image/Snipaste_2020-10-03_15-33-49.png" alt=""></p>
<h4 id="dockerfile&#x6DFB;&#x52A0;">DockerFile&#x6DFB;&#x52A0;</h4>
<p>&#x6839;&#x76EE;&#x5F55;&#x4E0B;&#x65B0;&#x5EFA;mydocker&#x6587;&#x4EF6;&#x5939;&#x5E76;&#x8FDB;&#x5165;</p>
<p>&#x53EF;&#x5728;Dockerfile&#x4E2D;&#x4F7F;&#x7528;VOLUME&#x6307;&#x4EE4;&#x6765;&#x7ED9;&#x955C;&#x50CF;&#x6DFB;&#x52A0;&#x4E00;&#x4E2A;&#x6216;&#x591A;&#x4E2A;&#x6570;&#x636E;&#x5377;</p>
<p><img src="image/Snipaste_2020-10-03_15-35-17.png" alt=""></p>
<p>File&#x6784;&#x5EFA;</p>
<p><img src="image/Snipaste_2020-10-03_15-35-37.png" alt=""></p>
<p>build&#x540E;&#x751F;&#x6210;&#x955C;&#x50CF;</p>
<p><img src="image/Snipaste_2020-10-03_15-36-01.png" alt=""></p>
<p>&#x83B7;&#x5F97;&#x4E00;&#x4E2A;&#x65B0;&#x955C;&#x50CF;zzyy/centos</p>
<p>run&#x5BB9;&#x5668;</p>
<p><img src="image/Snipaste_2020-10-03_15-36-31.png" alt=""></p>
<p>&#x901A;&#x8FC7;&#x4E0A;&#x8FF0;&#x6B65;&#x9AA4;&#xFF0C;&#x5BB9;&#x5668;&#x5185;&#x7684;&#x5377;&#x76EE;&#x5F55;&#x5730;&#x5740;&#x5DF2;&#x7ECF;&#x77E5;&#x9053;&#xFF0C;&#x5BF9;&#x5E94;&#x7684;&#x4E3B;&#x673A;&#x76EE;&#x5F55;&#x5728;&#x54EA;</p>
<p><img src="image/Snipaste_2020-10-03_15-37-05.png" alt=""></p>
<p><strong>&#x4E3B;&#x673A;&#x5BF9;&#x5E94;&#x9ED8;&#x8BA4;&#x5730;&#x5740;</strong></p>
<p><img src="image/Snipaste_2020-10-03_15-37-22.png" alt=""></p>
<p>&#x5907;&#x6CE8;</p>
<p>Docker&#x6302;&#x8F7D;&#x4E3B;&#x673A;&#x76EE;&#x5F55;Docker&#x8BBF;&#x95EE;&#x51FA;&#x73B0;cannot open directory . Permission denied
&#x89E3;&#x51B3;&#x529E;&#x6CD5;:&#x5728;&#x6302;&#x8F7D;&#x76EE;&#x5F55;&#x540E;&#x591A;&#x52A0;&#x4E00;&#x4E2A;--privileged=true&#x53C2;&#x6570;&#x5373;&#x53EF;</p>
<h2 id="&#x6570;&#x636E;&#x5377;&#x5BB9;&#x5668;">&#x6570;&#x636E;&#x5377;&#x5BB9;&#x5668;</h2>
<h3 id="&#x662F;&#x4EC0;&#x4E48;">&#x662F;&#x4EC0;&#x4E48;</h3>
<p>&#x547D;&#x540D;&#x7684;&#x5BB9;&#x5668;&#x6302;&#x8F7D;&#x6570;&#x636E;&#x5377;&#xFF0C;&#x5176;&#x5B83;&#x5BB9;&#x5668;&#x901A;&#x8FC7;&#x6302;&#x8F7D;&#x8FD9;&#x4E2A;(&#x7236;&#x5BB9;&#x5668;)&#x5B9E;&#x73B0;&#x6570;&#x636E;&#x5171;&#x4EAB;&#xFF0C;&#x6302;&#x8F7D;&#x6570;&#x636E;&#x5377;&#x7684;&#x5BB9;&#x5668;&#xFF0C;&#x79F0;&#x4E4B;&#x4E3A;&#x6570;&#x636E;&#x5377;&#x5BB9;&#x5668;.</p>
<h3 id="&#x603B;&#x4F53;&#x4ECB;&#x7ECD;">&#x603B;&#x4F53;&#x4ECB;&#x7ECD;</h3>
<p>&#x4EE5;&#x4E0A;&#x4E00;&#x6B65;&#x65B0;&#x5EFA;&#x7684;zzyy/centos&#x4E3A;&#x6A21;&#x677F;&#x5E76;&#x8FD0;&#x884C;&#x5BB9;&#x5668; doc1/doc2/doc3</p>
<p>&#x4ED6;&#x4EEC;&#x5DF2;&#x7ECF;&#x5177;&#x6709;&#x5BB9;&#x5668;&#x5377;</p>
<p>&#x200B;    /dataVolumeContainer1</p>
<p>&#x200B;    /dataVolumeContainer2</p>
<h3 id="&#x5BB9;&#x5668;&#x95F4;&#x4F20;&#x9012;&#x5171;&#x4EAB;--volumes--from">&#x5BB9;&#x5668;&#x95F4;&#x4F20;&#x9012;&#x5171;&#x4EAB;(--volumes -from)</h3>
<h4 id="&#x5148;&#x542F;&#x52A8;&#x4E00;&#x4E2A;&#x7236;&#x5BB9;&#x5668;doc1">&#x5148;&#x542F;&#x52A8;&#x4E00;&#x4E2A;&#x7236;&#x5BB9;&#x5668;doc1</h4>
<p><img src="image/Snipaste_2020-10-03_15-40-46.png" alt=""></p>
<p>&#x542F;&#x52A8;&#x540E;&#x5728; dataVolumeContainer1&#x4E2D;&#x65B0;&#x589E;&#x5185;&#x5BB9;</p>
<h4 id="doc2doc3-&#x7EE7;&#x627F;doc1">doc2/doc3 &#x7EE7;&#x627F;doc1</h4>
<p>&#x200B;    <strong>--volumes -from</strong></p>
<p><img src="image/Snipaste_2020-10-03_15-41-51.png" alt=""></p>
<p>doc2/doc3 &#x5206;&#x522B;&#x5728;dataVolumeContainer2&#x5404;&#x81EA;&#x65B0;&#x589E;&#x5185;&#x5BB9;</p>
<h4 id="&#x56DE;&#x5230;doc1&#x53EF;&#x4EE5;&#x770B;&#x5230;0203&#x5404;&#x81EA;&#x6DFB;&#x52A0;&#x7684;&#x90FD;&#x80FD;&#x5171;&#x4EAB;&#x4E86;">&#x56DE;&#x5230;doc1&#x53EF;&#x4EE5;&#x770B;&#x5230;02/03&#x5404;&#x81EA;&#x6DFB;&#x52A0;&#x7684;&#x90FD;&#x80FD;&#x5171;&#x4EAB;&#x4E86;</h4>
<p><img src="image/Snipaste_2020-10-03_15-42-46.png" alt=""></p>
<h4 id="&#x5220;&#x9664;doc1-doc2&#x4FEE;&#x6539;&#x540E;doc3&#x662F;&#x5426;&#x53EF;&#x4EE5;&#x8BBF;&#x95EE;">&#x5220;&#x9664;doc1 doc2&#x4FEE;&#x6539;&#x540E;doc3&#x662F;&#x5426;&#x53EF;&#x4EE5;&#x8BBF;&#x95EE;</h4>
<p><img src="image/Snipaste_2020-10-03_15-43-31.png" alt=""></p>
<h4 id="&#x5220;&#x9664;doc02&#x540E;doc3&#x662F;&#x5426;&#x8BBF;&#x95EE;">&#x5220;&#x9664;doc02&#x540E;doc3&#x662F;&#x5426;&#x8BBF;&#x95EE;</h4>
<p><img src="image/Snipaste_2020-10-03_15-43-57.png" alt=""></p>
<p>&#x5728;&#x8FDB;&#x4E00;&#x6B65;</p>
<p><img src="image/Snipaste_2020-10-03_15-44-11.png" alt=""></p>
<h4 id="&#x65B0;&#x5EFA;doc04&#x7EE7;&#x627F;doc03-&#x7136;&#x540E;&#x5220;&#x9664;doc03">&#x65B0;&#x5EFA;doc04&#x7EE7;&#x627F;doc03 &#x7136;&#x540E;&#x5220;&#x9664;doc03</h4>
<p><img src="image/Snipaste_2020-10-03_15-44-56.png" alt=""></p>
<p><strong>&#x7ED3;&#x8BBA;&#xFF1A;&#x5BB9;&#x5668;&#x4E4B;&#x95F4;&#x914D;&#x7F6E;&#x4FE1;&#x606F;&#x7684;&#x4F20;&#x9012;&#xFF0C;&#x6570;&#x636E;&#x5377;&#x7684;&#x751F;&#x547D;&#x5468;&#x671F;&#x4E00;&#x76F4;&#x6301;&#x7EED;&#x5230;&#x6CA1;&#x6709;&#x5BB9;&#x5668;&#x4F7F;&#x7528;&#x5B83;&#x4E3A;&#x6B62;</strong></p>
<h1 id="&#x7B2C;-&#x516D;-&#x7AE0;-dockerfile&#x89E3;&#x6790;">&#x7B2C; &#x516D; &#x7AE0; DockerFile&#x89E3;&#x6790;</h1>
<h2 id="&#x662F;&#x4EC0;&#x4E48;">&#x662F;&#x4EC0;&#x4E48;</h2>
<h3 id="dockerfile&#x662F;&#x7528;&#x6765;&#x6784;&#x5EFA;docker&#x955C;&#x50CF;&#x7684;&#x6784;&#x5EFA;&#x6587;&#x4EF6;&#xFF0C;&#x7531;&#x4E00;&#x7CFB;&#x5217;&#x547D;&#x4EE4;&#x548C;&#x53C2;&#x6570;&#x6784;&#x6210;&#x7684;&#x811A;&#x672C;">Dockerfile&#x662F;&#x7528;&#x6765;&#x6784;&#x5EFA;Docker&#x955C;&#x50CF;&#x7684;&#x6784;&#x5EFA;&#x6587;&#x4EF6;&#xFF0C;&#x7531;&#x4E00;&#x7CFB;&#x5217;&#x547D;&#x4EE4;&#x548C;&#x53C2;&#x6570;&#x6784;&#x6210;&#x7684;&#x811A;&#x672C;</h3>
<h3 id="&#x6784;&#x5EFA;&#x4E09;&#x6B65;&#x9AA4;">&#x6784;&#x5EFA;&#x4E09;&#x6B65;&#x9AA4;</h3>
<p>&#x200B;    &#x7F16;&#x5199;Dockerfile&#x6587;&#x4EF6;</p>
<p>&#x200B;    docker build</p>
<p>&#x200B;    docker run</p>
<h3 id="&#x6587;&#x4EF6;&#x4EC0;&#x4E48;&#x6837;&#xFF1F;&#xFF1F;&#xFF1F;">&#x6587;&#x4EF6;&#x4EC0;&#x4E48;&#x6837;&#xFF1F;&#xFF1F;&#xFF1F;</h3>
<p>&#x200B;    &#x719F;&#x6089;&#x7684;Centos&#x4E3A;&#x4F8B;</p>
<p><a href="http://hub.docker.com/_/centos" target="_blank">http://hub.docker.com/_/centos</a></p>
<p><img src="image/Snipaste_2020-10-03_17-32-12.png" alt=""></p>
<h2 id="dockerfile&#x6784;&#x5EFA;&#x8FC7;&#x7A0B;&#x89E3;&#x6790;">DockerFile&#x6784;&#x5EFA;&#x8FC7;&#x7A0B;&#x89E3;&#x6790;</h2>
<p>Dockerfile&#x5185;&#x5BB9;&#x57FA;&#x7840;&#x77E5;&#x8BC6;</p>
<p>1&#x3001;&#x6BCF;&#x6761;&#x4FDD;&#x7559;&#x5B57;&#x6307;&#x4EE4;&#x90FD;&#x5FC5;&#x987B;&#x4E3A;&#x5927;&#x5199;&#x5B57;&#x6BCD;&#x4E14;&#x540E;&#x9762;&#x8981;&#x8DDF;&#x968F;&#x81F3;&#x5C11;&#x4E00;&#x4E2A;&#x53C2;&#x6570;
2&#x3001; &#x6307;&#x4EE4;&#x6309;&#x7167;&#x4ECE;.&#x4E0A;&#x5230;&#x4E0B;&#xFF0C;&#x987A;&#x5E8F;&#x6267;&#x884C;
3&#x3001;#&#x8868;&#x793A;&#x6CE8;&#x91CA;
4&#x3001;&#x6BCF;&#x6761;&#x6307;&#x4EE4;&#x90FD;&#x4F1A;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x65B0;&#x7684;&#x955C;&#x50CF;&#x5C42;&#xFF0C;&#x5E76;&#x5BF9;&#x955C;&#x50CF;&#x8FDB;&#x884C;&#x63D0;&#x4EA4;</p>
<h3 id="docker&#x6267;&#x884C;dockerfile&#x7684;&#x5927;&#x81F4;&#x6D41;&#x7A0B;">Docker&#x6267;&#x884C;Dockerfile&#x7684;&#x5927;&#x81F4;&#x6D41;&#x7A0B;</h3>
<p>1&#x3001; docker &#x4ECE;&#x57FA;&#x7840;&#x955C;&#x50CF;&#x8FD0;&#x884C;&#x4E00;&#x4E2A;&#x5BB9;&#x5668;
2&#x3001;&#x6267;&#x884C;&#x4E00;-&#x6761;&#x6307;&#x4EE4;&#x5E76;&#x5BF9;&#x5BB9;&#x5668;&#x4F5C;&#x51FA;&#x4FEE;&#x6539;
3&#x3001;&#x6267;&#x884C;&#x7C7B;&#x4F3C;docker commit&#x7684;&#x64CD;&#x4F5C;&#x63D0;&#x4EA4;- -&#x4E2A;&#x65B0;&#x7684;&#x955C;&#x50CF;&#x5C42;
4&#x3001;docker&#x518D;&#x57FA; &#x4E8E;&#x521A;&#x63D0;&#x4EA4;&#x7684;&#x955C;&#x50CF;&#x8FD0;&#x884C;&#x4E00;&#x4E00;&#x4E2A;&#x65B0;&#x5BB9;&#x5668;
5&#x3001;&#x6267;&#x884C;dockerfile&#x4E2D;&#x7684; &#x4E0B;&#x4E00;&#x6761;&#x6307;&#x4EE4;&#x76F4;&#x5230;&#x6240;&#x6709;&#x6307;&#x4EE4;&#x90FD;&#x6267;&#x884C;&#x5B8C;&#x6210;</p>
<h3 id="&#x5C0F;&#x603B;&#x7ED3;">&#x5C0F;&#x603B;&#x7ED3;</h3>
<p>&#x4ECE;&#x5E94;&#x7528;&#x8F6F;&#x4EF6;&#x7684;&#x89D2;&#x5EA6;&#x6765;&#x770B;&#xFF0C;Dockerfile&#x3001; Docker&#x955C;&#x50CF;&#x4E0E;Docker&#x5BB9;&#x5668;&#x5206;&#x522B;&#x4EE3;&#x8868;&#x8F6F;&#x4EF6;&#x7684;&#x4E09;&#x4E2A;&#x4E0D;&#x540C;&#x9636;&#x6BB5;&#xFF0C;
Dockerfile&#x662F;&#x8F6F;&#x4EF6;&#x7684;&#x539F;&#x6750;&#x6599;
Docker&#x955C;&#x50CF;&#x662F;&#x8F6F;&#x4EF6;&#x7684;&#x4EA4;&#x4ED8;&#x54C1;
Docker&#x5BB9;&#x5668;&#x5219;&#x53EF;&#x4EE5;&#x8BA4;&#x4E3A;&#x662F;&#x8F6F;&#x4EF6;&#x7684;&#x8FD0;&#x884C;&#x6001;&#x3002;
Dockerfile&#x9762;&#x5411;&#x5F00;&#x53D1;&#xFF0C;Docker&#x955C; &#x50CF;&#x6210;&#x4E3A;&#x4EA4;&#x4ED8;&#x6807;&#x51C6;&#xFF0C;Docker&#x5BB9; &#x5668;&#x5219;&#x6D89;&#x53CA;&#x90E8;&#x7F72;&#x4E0E;&#x8FD0;&#x7EF4;&#xFF0C;&#x4E09;&#x8005;&#x7F3A;- -&#x4E0D;&#x53EF;&#xFF0C;&#x5408;&#x529B;&#x5145;&#x5F53;Docker&#x4F53;&#x7CFB;&#x7684;&#x57FA;&#x77F3;&#x3002;</p>
<p><img src="image/Snipaste_2020-10-03_17-35-08.png" alt=""></p>
<p>1&#x3001;Dockerfile&#xFF0C;&#x9700;&#x8981;&#x5B9A;&#x4E49;&#x4E00;&#x4E2A;Dockerfile&#xFF0C;Dockerfile&#x5B9A; &#x4E49;&#x4E86;&#x8FDB;&#x7A0B;&#x9700;&#x8981;&#x7684;&#x4E00;&#x5207;&#x4E1C;&#x897F;&#x3002;Dockerfile&#x6D89; &#x53CA;&#x7684;&#x5185;&#x5BB9;&#x5305;&#x62EC;&#x6267;&#x884C;&#x4EE3;&#x7801;&#x6216;&#x8005;&#x662F;&#x6587;&#x4EF6;&#x3001;&#x73AF;&#x5883;&#x53D8;&#x91CF;&#x3001;&#x4F9D;&#x8D56;&#x5305;&#x3001;&#x8FD0;&#x884C;&#x65F6;&#x73AF;&#x5883;&#x3001;&#x52A8;&#x6001;&#x94FE;&#x63A5;&#x5E93;&#x3001;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x7684;&#x53D1;&#x884C;&#x7248;&#x3001;&#x670D;&#x52A1;&#x8FDB;&#x7A0B;&#x548C;&#x5185;&#x6838;&#x8FDB;&#x7A0B;(&#x5F53;&#x5E94;&#x7528;&#x8FDB;&#x7A0B;&#x9700;&#x8981;&#x548C;&#x7CFB;&#x7EDF;&#x670D;&#x52A1;&#x548C;&#x5185;&#x6838;&#x8FDB;&#x7A0B;&#x6253;&#x4EA4;&#x9053;&#xFF0C;&#x8FD9;&#x65F6;&#x9700;&#x8981;&#x8003;&#x8651;&#x5982;&#x4F55;&#x8BBE;&#x8BA1;namespace&#x7684;&#x6743;&#x9650;&#x63A7;&#x5236;)&#x7B49;&#x7B49;;
2&#x3001;Docker&#x955C;&#x50CF;&#xFF0C;&#x5728;&#x7528;Dockerfile&#x5B9A;&#x4E49;&#x4E00;&#x6587;&#x4EF6;&#x4E4B;&#x540E;&#xFF0C;docker build&#x65F6;&#x4F1A;&#x4EA7;&#x751F;- -&#x4E2A;Docker&#x955C;&#x50CF;&#xFF0C;&#x5F53;&#x8FD0;&#x884C;Docker&#x955C;&#x50CF;&#x65F6;&#xFF0C;&#x4F1A;&#x771F;&#x6B63;&#x5F00;&#x59CB;&#x63D0;&#x4F9B;&#x670D;&#x52A1;;
3&#x3001;Docker&#x5BB9;&#x5668;&#xFF0C;&#x5BB9;&#x5668;&#x662F;&#x76F4;&#x63A5;&#x63D0;&#x4F9B;&#x670D;&#x52A1;&#x7684;&#x3002;</p>
<h2 id="dockerfile&#x4F53;&#x7CFB;&#x7ED3;&#x6784;&#x4FDD;&#x7559;&#x5B57;&#x6307;&#x4EE4;">DockerFile&#x4F53;&#x7CFB;&#x7ED3;&#x6784;(&#x4FDD;&#x7559;&#x5B57;&#x6307;&#x4EE4;)</h2>
<p><img src="image/Snipaste_2020-10-03_17-47-26.png" alt="image/Snipaste_2020-10-03_17-47-26.png"></p>
<p><img src="image/Snipaste_2020-10-03_17-47-58.png" alt=""></p>
<p>&#x5C0F;&#x603B;&#x7ED3;</p>
<p><img src="image/Snipaste_2020-10-03_17-48-16.png" alt=""></p>
<h2 id="&#x6848;&#x4F8B;">&#x6848;&#x4F8B;</h2>
<h3 id="base-&#x955C;&#x50CF;scratch">Base &#x955C;&#x50CF;(scratch)</h3>
<p>Docker Hub&#x4E2D; 99%&#x7684;&#x955C;&#x50CF;&#x90FD;&#x662F;&#x901A;&#x8FC7;&#x5728;base&#x955C;&#x50CF;&#x4E2D;&#x5B89;&#x88C5;&#x548C;&#x914D;&#x7F6E;&#x9700;&#x8981;&#x7684;&#x8F6F;&#x4EF6;&#x6784;&#x5EFA;&#x51FA;&#x6765;&#x7684;</p>
<p><img src="image/Snipaste_2020-10-03_17-52-43.png" alt=""></p>
<h3 id="&#x81EA;&#x5B9A;&#x4E49;&#x955C;&#x50CF;mycentos">&#x81EA;&#x5B9A;&#x4E49;&#x955C;&#x50CF;mycentos</h3>
<h4 id="1&#x3001;&#x7F16;&#x5199;">1&#x3001;&#x7F16;&#x5199;</h4>
<p>&#x200B;    Hub&#x9ED8;&#x8BA4;Centos&#x955C;&#x50CF;&#x662F;&#x4EC0;&#x4E48;&#x60C5;&#x51B5;</p>
<p><img src="image/Snipaste_2020-10-03_17-53-44.png" alt=""></p>
<p>&#x51C6;&#x5907;Dockerfile&#x6587;&#x4EF6;</p>
<p>myCentOS&#x5185;&#x5BB9;Dockerfile</p>
<p><img src="image/Snipaste_2020-10-03_17-54-40.png" alt=""></p>
<pre><code class="lang-shell">FROM centos
MAINTAINER ZZYY&lt;zzyy167@126.com&gt;

ENV MYPATH /usr/local
WORKDIR $MYPATH

RUN yum -y install vim
RUN yum -y install net-tools

EXPOSE 80

CMD echo $MYPATH
CMD echo &quot;success--------------ok&quot;
CMD /bin/bash
</code></pre>
<h4 id="2&#x3001;&#x6784;&#x5EFA;">2&#x3001;&#x6784;&#x5EFA;</h4>
<p>docker build -t &#x65B0;&#x955C;&#x50CF;&#x540D;&#x5B57;:TAG .</p>
<p><img src="image/Snipaste_2020-10-03_17-56-15.png" alt=""></p>
<h4 id="3&#x3001;&#x8FD0;&#x884C;">3&#x3001;&#x8FD0;&#x884C;</h4>
<p>docker run -it &#x65B0;&#x955C;&#x50CF;&#x540D;&#x5B57;:TAG </p>
<p><img src="image/Snipaste_2020-10-03_17-57-09.png" alt=""></p>
<h4 id="4&#x3001;&#x5217;&#x51FA;&#x955C;&#x50CF;&#x7684;&#x53D8;&#x66F4;&#x5386;&#x53F2;">4&#x3001;&#x5217;&#x51FA;&#x955C;&#x50CF;&#x7684;&#x53D8;&#x66F4;&#x5386;&#x53F2;</h4>
<p>docker history &#x955C;&#x50CF;&#x540D;</p>
<p>CMD/ENTRYPOINT &#x955C;&#x50CF;&#x6848;&#x4F8B;</p>
<p>&#x90FD;&#x662F;&#x6307;&#x5B9A;&#x4E00;&#x4E2A;&#x5BB9;&#x5668;&#x542F;&#x52A8;&#x65F6;&#x8981;&#x8FD0;&#x884C;&#x7684;&#x547D;&#x4EE4;</p>
<h3 id="cmd">CMD</h3>
<p>&#x200B;    Dockerfile&#x4E2D;&#x53EF;&#x4EE5;&#x6709;&#x591A;&#x4E2A;CMD&#x6307;&#x4EE4;&#xFF0C;&#x4F46;&#x53EA;&#x6709;&#x6700;&#x540E;&#x4E00;&#x4E2A;&#x751F;&#x6548;&#xFF0C;CMD&#x4F1A;&#x88AB;dockerrun&#x4E4B;&#x540E;&#x7684;&#x53C2;&#x6570;&#x66FF;&#x6362;</p>
<p>&#x200B;    Case</p>
<p>&#x200B;    tomcat&#x7684;&#x8BB2;&#x89E3;&#x6F14;&#x793A; docker run -it -p 8080:8080 tomcat ls -l</p>
<h5 id="entrypoint">ENTRYPOINT</h5>
<p>&#x200B;    docker run &#x4E4B;&#x540E;&#x7684;&#x53C2;&#x6570;&#x4F1A;&#x88AB;&#x5F53;&#x505A;&#x53C2;&#x6570;&#x4F20;&#x9012;&#x7ED9; ENTRYPOINT &#x4E4B;&#x540E;&#x5F62;&#x6210;&#x65B0;&#x7684;&#x547D;&#x4EE4;&#x7EC4;&#x5408;</p>
<p>&#x200B;    Case </p>
<p><img src="image/Snipaste_2020-10-03_18-02-41.png" alt=""></p>
<p>&#x5236;&#x4F5C;CMD&#x7248;&#x53EF;&#x4EE5;&#x67E5;&#x8BE2;IP&#x4FE1;&#x606F;&#x7684;&#x5BB9;&#x5668;</p>
<p><img src="image/Snipaste_2020-10-03_18-03-11.png" alt=""></p>
<h5 id="curl&#x7684;&#x547D;&#x4EE4;&#x89E3;&#x91CA;">curl&#x7684;&#x547D;&#x4EE4;&#x89E3;&#x91CA;</h5>
<p><strong>curl</strong>&#x547D;&#x4EE4;&#x53EF;&#x4EE5;&#x7528;&#x6765;&#x6267;&#x884C;&#x4E0B;&#x8F7D;&#x3001;&#x53D1;&#x9001;&#x5404;&#x79CD;<strong>HTTP</strong>&#x8BF7;&#x6C42;&#xFF0C;&#x6307;&#x5B9A;<strong>HTTP</strong>&#x5934;&#x90E8;&#x7B49;&#x64CD;&#x4F5C;&#x3002;</p>
<p>&#x5982;&#x679C;&#x7CFB;&#x7EDF;&#x6CA1;&#x6709;<strong>curl</strong>&#x53EF;&#x4EE5;&#x4F7F;&#x7528;<strong>yum install curl</strong>&#x5B89;&#x88C5;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x4E0B;&#x8F7D;&#x5B89;&#x88C5;&#x3002;
<strong>curl&#x662F;&#x5C06;&#x4E0B;&#x8F7D;&#x6587;&#x4EF6;&#x8F93;&#x51FA;&#x5230;stdout</strong>
&#x4F7F;&#x7528;&#x547D;&#x4EE4;: curl <a href="http://www" target="_blank">http://www</a> .baidu.com
&#x6267;&#x884C;&#x540E;&#xFF0C;www.baidu.com&#x7684;html&#x5C31;&#x4F1A;&#x663E;&#x793A;&#x5728;&#x5C4F;&#x5E55;&#x4E0A;&#x4E86;</p>
<p>&#x8FD9;&#x662F;&#x6700;&#x7B80;&#x5355;&#x7684;&#x4F7F;&#x7528;&#x65B9;&#x6CD5;&#x3002;&#x7528;&#x8FD9;&#x4E2A;&#x547D;&#x4EE4;&#x83B7;&#x5F97;&#x4E86;htp://curl.haxx.se&#x6307;&#x5411;&#x7684;&#x9875;&#x9762;&#xFF0C;&#x540C;&#x6837;&#xFF0C;&#x5982;&#x679C;&#x8FD9;&#x91CC;&#x7684;URL&#x6307;&#x5411;&#x7684;&#x662F;--&#x4E2A;&#x6587;&#x4EF6;&#x6216;&#x8005;&#x4E00;&#x5E45;&#x56FE;&#x90FD;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x4E0B;&#x8F7D;&#x5230;&#x672C;&#x5730;&#x3002;&#x5982;&#x679C;&#x4E0B;&#x8F7D;&#x7684;&#x662F;HTML&#x6587;&#x6863;&#xFF0C;&#x90A3;&#x4E48;&#x7F3A;&#x7701;&#x7684;&#x5C06;&#x53EA;&#x663E;&#x793A;&#x6587;&#x4EF6;&#x5934;&#x90E8;&#xFF0C;&#x5373;HTML&#x6587;&#x6863;&#x7684;header&#x3002;&#x8981;&#x5168;&#x90E8;&#x663E;&#x793A;&#xFF0C;&#x8BF7;&#x52A0;&#x53C2;&#x6570;-i</p>
<p>WHY</p>
<p>&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x770B;&#x5230;&#x53EF;&#x6267;&#x884C;&#x6587;&#x4EF6;&#x627E;&#x4E0D;&#x5230;&#x7684;&#x62A5;&#x9519;&#xFF0C;<strong>executable file not found&#x3002;</strong>
&#x4E4B;&#x524D;&#x6211;&#x4EEC;&#x8BF4;&#x8FC7;&#xFF0C;<strong>&#x8DDF;&#x5728;&#x955C;&#x50CF;&#x540D;&#x540E;&#x9762;&#x7684;&#x662F;command,&#x8FD0;&#x884C;&#x65F6;&#x4F1A;&#x66FF;&#x6362;CMD&#x7684;&#x9ED8;&#x8BA4;&#x503C;&#x3002;</strong>
&#x56E0;&#x6B64;&#x8FD9;&#x91CC;&#x7684;-i&#x66FF;&#x6362;&#x4E86;&#x539F;&#x6765;&#x7684;CMD&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x6DFB;&#x52A0;&#x5728;&#x539F;&#x6765;&#x7684;curl -s htp://ip.cn&#x540E;&#x9762;&#x3002;&#x800C;-i &#x6839;&#x672C;&#x4E0D;&#x662F;&#x547D;&#x4EE4;&#xFF0C;&#x6240;&#x4EE5;&#x81EA;&#x7136;&#x627E;&#x4E0D;&#x5230;&#x3002;
&#x90A3;&#x4E48;&#x5982;&#x679C;&#x6211;&#x4EEC;&#x5E0C;&#x671B;&#x52A0;&#x5165;-i&#x8FD9;&#x53C2;&#x6570;&#xFF0C;&#x6211;&#x4EEC;&#x5C31;&#x5FC5;&#x987B;&#x91CD;&#x65B0;&#x5B8C;&#x6574;&#x7684;&#x8F93;&#x5165;&#x8FD9;&#x4E2A;&#x547D;&#x4EE4;:
<strong>$ docker run myip curl -s <a href="http://ip.cn" target="_blank">http://ip.cn</a> -i</strong></p>
<p><img src="image/Snipaste_2020-10-03_18-05-28.png" alt=""></p>
<h3 id="&#x81EA;&#x5B9A;&#x4E49;&#x955C;&#x50CF;tomcat">&#x81EA;&#x5B9A;&#x4E49;&#x955C;&#x50CF;Tomcat</h3>
<h5 id="1&#x3001;mkdir--p-zzyymydockerfiletomcat9">1&#x3001;mkdir -p /zzyy/mydockerfile/tomcat9</h5>
<h5 id="2&#x3001;&#x5728;&#x4E0A;&#x8FF0;&#x76EE;&#x5F55;&#x4E0B;-touch-ctxt">2&#x3001;&#x5728;&#x4E0A;&#x8FF0;&#x76EE;&#x5F55;&#x4E0B; touch c.txt</h5>
<h5 id="3&#x3001;&#x5C06;jdk&#x548C;tomcat&#x5B89;&#x88C5;&#x7684;&#x538B;&#x7F29;&#x5305;&#x62F7;&#x8D1D;&#x8FDB;&#x4E0A;&#x4E00;&#x6B65;&#x76EE;&#x5F55;">3&#x3001;&#x5C06;jdk&#x548C;tomcat&#x5B89;&#x88C5;&#x7684;&#x538B;&#x7F29;&#x5305;&#x62F7;&#x8D1D;&#x8FDB;&#x4E0A;&#x4E00;&#x6B65;&#x76EE;&#x5F55;</h5>
<h5 id="4&#x3001;&#x5728;zzyyusemydockerfiletomcat9&#x76EE;&#x5F55;&#x4E0B;&#x65B0;&#x5EFA;dockerfile&#x6587;&#x4EF6;">4&#x3001;&#x5728;zzyyuse/mydockerfile/tomcat9&#x76EE;&#x5F55;&#x4E0B;&#x65B0;&#x5EFA;Dockerfile&#x6587;&#x4EF6;</h5>
<pre><code class="lang-dockerfile"><span class="hljs-keyword">FROM</span> centos
<span class="hljs-keyword">MAINTAINER</span> zzyy&lt;zzyybs@ <span class="hljs-number">126</span>.com&gt;
<span class="hljs-comment">#&#x628A;&#x5BBF;&#x4E3B;&#x673A;&#x5F53;&#x524D;&#x4E0A;&#x4E0B;&#x6587;&#x7684;c .txt&#x62F7;&#x8D1D;&#x5230;&#x5BB9;&#x5668;/usr/local/&#x8DEF;&#x5F84;&#x4E0B;</span>
<span class="hljs-keyword">COPY</span> <span class="bash">c.txt /usr/<span class="hljs-built_in">local</span>/cincontainer.txt
</span><span class="hljs-comment">#&#x628A;java&#x4E0E;tomcat&#x6DFB;&#x52A0;&#x5230;&#x5BB9;&#x5668;&#x4E2D;</span>
<span class="hljs-keyword">ADD</span> <span class="bash">jdk-8u171-linux x64.tar .gz /usr/<span class="hljs-built_in">local</span>/
</span><span class="hljs-keyword">ADD</span> <span class="bash">apache-tomcat-9.0.8.tar.gz /usr/ocal/
</span><span class="hljs-comment">#&#x5B89;&#x88C5;vim&#x7F16;&#x8F91;&#x5668;</span>
<span class="hljs-keyword">RUN</span> <span class="bash">yum -y install vim
</span><span class="hljs-comment">#&#x8BBE;&#x7F6E;&#x5DE5; &#x4F5C;&#x8BBF;&#x95EE;&#x65F6;&#x5019;&#x7684;WORKDIR&#x8DEF;&#x5F84;&#xFF0C; &#x767B;&#x5F55;&#x843D;&#x811A;&#x70B9;</span>
<span class="hljs-keyword">ENV</span> MYPATH /usr/local
<span class="hljs-keyword">WORKDIR</span> <span class="bash"><span class="hljs-variable">$MYPATH</span>
</span><span class="hljs-comment">#&#x914D;:&#x7F6E;java&#x4E0E;tomcat&#x73AF;&#x5883;&#x53D8;&#x91CF;</span>
<span class="hljs-keyword">ENV</span> JAVA_ HOME /usr/localjdk1 .<span class="hljs-number">8.0</span>_ <span class="hljs-number">171</span>
<span class="hljs-keyword">ENV</span> CLASSPATH $JAVA_ HOME/lib/dt.jar:$JAVA_ HOME/lib/tools.jar
<span class="hljs-keyword">ENV</span> CATALINA_ HOME /usr/local/apache-tomcat-<span class="hljs-number">9.0</span>.<span class="hljs-number">8</span>
<span class="hljs-keyword">ENV</span> CATALINA_ BASE /usr/ocal/apache-tomcat-<span class="hljs-number">9.0</span>.<span class="hljs-number">8</span>
<span class="hljs-keyword">ENV</span> PATH $PATH:$JAVA_ HOME/bin:$CATALINA_ HOME/ib:$CATALINA_ HOME/bin
<span class="hljs-comment">#&#x5BB9;&#x5668;&#x8FD0;&#x884C;&#x65F6;&#x76D1;&#x542C;&#x7684;&#x7AEF;&#x53E3;</span>
<span class="hljs-keyword">EXPOSE</span> <span class="hljs-number">8080</span>
<span class="hljs-comment">#&#x542F;&#x52A8;&#x65F6;&#x8FD0;&#x884C;tomcat</span>
<span class="hljs-comment"># ENTRYPOINT [&quot;/usrl/local/apache-tomcat-9.0.8/bin/startup.sh&quot; ]</span>
<span class="hljs-comment"># CMD [&quot;/usr/local/apache-tomcat-9.0.8/bin/catalina.sh&quot;,&quot;run&quot;]</span>
CMD /usr/local/apache-tomcat-<span class="hljs-number">9.0</span>.<span class="hljs-number">8</span>/bin/startup.sh &amp;&amp; tail -F /usr/local/apache-tomcat-<span class="hljs-number">9.0</span>.<span class="hljs-number">8</span>/in/logs/catalina.out
</code></pre>
<p>&#x76EE;&#x5F55;&#x5185;&#x5BB9;</p>
<p><img src="image/Snipaste_2020-10-03_18-12-29.png" alt=""></p>
<h5 id="5&#x3001;&#x6784;&#x5EFA;">5&#x3001;&#x6784;&#x5EFA;</h5>
<p><img src="image/Snipaste_2020-10-03_18-12-48.png" alt=""></p>
<p>&#x6784;&#x5EFA;&#x5B8C;&#x6210;</p>
<p><img src="image/Snipaste_2020-10-03_18-13-20.png" alt=""></p>
<h5 id="6&#x3001;run">6&#x3001;run</h5>
<pre><code class="lang-dockerfile">docker <span class="hljs-keyword">run</span> -d -p 9080:8080 -name myt9
 -v /zyuse/mydockerfiletomcat9/test:/usrlocal/apache-tomcat9.0.8/webapps/test
 -v /zzyyuse/mydockerfile/tomcat9/tomcat9logs/:/usrlocal/apache-tomcat-9.0.8/logs -privileged=true zzyytomcat9
</code></pre>
<p><img src="image/Snipaste_2020-10-03_18-14-42.png" alt=""></p>
<p>&#x5907;&#x6CE8;</p>
<p>Docker&#x6302;&#x8F7D;&#x4E3B;&#x673A;&#x76EE;&#x5F55;Docker&#x8BBF;&#x95EE;&#x51FA;&#x73B0;cannot open directory : Permission denied&#x89E3;&#x51B3;&#x529E;&#x6CD5;:&#x5728;&#x6302;&#x8F7D;&#x76EE;&#x5F55;&#x540E;&#x591A;&#x52A0;&#x4E00;&#x4E2A;--privileged=true&#x53C2;&#x6570;&#x5373;&#x53EF;</p>
<h5 id="7&#x3001;&#x9A8C;&#x8BC1;">7&#x3001;&#x9A8C;&#x8BC1;</h5>
<p><img src="image/Snipaste_2020-10-03_18-58-14.png" alt=""></p>
<h5 id="8&#x3001;&#x7EFC;&#x5408;&#x524D;-&#x8FF0;&#x5BB9;&#x5668;&#x5377;&#x6D4B;&#x8BD5;&#x7684;web&#x670D;&#x52A1;test&#x53D1;&#x5E03;">8&#x3001;&#x7EFC;&#x5408;&#x524D; &#x8FF0;&#x5BB9;&#x5668;&#x5377;&#x6D4B;&#x8BD5;&#x7684;web&#x670D;&#x52A1;test&#x53D1;&#x5E03;</h5>
<p><img src="image/Snipaste_2020-10-03_18-58-56.png" alt=""></p>
<p>web.xml</p>
<pre><code class="lang-xml"><span class="php"><span class="hljs-meta">&lt;?</span>xml version=<span class="hljs-string">&quot;1 .0&quot;</span> encoding=<span class="hljs-string">&quot;UTF-8&quot;</span><span class="hljs-meta">?&gt;</span></span>
<span class="hljs-tag">&lt;<span class="hljs-name">web-app</span> <span class="hljs-attr">xmIns:xsi</span>=<span class="hljs-string">&quot;http://www.w3.org/2001/XML Schema-instance&quot;</span>
<span class="hljs-attr">xmIns</span>=<span class="hljs-string">&quot;http://java sun.com/xm/ns/javaee&quot;</span>
<span class="hljs-attr">xsi:schemaL</span> <span class="hljs-attr">ocation</span>=<span class="hljs-string">&quot;http://java. sun.com/xml/ns/javaee htp:/:/java. sun.com/xml/ns/javaee/web-app_ 2_ _5.xsd&quot;</span>
<span class="hljs-attr">id</span>=<span class="hljs-string">&quot;WebApp_ ID&quot;</span> <span class="hljs-attr">version</span>=<span class="hljs-string">&quot;2.5&quot;</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">display-name</span>&gt;</span>test<span class="hljs-tag">&lt;/<span class="hljs-name">display-name</span>&gt;</span>

<span class="hljs-tag">&lt;/<span class="hljs-name">web-app</span>&gt;</span>
</code></pre>
<p>a.jsp</p>
<pre><code class="lang-jsp">&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=UTF-8&quot; pageEncoding=&quot;UTF-8&quot;%&gt;
&lt;!DOCTYPE html PUBLIC&#x201C;//W3C//DTD HTML 4.01 Transitional//EN&quot; http://www.w3.org/TR/html4/loose.dtd&quot;&gt;
&lt;html&gt;
&lt;head&gt;
&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot;&gt;
&lt;title&gt;Insert title here &lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
welcome-
&lt;%=&quot;i am in docker tomcat self &quot;%&gt;
&lt;br&gt;
&lt;br&gt;
&lt;% System.out,.printIn(&quot;==========docker tomcat self&quot;);%&gt;
&lt;/body&gt;
&lt;/htmI&gt;
</code></pre>
<p>&#x6D4B;&#x8BD5;</p>
<pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-name">%@</span> <span class="hljs-attr">page</span> <span class="hljs-attr">language</span>=<span class="hljs-string">&quot;java&quot;</span> <span class="hljs-attr">contentType</span>=<span class="hljs-string">&quot;text/html; charset=UTF-8&quot;</span> <span class="hljs-attr">pageEncoding</span>=<span class="hljs-string">&quot;UTF-8&quot;</span><span class="hljs-string">%</span>&gt;</span>
<span class="hljs-meta">&lt;!DOCTYPE html PUBLIC&#x201C;//W3C//DTD HTML 4.01 Transitional//EN&quot; http://www.w3.org/TR/html4/loose.dtd&quot;&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">http-equiv</span>=<span class="hljs-string">&quot;Content-Type&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;text/html; charset=UTF-8&quot;</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Insert title here <span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
welcome-
<span class="hljs-tag">&lt;<span class="hljs-name">%=&quot;i</span> <span class="hljs-attr">am</span> <span class="hljs-attr">in</span> <span class="hljs-attr">docker</span> <span class="hljs-attr">tomcat</span> <span class="hljs-attr">self</span> &quot;%&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">%</span> <span class="hljs-attr">System.out</span>,<span class="hljs-attr">.printIn</span>(&quot;=<span class="hljs-string">=========docker</span> <span class="hljs-attr">tomcat</span> <span class="hljs-attr">self</span>&quot;);%&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">htmI</span>&gt;</span>
</code></pre>
<h2 id="&#x5C0F;&#x603B;&#x7ED3;">&#x5C0F;&#x603B;&#x7ED3;</h2>
<p><img src="image/Snipaste_2020-10-03_19-00-48.png" alt=""></p>
<h1 id="&#x7B2C;-&#x4E03;-&#x7AE0;-docker&#x5E38;&#x7528;&#x5B89;&#x88C5;">&#x7B2C; &#x4E03; &#x7AE0; Docker&#x5E38;&#x7528;&#x5B89;&#x88C5;</h1>
<h3 id="&#x603B;&#x4F53;&#x6B65;&#x9AA4;">&#x603B;&#x4F53;&#x6B65;&#x9AA4;</h3>
<blockquote>
<p>&#x641C;&#x7D22;&#x955C;&#x50CF;</p>
<p>&#x62C9;&#x53D6;&#x955C;&#x50CF;</p>
<p>&#x67E5;&#x770B;&#x955C;&#x50CF;</p>
<p>&#x542F;&#x52A8;&#x955C;&#x50CF;</p>
<p>&#x505C;&#x6B62;&#x5BB9;&#x5668;</p>
<p>&#x79FB;&#x9664;&#x5BB9;&#x5668;</p>
</blockquote>
<h3 id="&#x5B89;&#x88C5;mysql">&#x5B89;&#x88C5;Mysql</h3>
<h4 id="docker-hub-&#x4E0A;&#x67E5;&#x627E;mysql&#x955C;&#x50CF;">docker hub &#x4E0A;&#x67E5;&#x627E;mysql&#x955C;&#x50CF;</h4>
<p><img src="image/Snipaste_2020-10-04_11-38-56.png" alt=""></p>
<h4 id="&#x4ECE;-docker-hub&#x963F;&#x91CC;&#x4E91;&#x52A0;&#x901F;&#x5668;&#x62C9;&#x53D6;mysql&#x955C;&#x50CF;&#x5230;&#x672C;&#x5730;&#x6807;&#x7B7E;&#x4E3A;56">&#x4ECE; docker hub(&#x963F;&#x91CC;&#x4E91;&#x52A0;&#x901F;&#x5668;)&#x62C9;&#x53D6;mysql&#x955C;&#x50CF;&#x5230;&#x672C;&#x5730;&#x6807;&#x7B7E;&#x4E3A;5.6</h4>
<p><img src="image/Snipaste_2020-10-04_11-40-13.png" alt=""></p>
<h4 id="&#x4F7F;&#x7528;mysql56&#x955C;&#x50CF;&#x521B;&#x5EFA;&#x5BB9;&#x5668;&#x4E5F;&#x53EB;&#x8FD0;&#x884C;&#x955C;&#x50CF;">&#x4F7F;&#x7528;mysql5.6&#x955C;&#x50CF;&#x521B;&#x5EFA;&#x5BB9;&#x5668;(&#x4E5F;&#x53EB;&#x8FD0;&#x884C;&#x955C;&#x50CF;)</h4>
<p>&#x4F7F;&#x7528;mysql&#x955C;&#x50CF;</p>
<pre><code class="lang-shell">docker run -p 12345:3306 --name mysql 
-v /ggcc/mysql/conf:/etc/mysql/conf.d 
-v /ggcc/mysql/logs:/logs 
-v /ggcc/mysql/data:/var/lib/mysql 
-e MYSQL_ROOT_PASSWORD=123456 -d mysql:5.6
----------------------------------------------
&#x547D;&#x4EE4;&#x8BF4;&#x660E;:
-p 12345:3306:&#x5C06;&#x4E3B;&#x673A;&#x7684;12345&#x7AEF;&#x53E3;&#x6620;&#x5C04;&#x5230;docker&#x5BB9;&#x5668;&#x7684;3306&#x7AEF;&#x53E3;&#x3002;
-name mysq:&#x8FD0;&#x884C;&#x670D;&#x52A1;&#x540D;&#x5B57;
-V /ggcc/mysql/conf:/etc/mysql/conf.d :&#x5C06;&#x4E3B;&#x673A;/zzyyuse/mysq|&#x5F55;&#x4E0B;&#x7684;conf/my.cnf&#x6302;&#x8F7D;&#x5230;&#x5BB9;&#x5668;&#x7684;/etc/mysql/conf.d
-v /ggcc/mysqlogs/logs: &#x5C06;&#x4E3B;&#x673A;/zzyyuse/mysq|&#x76EE; &#x5F55;&#x4E0B;&#x7684;logs &#x76EE;&#x5F55;&#x6302;&#x8F7D;&#x5230;&#x5BB9;&#x5668;&#x7684;/logs&#x3002;
-V /ggcc/mysqldata:/var/lib/mysql :&#x5C06;&#x4E3B;&#x673A;lzzyyuse/mysql&#x76EE;&#x5F55;&#x4E0B;&#x7684;data&#x76EE;&#x5F55;&#x6302;&#x8F7D;&#x5230;&#x5BB9;&#x5668;&#x7684;/var/lib/mysql .
-e MYSQL_ ROOT_ PASSWORD=123456: &#x521D;&#x59CB;&#x5316;root&#x7528;&#x6237;&#x7684;&#x5BC6;&#x7801;&#x3002;.
-d mysql:5.6:&#x540E;&#x53F0;&#x7A0B;&#x5E8F;&#x8FD0;&#x884C;mysql5.6 
----------------------------------------------
docker exec -it Mysql&#x8FD0;&#x884C;&#x6210;&#x529F;&#x540E;&#x7684;&#x5BB9;&#x5668;ID /bin/bash
----------------------------------------------
&#x6570;&#x636E;&#x5907;&#x4EFD;&#x5C0F;&#x6D4B;&#x8BD5;
docker exec mysql&#x670D;&#x52A1;&#x5BB9;&#x5668;ID sh -c &apos;exec mysqldump --all-databases -uroot -p&quot;123456&quot;&apos; &gt;/ggcc/all-database.sql
</code></pre>
<p><img src="image/Snipaste_2020-10-04_11-59-32.png" alt=""></p>
<h4 id="&#x6570;&#x636E;&#x5907;&#x4EFD;&#x6D4B;&#x8BD5;">&#x6570;&#x636E;&#x5907;&#x4EFD;&#x6D4B;&#x8BD5;</h4>
<p><img src="image/Snipaste_2020-10-04_12-02-59.png" alt=""></p>
<h3 id="&#x5B89;&#x88C5;redis">&#x5B89;&#x88C5;Redis</h3>
<h4 id="&#x4ECE;docker-hu&#x4E0A;&#x963F;&#x91CC;&#x4E91;&#x52A0;&#x901F;&#x5668;&#x62C9;&#x53D6;redis&#x955C;&#x50CF;&#x5230;&#x672C;&#x5730;&#x6807;&#x7B7E;&#x4E3A;&#xFF1A;32">&#x4ECE;docker hu&#x4E0A;(&#x963F;&#x91CC;&#x4E91;&#x52A0;&#x901F;&#x5668;)&#x62C9;&#x53D6;redis&#x955C;&#x50CF;&#x5230;&#x672C;&#x5730;&#x6807;&#x7B7E;&#x4E3A;&#xFF1A;3.2</h4>
<p><img src="image/Snipaste_2020-10-04_12-05-08.png" alt=""></p>
<h4 id="&#x4F7F;&#x7528;redis32&#x955C;&#x50CF;&#x521B;&#x5EFA;&#x5BB9;&#x5668;&#x4E5F;&#x53EB;&#x8FD0;&#x884C;&#x955C;&#x50CF;">&#x4F7F;&#x7528;redis3.2&#x955C;&#x50CF;&#x521B;&#x5EFA;&#x5BB9;&#x5668;(&#x4E5F;&#x53EB;&#x8FD0;&#x884C;&#x955C;&#x50CF;)</h4>
<p>&#x200B;    &#x4F7F;&#x7528;&#x955C;&#x50CF;</p>
<pre><code class="lang-shell">docker run -p 6379:6379 -v /ggcc/myredis/data:/data -v /ggcc/myredis/conf/redis.conf:/usr/local/etc/redis/redis.conf -d redis redis-server /usr/local/etc/redis/redis.conf --appendonly yes
</code></pre>
<h4 id="&#x5728;&#x4E3B;&#x673A;ggccmyredisconfredisconf&#x76EE;&#x5F55;&#x4E0A;&#x65B0;&#x5EFA;redisconf&#x6587;&#x4EF6;">&#x5728;&#x4E3B;&#x673A;/ggcc/myredis/conf/redis.conf&#x76EE;&#x5F55;&#x4E0A;&#x65B0;&#x5EFA;redis.conf&#x6587;&#x4EF6;</h4>
<p>vim /ggcc/myredis/conf/redis.conf/redis.conf</p>
<pre><code class="lang-java"># Redis configuration file example.
#
# Note that in order to read the configuration file, Redis must be
# started with the file path as first argument:
#
# ./redis-server /path/to/redis.conf

# Note on units: when memory size is needed, it is possible to specify
# it in the usual form of 1k 5GB 4M and so forth:
#
# 1k =&gt; 1000 bytes
# 1kb =&gt; 1024 bytes
# 1m =&gt; 1000000 bytes
# 1mb =&gt; 1024*1024 bytes
# 1g =&gt; 1000000000 bytes
# 1gb =&gt; 1024*1024*1024 bytes
#
# units are case insensitive so 1GB 1Gb 1gB are all the same.

################################## INCLUDES ###################################

# Include one or more other config files here.  This is useful if you
# have a standard template that goes to all Redis servers but also need
# to customize a few per-server settings.  Include files can include
# other files, so use this wisely.
#
# Notice option &quot;include&quot; won&apos;t be rewritten by command &quot;CONFIG REWRITE&quot;
# from admin or Redis Sentinel. Since Redis always uses the last processed
# line as value of a configuration directive, you&apos;d better put includes
# at the beginning of this file to avoid overwriting config change at runtime.
#
# If instead you are interested in using includes to override configuration
# options, it is better to use include as the last line.
#
# include /path/to/local.conf
# include /path/to/other.conf

################################## MODULES #####################################

# Load modules at startup. If the server is not able to load modules
# it will abort. It is possible to use multiple loadmodule directives.
#
# loadmodule /path/to/my_module.so
# loadmodule /path/to/other_module.so

################################## NETWORK #####################################

# By default, if no &quot;bind&quot; configuration directive is specified, Redis listens
# for connections from all the network interfaces available on the server.
# It is possible to listen to just one or multiple selected interfaces using
# the &quot;bind&quot; configuration directive, followed by one or more IP addresses.
#
# Examples:
#
# bind 192.168.1.100 10.0.0.1
# bind 127.0.0.1 ::1
#
# ~~~ WARNING ~~~ If the computer running Redis is directly exposed to the
# internet, binding to all the interfaces is dangerous and will expose the
# instance to everybody on the internet. So by default we uncomment the
# following bind directive, that will force Redis to listen only into
# the IPv4 loopback interface address (this means Redis will be able to
# accept connections only from clients running into the same computer it
# is running).
#
# IF YOU ARE SURE YOU WANT YOUR INSTANCE TO LISTEN TO ALL THE INTERFACES
# JUST COMMENT THE FOLLOWING LINE.
# ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
#bind 127.0.0.1

# Protected mode is a layer of security protection, in order to avoid that
# Redis instances left open on the internet are accessed and exploited.
#
# When protected mode is on and if:
#
# 1) The server is not binding explicitly to a set of addresses using the
#    &quot;bind&quot; directive.
# 2) No password is configured.
#
# The server only accepts connections from clients connecting from the
# IPv4 and IPv6 loopback addresses 127.0.0.1 and ::1, and from Unix domain
# sockets.
#
# By default protected mode is enabled. You should disable it only if
# you are sure you want clients from other hosts to connect to Redis
# even if no authentication is configured, nor a specific set of interfaces
# are explicitly listed using the &quot;bind&quot; directive.
protected-mode yes

# Accept connections on the specified port, default is 6379 (IANA #815344).
# If port 0 is specified Redis will not listen on a TCP socket.
port 6379

# TCP listen() backlog.
#
# In high requests-per-second environments you need an high backlog in order
# to avoid slow clients connections issues. Note that the Linux kernel
# will silently truncate it to the value of /proc/sys/net/core/somaxconn so
# make sure to raise both the value of somaxconn and tcp_max_syn_backlog
# in order to get the desired effect.
tcp-backlog 511

# Unix socket.
#
# Specify the path for the Unix socket that will be used to listen for
# incoming connections. There is no default, so Redis will not listen
# on a unix socket when not specified.
#
# unixsocket /tmp/redis.sock
# unixsocketperm 700

# Close the connection after a client is idle for N seconds (0 to disable)
timeout 0

# TCP keepalive.
#
# If non-zero, use SO_KEEPALIVE to send TCP ACKs to clients in absence
# of communication. This is useful for two reasons:
#
# 1) Detect dead peers.
# 2) Take the connection alive from the point of view of network
#    equipment in the middle.
#
# On Linux, the specified value (in seconds) is the period used to send ACKs.
# Note that to close the connection the double of the time is needed.
# On other kernels the period depends on the kernel configuration.
#
# A reasonable value for this option is 300 seconds, which is the new
# Redis default starting with Redis 3.2.1.
tcp-keepalive 300

################################# TLS/SSL #####################################

# By default, TLS/SSL is disabled. To enable it, the &quot;tls-port&quot; configuration
# directive can be used to define TLS-listening ports. To enable TLS on the
# default port, use:
#
# port 0
# tls-port 6379

# Configure a X.509 certificate and private key to use for authenticating the
# server to connected clients, masters or cluster peers.  These files should be
# PEM formatted.
#
# tls-cert-file redis.crt 
# tls-key-file redis.key

# Configure a DH parameters file to enable Diffie-Hellman (DH) key exchange:
#
# tls-dh-params-file redis.dh

# Configure a CA certificate(s) bundle or directory to authenticate TLS/SSL
# clients and peers.  Redis requires an explicit configuration of at least one
# of these, and will not implicitly use the system wide configuration.
#
# tls-ca-cert-file ca.crt
# tls-ca-cert-dir /etc/ssl/certs

# By default, clients (including replica servers) on a TLS port are required
# to authenticate using valid client side certificates.
#
# If &quot;no&quot; is specified, client certificates are not required and not accepted.
# If &quot;optional&quot; is specified, client certificates are accepted and must be
# valid if provided, but are not required.
#
# tls-auth-clients no
# tls-auth-clients optional

# By default, a Redis replica does not attempt to establish a TLS connection
# with its master.
#
# Use the following directive to enable TLS on replication links.
#
# tls-replication yes

# By default, the Redis Cluster bus uses a plain TCP connection. To enable
# TLS for the bus protocol, use the following directive:
#
# tls-cluster yes

# Explicitly specify TLS versions to support. Allowed values are case insensitive
# and include &quot;TLSv1&quot;, &quot;TLSv1.1&quot;, &quot;TLSv1.2&quot;, &quot;TLSv1.3&quot; (OpenSSL &gt;= 1.1.1) or
# any combination. To enable only TLSv1.2 and TLSv1.3, use:
#
# tls-protocols &quot;TLSv1.2 TLSv1.3&quot;

# Configure allowed ciphers.  See the ciphers(1ssl) manpage for more information
# about the syntax of this string.
#
# Note: this configuration applies only to &lt;= TLSv1.2.
#
# tls-ciphers DEFAULT:!MEDIUM

# Configure allowed TLSv1.3 ciphersuites.  See the ciphers(1ssl) manpage for more
# information about the syntax of this string, and specifically for TLSv1.3
# ciphersuites.
#
# tls-ciphersuites TLS_CHACHA20_POLY1305_SHA256

# When choosing a cipher, use the server&apos;s preference instead of the client
# preference. By default, the server follows the client&apos;s preference.
#
# tls-prefer-server-ciphers yes

# By default, TLS session caching is enabled to allow faster and less expensive
# reconnections by clients that support it. Use the following directive to disable
# caching.
#
# tls-session-caching no

# Change the default number of TLS sessions cached. A zero value sets the cache
# to unlimited size. The default size is 20480.
#
# tls-session-cache-size 5000

# Change the default timeout of cached TLS sessions. The default timeout is 300
# seconds.
#
# tls-session-cache-timeout 60

################################# GENERAL #####################################

# By default Redis does not run as a daemon. Use &apos;yes&apos; if you need it.
# Note that Redis will write a pid file in /var/run/redis.pid when daemonized.
daemonize no

# If you run Redis from upstart or systemd, Redis can interact with your
# supervision tree. Options:
#   supervised no      - no supervision interaction
#   supervised upstart - signal upstart by putting Redis into SIGSTOP mode
#   supervised systemd - signal systemd by writing READY=1 to $NOTIFY_SOCKET
#   supervised auto    - detect upstart or systemd method based on
#                        UPSTART_JOB or NOTIFY_SOCKET environment variables
# Note: these supervision methods only signal &quot;process is ready.&quot;
#       They do not enable continuous liveness pings back to your supervisor.
supervised no

# If a pid file is specified, Redis writes it where specified at startup
# and removes it at exit.
#
# When the server runs non daemonized, no pid file is created if none is
# specified in the configuration. When the server is daemonized, the pid file
# is used even if not specified, defaulting to &quot;/var/run/redis.pid&quot;.
#
# Creating a pid file is best effort: if Redis is not able to create it
# nothing bad happens, the server will start and run normally.
pidfile /var/run/redis_6379.pid

# Specify the server verbosity level.
# This can be one of:
# debug (a lot of information, useful for development/testing)
# verbose (many rarely useful info, but not a mess like the debug level)
# notice (moderately verbose, what you want in production probably)
# warning (only very important / critical messages are logged)
loglevel notice

# Specify the log file name. Also the empty string can be used to force
# Redis to log on the standard output. Note that if you use standard
# output for logging but daemonize, logs will be sent to /dev/null
logfile &quot;&quot;

# To enable logging to the system logger, just set &apos;syslog-enabled&apos; to yes,
# and optionally update the other syslog parameters to suit your needs.
# syslog-enabled no

# Specify the syslog identity.
# syslog-ident redis

# Specify the syslog facility. Must be USER or between LOCAL0-LOCAL7.
# syslog-facility local0

# Set the number of databases. The default database is DB 0, you can select
# a different one on a per-connection basis using SELECT &lt;dbid&gt; where
# dbid is a number between 0 and &apos;databases&apos;-1
databases 16

# By default Redis shows an ASCII art logo only when started to log to the
# standard output and if the standard output is a TTY. Basically this means
# that normally a logo is displayed only in interactive sessions.
#
# However it is possible to force the pre-4.0 behavior and always show a
# ASCII art logo in startup logs by setting the following option to yes.
always-show-logo yes

################################ SNAPSHOTTING  ################################
#
# Save the DB on disk:
#
#   save &lt;seconds&gt; &lt;changes&gt;
#
#   Will save the DB if both the given number of seconds and the given
#   number of write operations against the DB occurred.
#
#   In the example below the behaviour will be to save:
#   after 900 sec (15 min) if at least 1 key changed
#   after 300 sec (5 min) if at least 10 keys changed
#   after 60 sec if at least 10000 keys changed
#
#   Note: you can disable saving completely by commenting out all &quot;save&quot; lines.
#
#   It is also possible to remove all the previously configured save
#   points by adding a save directive with a single empty string argument
#   like in the following example:
#
#   save &quot;&quot;

save 900 1
save 300 10
save 60 10000

# By default Redis will stop accepting writes if RDB snapshots are enabled
# (at least one save point) and the latest background save failed.
# This will make the user aware (in a hard way) that data is not persisting
# on disk properly, otherwise chances are that no one will notice and some
# disaster will happen.
#
# If the background saving process will start working again Redis will
# automatically allow writes again.
#
# However if you have setup your proper monitoring of the Redis server
# and persistence, you may want to disable this feature so that Redis will
# continue to work as usual even if there are problems with disk,
# permissions, and so forth.
stop-writes-on-bgsave-error yes

# Compress string objects using LZF when dump .rdb databases?
# For default that&apos;s set to &apos;yes&apos; as it&apos;s almost always a win.
# If you want to save some CPU in the saving child set it to &apos;no&apos; but
# the dataset will likely be bigger if you have compressible values or keys.
rdbcompression yes

# Since version 5 of RDB a CRC64 checksum is placed at the end of the file.
# This makes the format more resistant to corruption but there is a performance
# hit to pay (around 10%) when saving and loading RDB files, so you can disable it
# for maximum performances.
#
# RDB files created with checksum disabled have a checksum of zero that will
# tell the loading code to skip the check.
rdbchecksum yes

# The filename where to dump the DB
dbfilename dump.rdb

# Remove RDB files used by replication in instances without persistence
# enabled. By default this option is disabled, however there are environments
# where for regulations or other security concerns, RDB files persisted on
# disk by masters in order to feed replicas, or stored on disk by replicas
# in order to load them for the initial synchronization, should be deleted
# ASAP. Note that this option ONLY WORKS in instances that have both AOF
# and RDB persistence disabled, otherwise is completely ignored.
#
# An alternative (and sometimes better) way to obtain the same effect is
# to use diskless replication on both master and replicas instances. However
# in the case of replicas, diskless is not always an option.
rdb-del-sync-files no

# The working directory.
#
# The DB will be written inside this directory, with the filename specified
# above using the &apos;dbfilename&apos; configuration directive.
#
# The Append Only File will also be created inside this directory.
#
# Note that you must specify a directory here, not a file name.
dir ./

################################# REPLICATION #################################

# Master-Replica replication. Use replicaof to make a Redis instance a copy of
# another Redis server. A few things to understand ASAP about Redis replication.
#
#   +------------------+      +---------------+
#   |      Master      | ---&gt; |    Replica    |
#   | (receive writes) |      |  (exact copy) |
#   +------------------+      +---------------+
#
# 1) Redis replication is asynchronous, but you can configure a master to
#    stop accepting writes if it appears to be not connected with at least
#    a given number of replicas.
# 2) Redis replicas are able to perform a partial resynchronization with the
#    master if the replication link is lost for a relatively small amount of
#    time. You may want to configure the replication backlog size (see the next
#    sections of this file) with a sensible value depending on your needs.
# 3) Replication is automatic and does not need user intervention. After a
#    network partition replicas automatically try to reconnect to masters
#    and resynchronize with them.
#
# replicaof &lt;masterip&gt; &lt;masterport&gt;

# If the master is password protected (using the &quot;requirepass&quot; configuration
# directive below) it is possible to tell the replica to authenticate before
# starting the replication synchronization process, otherwise the master will
# refuse the replica request.
#
# masterauth &lt;master-password&gt;
#
# However this is not enough if you are using Redis ACLs (for Redis version
# 6 or greater), and the default user is not capable of running the PSYNC
# command and/or other commands needed for replication. In this case it&apos;s
# better to configure a special user to use with replication, and specify the
# masteruser configuration as such:
#
# masteruser &lt;username&gt;
#
# When masteruser is specified, the replica will authenticate against its
# master using the new AUTH form: AUTH &lt;username&gt; &lt;password&gt;.

# When a replica loses its connection with the master, or when the replication
# is still in progress, the replica can act in two different ways:
#
# 1) if replica-serve-stale-data is set to &apos;yes&apos; (the default) the replica will
#    still reply to client requests, possibly with out of date data, or the
#    data set may just be empty if this is the first synchronization.
#
# 2) if replica-serve-stale-data is set to &apos;no&apos; the replica will reply with
#    an error &quot;SYNC with master in progress&quot; to all the kind of commands
#    but to INFO, replicaOF, AUTH, PING, SHUTDOWN, REPLCONF, ROLE, CONFIG,
#    SUBSCRIBE, UNSUBSCRIBE, PSUBSCRIBE, PUNSUBSCRIBE, PUBLISH, PUBSUB,
#    COMMAND, POST, HOST: and LATENCY.
#
replica-serve-stale-data yes

# You can configure a replica instance to accept writes or not. Writing against
# a replica instance may be useful to store some ephemeral data (because data
# written on a replica will be easily deleted after resync with the master) but
# may also cause problems if clients are writing to it because of a
# misconfiguration.
#
# Since Redis 2.6 by default replicas are read-only.
#
# Note: read only replicas are not designed to be exposed to untrusted clients
# on the internet. It&apos;s just a protection layer against misuse of the instance.
# Still a read only replica exports by default all the administrative commands
# such as CONFIG, DEBUG, and so forth. To a limited extent you can improve
# security of read only replicas using &apos;rename-command&apos; to shadow all the
# administrative / dangerous commands.
replica-read-only yes

# Replication SYNC strategy: disk or socket.
#
# New replicas and reconnecting replicas that are not able to continue the
# replication process just receiving differences, need to do what is called a
# &quot;full synchronization&quot;. An RDB file is transmitted from the master to the
# replicas.
#
# The transmission can happen in two different ways:
#
# 1) Disk-backed: The Redis master creates a new process that writes the RDB
#                 file on disk. Later the file is transferred by the parent
#                 process to the replicas incrementally.
# 2) Diskless: The Redis master creates a new process that directly writes the
#              RDB file to replica sockets, without touching the disk at all.
#
# With disk-backed replication, while the RDB file is generated, more replicas
# can be queued and served with the RDB file as soon as the current child
# producing the RDB file finishes its work. With diskless replication instead
# once the transfer starts, new replicas arriving will be queued and a new
# transfer will start when the current one terminates.
#
# When diskless replication is used, the master waits a configurable amount of
# time (in seconds) before starting the transfer in the hope that multiple
# replicas will arrive and the transfer can be parallelized.
#
# With slow disks and fast (large bandwidth) networks, diskless replication
# works better.
repl-diskless-sync no

# When diskless replication is enabled, it is possible to configure the delay
# the server waits in order to spawn the child that transfers the RDB via socket
# to the replicas.
#
# This is important since once the transfer starts, it is not possible to serve
# new replicas arriving, that will be queued for the next RDB transfer, so the
# server waits a delay in order to let more replicas arrive.
#
# The delay is specified in seconds, and by default is 5 seconds. To disable
# it entirely just set it to 0 seconds and the transfer will start ASAP.
repl-diskless-sync-delay 5

# -----------------------------------------------------------------------------
# WARNING: RDB diskless load is experimental. Since in this setup the replica
# does not immediately store an RDB on disk, it may cause data loss during
# failovers. RDB diskless load + Redis modules not handling I/O reads may also
# cause Redis to abort in case of I/O errors during the initial synchronization
# stage with the master. Use only if your do what you are doing.
# -----------------------------------------------------------------------------
#
# Replica can load the RDB it reads from the replication link directly from the
# socket, or store the RDB to a file and read that file after it was completely
# recived from the master.
#
# In many cases the disk is slower than the network, and storing and loading
# the RDB file may increase replication time (and even increase the master&apos;s
# Copy on Write memory and salve buffers).
# However, parsing the RDB file directly from the socket may mean that we have
# to flush the contents of the current database before the full rdb was
# received. For this reason we have the following options:
#
# &quot;disabled&quot;    - Don&apos;t use diskless load (store the rdb file to the disk first)
# &quot;on-empty-db&quot; - Use diskless load only when it is completely safe.
# &quot;swapdb&quot;      - Keep a copy of the current db contents in RAM while parsing
#                 the data directly from the socket. note that this requires
#                 sufficient memory, if you don&apos;t have it, you risk an OOM kill.
repl-diskless-load disabled

# Replicas send PINGs to server in a predefined interval. It&apos;s possible to
# change this interval with the repl_ping_replica_period option. The default
# value is 10 seconds.
#
# repl-ping-replica-period 10

# The following option sets the replication timeout for:
#
# 1) Bulk transfer I/O during SYNC, from the point of view of replica.
# 2) Master timeout from the point of view of replicas (data, pings).
# 3) Replica timeout from the point of view of masters (REPLCONF ACK pings).
#
# It is important to make sure that this value is greater than the value
# specified for repl-ping-replica-period otherwise a timeout will be detected
# every time there is low traffic between the master and the replica.
#
# repl-timeout 60

# Disable TCP_NODELAY on the replica socket after SYNC?
#
# If you select &quot;yes&quot; Redis will use a smaller number of TCP packets and
# less bandwidth to send data to replicas. But this can add a delay for
# the data to appear on the replica side, up to 40 milliseconds with
# Linux kernels using a default configuration.
#
# If you select &quot;no&quot; the delay for data to appear on the replica side will
# be reduced but more bandwidth will be used for replication.
#
# By default we optimize for low latency, but in very high traffic conditions
# or when the master and replicas are many hops away, turning this to &quot;yes&quot; may
# be a good idea.
repl-disable-tcp-nodelay no

# Set the replication backlog size. The backlog is a buffer that accumulates
# replica data when replicas are disconnected for some time, so that when a
# replica wants to reconnect again, often a full resync is not needed, but a
# partial resync is enough, just passing the portion of data the replica
# missed while disconnected.
#
# The bigger the replication backlog, the longer the time the replica can be
# disconnected and later be able to perform a partial resynchronization.
#
# The backlog is only allocated once there is at least a replica connected.
#
# repl-backlog-size 1mb

# After a master has no longer connected replicas for some time, the backlog
# will be freed. The following option configures the amount of seconds that
# need to elapse, starting from the time the last replica disconnected, for
# the backlog buffer to be freed.
#
# Note that replicas never free the backlog for timeout, since they may be
# promoted to masters later, and should be able to correctly &quot;partially
# resynchronize&quot; with the replicas: hence they should always accumulate backlog.
#
# A value of 0 means to never release the backlog.
#
# repl-backlog-ttl 3600

# The replica priority is an integer number published by Redis in the INFO
# output. It is used by Redis Sentinel in order to select a replica to promote
# into a master if the master is no longer working correctly.
#
# A replica with a low priority number is considered better for promotion, so
# for instance if there are three replicas with priority 10, 100, 25 Sentinel
# will pick the one with priority 10, that is the lowest.
#
# However a special priority of 0 marks the replica as not able to perform the
# role of master, so a replica with priority of 0 will never be selected by
# Redis Sentinel for promotion.
#
# By default the priority is 100.
replica-priority 100

# It is possible for a master to stop accepting writes if there are less than
# N replicas connected, having a lag less or equal than M seconds.
#
# The N replicas need to be in &quot;online&quot; state.
#
# The lag in seconds, that must be &lt;= the specified value, is calculated from
# the last ping received from the replica, that is usually sent every second.
#
# This option does not GUARANTEE that N replicas will accept the write, but
# will limit the window of exposure for lost writes in case not enough replicas
# are available, to the specified number of seconds.
#
# For example to require at least 3 replicas with a lag &lt;= 10 seconds use:
#
# min-replicas-to-write 3
# min-replicas-max-lag 10
#
# Setting one or the other to 0 disables the feature.
#
# By default min-replicas-to-write is set to 0 (feature disabled) and
# min-replicas-max-lag is set to 10.

# A Redis master is able to list the address and port of the attached
# replicas in different ways. For example the &quot;INFO replication&quot; section
# offers this information, which is used, among other tools, by
# Redis Sentinel in order to discover replica instances.
# Another place where this info is available is in the output of the
# &quot;ROLE&quot; command of a master.
#
# The listed IP and address normally reported by a replica is obtained
# in the following way:
#
#   IP: The address is auto detected by checking the peer address
#   of the socket used by the replica to connect with the master.
#
#   Port: The port is communicated by the replica during the replication
#   handshake, and is normally the port that the replica is using to
#   listen for connections.
#
# However when port forwarding or Network Address Translation (NAT) is
# used, the replica may be actually reachable via different IP and port
# pairs. The following two options can be used by a replica in order to
# report to its master a specific set of IP and port, so that both INFO
# and ROLE will report those values.
#
# There is no need to use both the options if you need to override just
# the port or the IP address.
#
# replica-announce-ip 5.5.5.5
# replica-announce-port 1234

############################### KEYS TRACKING #################################

# Redis implements server assisted support for client side caching of values.
# This is implemented using an invalidation table that remembers, using
# 16 millions of slots, what clients may have certain subsets of keys. In turn
# this is used in order to send invalidation messages to clients. Please
# to understand more about the feature check this page:
#
#   https://redis.io/topics/client-side-caching
#
# When tracking is enabled for a client, all the read only queries are assumed
# to be cached: this will force Redis to store information in the invalidation
# table. When keys are modified, such information is flushed away, and
# invalidation messages are sent to the clients. However if the workload is
# heavily dominated by reads, Redis could use more and more memory in order
# to track the keys fetched by many clients.
#
# For this reason it is possible to configure a maximum fill value for the
# invalidation table. By default it is set to 1M of keys, and once this limit
# is reached, Redis will start to evict keys in the invalidation table
# even if they were not modified, just to reclaim memory: this will in turn
# force the clients to invalidate the cached values. Basically the table
# maximum size is a trade off between the memory you want to spend server
# side to track information about who cached what, and the ability of clients
# to retain cached objects in memory.
#
# If you set the value to 0, it means there are no limits, and Redis will
# retain as many keys as needed in the invalidation table.
# In the &quot;stats&quot; INFO section, you can find information about the number of
# keys in the invalidation table at every given moment.
#
# Note: when key tracking is used in broadcasting mode, no memory is used
# in the server side so this setting is useless.
#
# tracking-table-max-keys 1000000

################################## SECURITY ###################################

# Warning: since Redis is pretty fast an outside user can try up to
# 1 million passwords per second against a modern box. This means that you
# should use very strong passwords, otherwise they will be very easy to break.
# Note that because the password is really a shared secret between the client
# and the server, and should not be memorized by any human, the password
# can be easily a long string from /dev/urandom or whatever, so by using a
# long and unguessable password no brute force attack will be possible.

# Redis ACL users are defined in the following format:
#
#   user &lt;username&gt; ... acl rules ...
#
# For example:
#
#   user worker +@list +@connection ~jobs:* on &gt;ffa9203c493aa99
#
# The special username &quot;default&quot; is used for new connections. If this user
# has the &quot;nopass&quot; rule, then new connections will be immediately authenticated
# as the &quot;default&quot; user without the need of any password provided via the
# AUTH command. Otherwise if the &quot;default&quot; user is not flagged with &quot;nopass&quot;
# the connections will start in not authenticated state, and will require
# AUTH (or the HELLO command AUTH option) in order to be authenticated and
# start to work.
#
# The ACL rules that describe what an user can do are the following:
#
#  on           Enable the user: it is possible to authenticate as this user.
#  off          Disable the user: it&apos;s no longer possible to authenticate
#               with this user, however the already authenticated connections
#               will still work.
#  +&lt;command&gt;   Allow the execution of that command
#  -&lt;command&gt;   Disallow the execution of that command
#  +@&lt;category&gt; Allow the execution of all the commands in such category
#               with valid categories are like @admin, @set, @sortedset, ...
#               and so forth, see the full list in the server.c file where
#               the Redis command table is described and defined.
#               The special category @all means all the commands, but currently
#               present in the server, and that will be loaded in the future
#               via modules.
#  +&lt;command&gt;|subcommand    Allow a specific subcommand of an otherwise
#                           disabled command. Note that this form is not
#                           allowed as negative like -DEBUG|SEGFAULT, but
#                           only additive starting with &quot;+&quot;.
#  allcommands  Alias for +@all. Note that it implies the ability to execute
#               all the future commands loaded via the modules system.
#  nocommands   Alias for -@all.
#  ~&lt;pattern&gt;   Add a pattern of keys that can be mentioned as part of
#               commands. For instance ~* allows all the keys. The pattern
#               is a glob-style pattern like the one of KEYS.
#               It is possible to specify multiple patterns.
#  allkeys      Alias for ~*
#  resetkeys    Flush the list of allowed keys patterns.
#  &gt;&lt;password&gt;  Add this passowrd to the list of valid password for the user.
#               For example &gt;mypass will add &quot;mypass&quot; to the list.
#               This directive clears the &quot;nopass&quot; flag (see later).
#  &lt;&lt;password&gt;  Remove this password from the list of valid passwords.
#  nopass       All the set passwords of the user are removed, and the user
#               is flagged as requiring no password: it means that every
#               password will work against this user. If this directive is
#               used for the default user, every new connection will be
#               immediately authenticated with the default user without
#               any explicit AUTH command required. Note that the &quot;resetpass&quot;
#               directive will clear this condition.
#  resetpass    Flush the list of allowed passwords. Moreover removes the
#               &quot;nopass&quot; status. After &quot;resetpass&quot; the user has no associated
#               passwords and there is no way to authenticate without adding
#               some password (or setting it as &quot;nopass&quot; later).
#  reset        Performs the following actions: resetpass, resetkeys, off,
#               -@all. The user returns to the same state it has immediately
#               after its creation.
#
# ACL rules can be specified in any order: for instance you can start with
# passwords, then flags, or key patterns. However note that the additive
# and subtractive rules will CHANGE MEANING depending on the ordering.
# For instance see the following example:
#
#   user alice on +@all -DEBUG ~* &gt;somepassword
#
# This will allow &quot;alice&quot; to use all the commands with the exception of the
# DEBUG command, since +@all added all the commands to the set of the commands
# alice can use, and later DEBUG was removed. However if we invert the order
# of two ACL rules the result will be different:
#
#   user alice on -DEBUG +@all ~* &gt;somepassword
#
# Now DEBUG was removed when alice had yet no commands in the set of allowed
# commands, later all the commands are added, so the user will be able to
# execute everything.
#
# Basically ACL rules are processed left-to-right.
#
# For more information about ACL configuration please refer to
# the Redis web site at https://redis.io/topics/acl

# ACL LOG
#
# The ACL Log tracks failed commands and authentication events associated
# with ACLs. The ACL Log is useful to troubleshoot failed commands blocked 
# by ACLs. The ACL Log is stored in memory. You can reclaim memory with 
# ACL LOG RESET. Define the maximum entry length of the ACL Log below.
acllog-max-len 128

# Using an external ACL file
#
# Instead of configuring users here in this file, it is possible to use
# a stand-alone file just listing users. The two methods cannot be mixed:
# if you configure users here and at the same time you activate the exteranl
# ACL file, the server will refuse to start.
#
# The format of the external ACL user file is exactly the same as the
# format that is used inside redis.conf to describe users.
#
# aclfile /etc/redis/users.acl

# IMPORTANT NOTE: starting with Redis 6 &quot;requirepass&quot; is just a compatiblity
# layer on top of the new ACL system. The option effect will be just setting
# the password for the default user. Clients will still authenticate using
# AUTH &lt;password&gt; as usually, or more explicitly with AUTH default &lt;password&gt;
# if they follow the new protocol: both will work.
#
# requirepass foobared

# Command renaming (DEPRECATED).
#
# ------------------------------------------------------------------------
# WARNING: avoid using this option if possible. Instead use ACLs to remove
# commands from the default user, and put them only in some admin user you
# create for administrative purposes.
# ------------------------------------------------------------------------
#
# It is possible to change the name of dangerous commands in a shared
# environment. For instance the CONFIG command may be renamed into something
# hard to guess so that it will still be available for internal-use tools
# but not available for general clients.
#
# Example:
#
# rename-command CONFIG b840fc02d524045429941cc15f59e41cb7be6c52
#
# It is also possible to completely kill a command by renaming it into
# an empty string:
#
# rename-command CONFIG &quot;&quot;
#
# Please note that changing the name of commands that are logged into the
# AOF file or transmitted to replicas may cause problems.

################################### CLIENTS ####################################

# Set the max number of connected clients at the same time. By default
# this limit is set to 10000 clients, however if the Redis server is not
# able to configure the process file limit to allow for the specified limit
# the max number of allowed clients is set to the current file limit
# minus 32 (as Redis reserves a few file descriptors for internal uses).
#
# Once the limit is reached Redis will close all the new connections sending
# an error &apos;max number of clients reached&apos;.
#
# IMPORTANT: When Redis Cluster is used, the max number of connections is also
# shared with the cluster bus: every node in the cluster will use two
# connections, one incoming and another outgoing. It is important to size the
# limit accordingly in case of very large clusters.
#
# maxclients 10000

############################## MEMORY MANAGEMENT ################################

# Set a memory usage limit to the specified amount of bytes.
# When the memory limit is reached Redis will try to remove keys
# according to the eviction policy selected (see maxmemory-policy).
#
# If Redis can&apos;t remove keys according to the policy, or if the policy is
# set to &apos;noeviction&apos;, Redis will start to reply with errors to commands
# that would use more memory, like SET, LPUSH, and so on, and will continue
# to reply to read-only commands like GET.
#
# This option is usually useful when using Redis as an LRU or LFU cache, or to
# set a hard memory limit for an instance (using the &apos;noeviction&apos; policy).
#
# WARNING: If you have replicas attached to an instance with maxmemory on,
# the size of the output buffers needed to feed the replicas are subtracted
# from the used memory count, so that network problems / resyncs will
# not trigger a loop where keys are evicted, and in turn the output
# buffer of replicas is full with DELs of keys evicted triggering the deletion
# of more keys, and so forth until the database is completely emptied.
#
# In short... if you have replicas attached it is suggested that you set a lower
# limit for maxmemory so that there is some free RAM on the system for replica
# output buffers (but this is not needed if the policy is &apos;noeviction&apos;).
#
# maxmemory &lt;bytes&gt;

# MAXMEMORY POLICY: how Redis will select what to remove when maxmemory
# is reached. You can select one from the following behaviors:
#
# volatile-lru -&gt; Evict using approximated LRU, only keys with an expire set.
# allkeys-lru -&gt; Evict any key using approximated LRU.
# volatile-lfu -&gt; Evict using approximated LFU, only keys with an expire set.
# allkeys-lfu -&gt; Evict any key using approximated LFU.
# volatile-random -&gt; Remove a random key having an expire set.
# allkeys-random -&gt; Remove a random key, any key.
# volatile-ttl -&gt; Remove the key with the nearest expire time (minor TTL)
# noeviction -&gt; Don&apos;t evict anything, just return an error on write operations.
#
# LRU means Least Recently Used
# LFU means Least Frequently Used
#
# Both LRU, LFU and volatile-ttl are implemented using approximated
# randomized algorithms.
#
# Note: with any of the above policies, Redis will return an error on write
#       operations, when there are no suitable keys for eviction.
#
#       At the date of writing these commands are: set setnx setex append
#       incr decr rpush lpush rpushx lpushx linsert lset rpoplpush sadd
#       sinter sinterstore sunion sunionstore sdiff sdiffstore zadd zincrby
#       zunionstore zinterstore hset hsetnx hmset hincrby incrby decrby
#       getset mset msetnx exec sort
#
# The default is:
#
# maxmemory-policy noeviction

# LRU, LFU and minimal TTL algorithms are not precise algorithms but approximated
# algorithms (in order to save memory), so you can tune it for speed or
# accuracy. For default Redis will check five keys and pick the one that was
# used less recently, you can change the sample size using the following
# configuration directive.
#
# The default of 5 produces good enough results. 10 Approximates very closely
# true LRU but costs more CPU. 3 is faster but not very accurate.
#
# maxmemory-samples 5

# Starting from Redis 5, by default a replica will ignore its maxmemory setting
# (unless it is promoted to master after a failover or manually). It means
# that the eviction of keys will be just handled by the master, sending the
# DEL commands to the replica as keys evict in the master side.
#
# This behavior ensures that masters and replicas stay consistent, and is usually
# what you want, however if your replica is writable, or you want the replica
# to have a different memory setting, and you are sure all the writes performed
# to the replica are idempotent, then you may change this default (but be sure
# to understand what you are doing).
#
# Note that since the replica by default does not evict, it may end using more
# memory than the one set via maxmemory (there are certain buffers that may
# be larger on the replica, or data structures may sometimes take more memory
# and so forth). So make sure you monitor your replicas and make sure they
# have enough memory to never hit a real out-of-memory condition before the
# master hits the configured maxmemory setting.
#
# replica-ignore-maxmemory yes

# Redis reclaims expired keys in two ways: upon access when those keys are
# found to be expired, and also in background, in what is called the
# &quot;active expire key&quot;. The key space is slowly and interactively scanned
# looking for expired keys to reclaim, so that it is possible to free memory
# of keys that are expired and will never be accessed again in a short time.
#
# The default effort of the expire cycle will try to avoid having more than
# ten percent of expired keys still in memory, and will try to avoid consuming
# more than 25% of total memory and to add latency to the system. However
# it is possible to increase the expire &quot;effort&quot; that is normally set to
# &quot;1&quot;, to a greater value, up to the value &quot;10&quot;. At its maximum value the
# system will use more CPU, longer cycles (and technically may introduce
# more latency), and will tollerate less already expired keys still present
# in the system. It&apos;s a tradeoff betweeen memory, CPU and latecy.
#
# active-expire-effort 1

############################# LAZY FREEING ####################################

# Redis has two primitives to delete keys. One is called DEL and is a blocking
# deletion of the object. It means that the server stops processing new commands
# in order to reclaim all the memory associated with an object in a synchronous
# way. If the key deleted is associated with a small object, the time needed
# in order to execute the DEL command is very small and comparable to most other
# O(1) or O(log_N) commands in Redis. However if the key is associated with an
# aggregated value containing millions of elements, the server can block for
# a long time (even seconds) in order to complete the operation.
#
# For the above reasons Redis also offers non blocking deletion primitives
# such as UNLINK (non blocking DEL) and the ASYNC option of FLUSHALL and
# FLUSHDB commands, in order to reclaim memory in background. Those commands
# are executed in constant time. Another thread will incrementally free the
# object in the background as fast as possible.
#
# DEL, UNLINK and ASYNC option of FLUSHALL and FLUSHDB are user-controlled.
# It&apos;s up to the design of the application to understand when it is a good
# idea to use one or the other. However the Redis server sometimes has to
# delete keys or flush the whole database as a side effect of other operations.
# Specifically Redis deletes objects independently of a user call in the
# following scenarios:
#
# 1) On eviction, because of the maxmemory and maxmemory policy configurations,
#    in order to make room for new data, without going over the specified
#    memory limit.
# 2) Because of expire: when a key with an associated time to live (see the
#    EXPIRE command) must be deleted from memory.
# 3) Because of a side effect of a command that stores data on a key that may
#    already exist. For example the RENAME command may delete the old key
#    content when it is replaced with another one. Similarly SUNIONSTORE
#    or SORT with STORE option may delete existing keys. The SET command
#    itself removes any old content of the specified key in order to replace
#    it with the specified string.
# 4) During replication, when a replica performs a full resynchronization with
#    its master, the content of the whole database is removed in order to
#    load the RDB file just transferred.
#
# In all the above cases the default is to delete objects in a blocking way,
# like if DEL was called. However you can configure each case specifically
# in order to instead release memory in a non-blocking way like if UNLINK
# was called, using the following configuration directives.

lazyfree-lazy-eviction no
lazyfree-lazy-expire no
lazyfree-lazy-server-del no
replica-lazy-flush no

# It is also possible, for the case when to replace the user code DEL calls
# with UNLINK calls is not easy, to modify the default behavior of the DEL
# command to act exactly like UNLINK, using the following configuration
# directive:

lazyfree-lazy-user-del no

################################ THREADED I/O #################################

# Redis is mostly single threaded, however there are certain threaded
# operations such as UNLINK, slow I/O accesses and other things that are
# performed on side threads.
#
# Now it is also possible to handle Redis clients socket reads and writes
# in different I/O threads. Since especially writing is so slow, normally
# Redis users use pipelining in order to speedup the Redis performances per
# core, and spawn multiple instances in order to scale more. Using I/O
# threads it is possible to easily speedup two times Redis without resorting
# to pipelining nor sharding of the instance.
#
# By default threading is disabled, we suggest enabling it only in machines
# that have at least 4 or more cores, leaving at least one spare core.
# Using more than 8 threads is unlikely to help much. We also recommend using
# threaded I/O only if you actually have performance problems, with Redis
# instances being able to use a quite big percentage of CPU time, otherwise
# there is no point in using this feature.
#
# So for instance if you have a four cores boxes, try to use 2 or 3 I/O
# threads, if you have a 8 cores, try to use 6 threads. In order to
# enable I/O threads use the following configuration directive:
#
# io-threads 4
#
# Setting io-threads to 1 will just use the main thread as usually.
# When I/O threads are enabled, we only use threads for writes, that is
# to thread the write(2) syscall and transfer the client buffers to the
# socket. However it is also possible to enable threading of reads and
# protocol parsing using the following configuration directive, by setting
# it to yes:
#
# io-threads-do-reads no
#
# Usually threading reads doesn&apos;t help much.
#
# NOTE 1: This configuration directive cannot be changed at runtime via
# CONFIG SET. Aso this feature currently does not work when SSL is
# enabled.
#
# NOTE 2: If you want to test the Redis speedup using redis-benchmark, make
# sure you also run the benchmark itself in threaded mode, using the
# --threads option to match the number of Redis theads, otherwise you&apos;ll not
# be able to notice the improvements.

############################ KERNEL OOM CONTROL ##############################

# On Linux, it is possible to hint the kernel OOM killer on what processes
# should be killed first when out of memory.
#
# Enabling this feature makes Redis actively control the oom_score_adj value
# for all its processes, depending on their role. The default scores will
# attempt to have background child processes killed before all others, and
# replicas killed before masters.

oom-score-adj no

# When oom-score-adj is used, this directive controls the specific values used
# for master, replica and background child processes. Values range -1000 to
# 1000 (higher means more likely to be killed).
#
# Unprivileged processes (not root, and without CAP_SYS_RESOURCE capabilities)
# can freely increase their value, but not decrease it below its initial
# settings.
#
# Values are used relative to the initial value of oom_score_adj when the server
# starts. Because typically the initial value is 0, they will often match the
# absolute values.

oom-score-adj-values 0 200 800

############################## APPEND ONLY MODE ###############################

# By default Redis asynchronously dumps the dataset on disk. This mode is
# good enough in many applications, but an issue with the Redis process or
# a power outage may result into a few minutes of writes lost (depending on
# the configured save points).
#
# The Append Only File is an alternative persistence mode that provides
# much better durability. For instance using the default data fsync policy
# (see later in the config file) Redis can lose just one second of writes in a
# dramatic event like a server power outage, or a single write if something
# wrong with the Redis process itself happens, but the operating system is
# still running correctly.
#
# AOF and RDB persistence can be enabled at the same time without problems.
# If the AOF is enabled on startup Redis will load the AOF, that is the file
# with the better durability guarantees.
#
# Please check http://redis.io/topics/persistence for more information.

appendonly no

# The name of the append only file (default: &quot;appendonly.aof&quot;)

appendfilename &quot;appendonly.aof&quot;

# The fsync() call tells the Operating System to actually write data on disk
# instead of waiting for more data in the output buffer. Some OS will really flush
# data on disk, some other OS will just try to do it ASAP.
#
# Redis supports three different modes:
#
# no: don&apos;t fsync, just let the OS flush the data when it wants. Faster.
# always: fsync after every write to the append only log. Slow, Safest.
# everysec: fsync only one time every second. Compromise.
#
# The default is &quot;everysec&quot;, as that&apos;s usually the right compromise between
# speed and data safety. It&apos;s up to you to understand if you can relax this to
# &quot;no&quot; that will let the operating system flush the output buffer when
# it wants, for better performances (but if you can live with the idea of
# some data loss consider the default persistence mode that&apos;s snapshotting),
# or on the contrary, use &quot;always&quot; that&apos;s very slow but a bit safer than
# everysec.
#
# More details please check the following article:
# http://antirez.com/post/redis-persistence-demystified.html
#
# If unsure, use &quot;everysec&quot;.

# appendfsync always
appendfsync everysec
# appendfsync no

# When the AOF fsync policy is set to always or everysec, and a background
# saving process (a background save or AOF log background rewriting) is
# performing a lot of I/O against the disk, in some Linux configurations
# Redis may block too long on the fsync() call. Note that there is no fix for
# this currently, as even performing fsync in a different thread will block
# our synchronous write(2) call.
#
# In order to mitigate this problem it&apos;s possible to use the following option
# that will prevent fsync() from being called in the main process while a
# BGSAVE or BGREWRITEAOF is in progress.
#
# This means that while another child is saving, the durability of Redis is
# the same as &quot;appendfsync none&quot;. In practical terms, this means that it is
# possible to lose up to 30 seconds of log in the worst scenario (with the
# default Linux settings).
#
# If you have latency problems turn this to &quot;yes&quot;. Otherwise leave it as
# &quot;no&quot; that is the safest pick from the point of view of durability.

no-appendfsync-on-rewrite no

# Automatic rewrite of the append only file.
# Redis is able to automatically rewrite the log file implicitly calling
# BGREWRITEAOF when the AOF log size grows by the specified percentage.
#
# This is how it works: Redis remembers the size of the AOF file after the
# latest rewrite (if no rewrite has happened since the restart, the size of
# the AOF at startup is used).
#
# This base size is compared to the current size. If the current size is
# bigger than the specified percentage, the rewrite is triggered. Also
# you need to specify a minimal size for the AOF file to be rewritten, this
# is useful to avoid rewriting the AOF file even if the percentage increase
# is reached but it is still pretty small.
#
# Specify a percentage of zero in order to disable the automatic AOF
# rewrite feature.

auto-aof-rewrite-percentage 100
auto-aof-rewrite-min-size 64mb

# An AOF file may be found to be truncated at the end during the Redis
# startup process, when the AOF data gets loaded back into memory.
# This may happen when the system where Redis is running
# crashes, especially when an ext4 filesystem is mounted without the
# data=ordered option (however this can&apos;t happen when Redis itself
# crashes or aborts but the operating system still works correctly).
#
# Redis can either exit with an error when this happens, or load as much
# data as possible (the default now) and start if the AOF file is found
# to be truncated at the end. The following option controls this behavior.
#
# If aof-load-truncated is set to yes, a truncated AOF file is loaded and
# the Redis server starts emitting a log to inform the user of the event.
# Otherwise if the option is set to no, the server aborts with an error
# and refuses to start. When the option is set to no, the user requires
# to fix the AOF file using the &quot;redis-check-aof&quot; utility before to restart
# the server.
#
# Note that if the AOF file will be found to be corrupted in the middle
# the server will still exit with an error. This option only applies when
# Redis will try to read more data from the AOF file but not enough bytes
# will be found.
aof-load-truncated yes

# When rewriting the AOF file, Redis is able to use an RDB preamble in the
# AOF file for faster rewrites and recoveries. When this option is turned
# on the rewritten AOF file is composed of two different stanzas:
#
#   [RDB file][AOF tail]
#
# When loading Redis recognizes that the AOF file starts with the &quot;REDIS&quot;
# string and loads the prefixed RDB file, and continues loading the AOF
# tail.
aof-use-rdb-preamble yes

################################ LUA SCRIPTING  ###############################

# Max execution time of a Lua script in milliseconds.
#
# If the maximum execution time is reached Redis will log that a script is
# still in execution after the maximum allowed time and will start to
# reply to queries with an error.
#
# When a long running script exceeds the maximum execution time only the
# SCRIPT KILL and SHUTDOWN NOSAVE commands are available. The first can be
# used to stop a script that did not yet called write commands. The second
# is the only way to shut down the server in the case a write command was
# already issued by the script but the user doesn&apos;t want to wait for the natural
# termination of the script.
#
# Set it to 0 or a negative value for unlimited execution without warnings.
lua-time-limit 5000

################################ REDIS CLUSTER  ###############################

# Normal Redis instances can&apos;t be part of a Redis Cluster; only nodes that are
# started as cluster nodes can. In order to start a Redis instance as a
# cluster node enable the cluster support uncommenting the following:
#
# cluster-enabled yes

# Every cluster node has a cluster configuration file. This file is not
# intended to be edited by hand. It is created and updated by Redis nodes.
# Every Redis Cluster node requires a different cluster configuration file.
# Make sure that instances running in the same system do not have
# overlapping cluster configuration file names.
#
# cluster-config-file nodes-6379.conf

# Cluster node timeout is the amount of milliseconds a node must be unreachable
# for it to be considered in failure state.
# Most other internal time limits are multiple of the node timeout.
#
# cluster-node-timeout 15000

# A replica of a failing master will avoid to start a failover if its data
# looks too old.
#
# There is no simple way for a replica to actually have an exact measure of
# its &quot;data age&quot;, so the following two checks are performed:
#
# 1) If there are multiple replicas able to failover, they exchange messages
#    in order to try to give an advantage to the replica with the best
#    replication offset (more data from the master processed).
#    Replicas will try to get their rank by offset, and apply to the start
#    of the failover a delay proportional to their rank.
#
# 2) Every single replica computes the time of the last interaction with
#    its master. This can be the last ping or command received (if the master
#    is still in the &quot;connected&quot; state), or the time that elapsed since the
#    disconnection with the master (if the replication link is currently down).
#    If the last interaction is too old, the replica will not try to failover
#    at all.
#
# The point &quot;2&quot; can be tuned by user. Specifically a replica will not perform
# the failover if, since the last interaction with the master, the time
# elapsed is greater than:
#
#   (node-timeout * replica-validity-factor) + repl-ping-replica-period
#
# So for example if node-timeout is 30 seconds, and the replica-validity-factor
# is 10, and assuming a default repl-ping-replica-period of 10 seconds, the
# replica will not try to failover if it was not able to talk with the master
# for longer than 310 seconds.
#
# A large replica-validity-factor may allow replicas with too old data to failover
# a master, while a too small value may prevent the cluster from being able to
# elect a replica at all.
#
# For maximum availability, it is possible to set the replica-validity-factor
# to a value of 0, which means, that replicas will always try to failover the
# master regardless of the last time they interacted with the master.
# (However they&apos;ll always try to apply a delay proportional to their
# offset rank).
#
# Zero is the only value able to guarantee that when all the partitions heal
# the cluster will always be able to continue.
#
# cluster-replica-validity-factor 10

# Cluster replicas are able to migrate to orphaned masters, that are masters
# that are left without working replicas. This improves the cluster ability
# to resist to failures as otherwise an orphaned master can&apos;t be failed over
# in case of failure if it has no working replicas.
#
# Replicas migrate to orphaned masters only if there are still at least a
# given number of other working replicas for their old master. This number
# is the &quot;migration barrier&quot;. A migration barrier of 1 means that a replica
# will migrate only if there is at least 1 other working replica for its master
# and so forth. It usually reflects the number of replicas you want for every
# master in your cluster.
#
# Default is 1 (replicas migrate only if their masters remain with at least
# one replica). To disable migration just set it to a very large value.
# A value of 0 can be set but is useful only for debugging and dangerous
# in production.
#
# cluster-migration-barrier 1

# By default Redis Cluster nodes stop accepting queries if they detect there
# is at least an hash slot uncovered (no available node is serving it).
# This way if the cluster is partially down (for example a range of hash slots
# are no longer covered) all the cluster becomes, eventually, unavailable.
# It automatically returns available as soon as all the slots are covered again.
#
# However sometimes you want the subset of the cluster which is working,
# to continue to accept queries for the part of the key space that is still
# covered. In order to do so, just set the cluster-require-full-coverage
# option to no.
#
# cluster-require-full-coverage yes

# This option, when set to yes, prevents replicas from trying to failover its
# master during master failures. However the master can still perform a
# manual failover, if forced to do so.
#
# This is useful in different scenarios, especially in the case of multiple
# data center operations, where we want one side to never be promoted if not
# in the case of a total DC failure.
#
# cluster-replica-no-failover no

# This option, when set to yes, allows nodes to serve read traffic while the
# the cluster is in a down state, as long as it believes it owns the slots. 
#
# This is useful for two cases.  The first case is for when an application 
# doesn&apos;t require consistency of data during node failures or network partitions.
# One example of this is a cache, where as long as the node has the data it
# should be able to serve it. 
#
# The second use case is for configurations that don&apos;t meet the recommended  
# three shards but want to enable cluster mode and scale later. A 
# master outage in a 1 or 2 shard configuration causes a read/write outage to the
# entire cluster without this option set, with it set there is only a write outage.
# Without a quorum of masters, slot ownership will not change automatically. 
#
# cluster-allow-reads-when-down no

# In order to setup your cluster make sure to read the documentation
# available at http://redis.io web site.

########################## CLUSTER DOCKER/NAT support  ########################

# In certain deployments, Redis Cluster nodes address discovery fails, because
# addresses are NAT-ted or because ports are forwarded (the typical case is
# Docker and other containers).
#
# In order to make Redis Cluster working in such environments, a static
# configuration where each node knows its public address is needed. The
# following two options are used for this scope, and are:
#
# * cluster-announce-ip
# * cluster-announce-port
# * cluster-announce-bus-port
#
# Each instruct the node about its address, client port, and cluster message
# bus port. The information is then published in the header of the bus packets
# so that other nodes will be able to correctly map the address of the node
# publishing the information.
#
# If the above options are not used, the normal Redis Cluster auto-detection
# will be used instead.
#
# Note that when remapped, the bus port may not be at the fixed offset of
# clients port + 10000, so you can specify any port and bus-port depending
# on how they get remapped. If the bus-port is not set, a fixed offset of
# 10000 will be used as usually.
#
# Example:
#
# cluster-announce-ip 10.1.1.5
# cluster-announce-port 6379
# cluster-announce-bus-port 6380

################################## SLOW LOG ###################################

# The Redis Slow Log is a system to log queries that exceeded a specified
# execution time. The execution time does not include the I/O operations
# like talking with the client, sending the reply and so forth,
# but just the time needed to actually execute the command (this is the only
# stage of command execution where the thread is blocked and can not serve
# other requests in the meantime).
#
# You can configure the slow log with two parameters: one tells Redis
# what is the execution time, in microseconds, to exceed in order for the
# command to get logged, and the other parameter is the length of the
# slow log. When a new command is logged the oldest one is removed from the
# queue of logged commands.

# The following time is expressed in microseconds, so 1000000 is equivalent
# to one second. Note that a negative number disables the slow log, while
# a value of zero forces the logging of every command.
slowlog-log-slower-than 10000

# There is no limit to this length. Just be aware that it will consume memory.
# You can reclaim memory used by the slow log with SLOWLOG RESET.
slowlog-max-len 128

################################ LATENCY MONITOR ##############################

# The Redis latency monitoring subsystem samples different operations
# at runtime in order to collect data related to possible sources of
# latency of a Redis instance.
#
# Via the LATENCY command this information is available to the user that can
# print graphs and obtain reports.
#
# The system only logs operations that were performed in a time equal or
# greater than the amount of milliseconds specified via the
# latency-monitor-threshold configuration directive. When its value is set
# to zero, the latency monitor is turned off.
#
# By default latency monitoring is disabled since it is mostly not needed
# if you don&apos;t have latency issues, and collecting data has a performance
# impact, that while very small, can be measured under big load. Latency
# monitoring can easily be enabled at runtime using the command
# &quot;CONFIG SET latency-monitor-threshold &lt;milliseconds&gt;&quot; if needed.
latency-monitor-threshold 0

############################# EVENT NOTIFICATION ##############################

# Redis can notify Pub/Sub clients about events happening in the key space.
# This feature is documented at http://redis.io/topics/notifications
#
# For instance if keyspace events notification is enabled, and a client
# performs a DEL operation on key &quot;foo&quot; stored in the Database 0, two
# messages will be published via Pub/Sub:
#
# PUBLISH __keyspace@0__:foo del
# PUBLISH __keyevent@0__:del foo
#
# It is possible to select the events that Redis will notify among a set
# of classes. Every class is identified by a single character:
#
#  K     Keyspace events, published with __keyspace@&lt;db&gt;__ prefix.
#  E     Keyevent events, published with __keyevent@&lt;db&gt;__ prefix.
#  g     Generic commands (non-type specific) like DEL, EXPIRE, RENAME, ...
#  $     String commands
#  l     List commands
#  s     Set commands
#  h     Hash commands
#  z     Sorted set commands
#  x     Expired events (events generated every time a key expires)
#  e     Evicted events (events generated when a key is evicted for maxmemory)
#  t     Stream commands
#  m     Key-miss events (Note: It is not included in the &apos;A&apos; class)
#  A     Alias for g$lshzxet, so that the &quot;AKE&quot; string means all the events
#        (Except key-miss events which are excluded from &apos;A&apos; due to their
#         unique nature).
#
#  The &quot;notify-keyspace-events&quot; takes as argument a string that is composed
#  of zero or multiple characters. The empty string means that notifications
#  are disabled.
#
#  Example: to enable list and generic events, from the point of view of the
#           event name, use:
#
#  notify-keyspace-events Elg
#
#  Example 2: to get the stream of the expired keys subscribing to channel
#             name __keyevent@0__:expired use:
#
#  notify-keyspace-events Ex
#
#  By default all notifications are disabled because most users don&apos;t need
#  this feature and the feature has some overhead. Note that if you don&apos;t
#  specify at least one of K or E, no events will be delivered.
notify-keyspace-events &quot;&quot;

############################### GOPHER SERVER #################################

# Redis contains an implementation of the Gopher protocol, as specified in
# the RFC 1436 (https://www.ietf.org/rfc/rfc1436.txt).
#
# The Gopher protocol was very popular in the late &apos;90s. It is an alternative
# to the web, and the implementation both server and client side is so simple
# that the Redis server has just 100 lines of code in order to implement this
# support.
#
# What do you do with Gopher nowadays? Well Gopher never *really* died, and
# lately there is a movement in order for the Gopher more hierarchical content
# composed of just plain text documents to be resurrected. Some want a simpler
# internet, others believe that the mainstream internet became too much
# controlled, and it&apos;s cool to create an alternative space for people that
# want a bit of fresh air.
#
# Anyway for the 10nth birthday of the Redis, we gave it the Gopher protocol
# as a gift.
#
# --- HOW IT WORKS? ---
#
# The Redis Gopher support uses the inline protocol of Redis, and specifically
# two kind of inline requests that were anyway illegal: an empty request
# or any request that starts with &quot;/&quot; (there are no Redis commands starting
# with such a slash). Normal RESP2/RESP3 requests are completely out of the
# path of the Gopher protocol implementation and are served as usually as well.
#
# If you open a connection to Redis when Gopher is enabled and send it
# a string like &quot;/foo&quot;, if there is a key named &quot;/foo&quot; it is served via the
# Gopher protocol.
#
# In order to create a real Gopher &quot;hole&quot; (the name of a Gopher site in Gopher
# talking), you likely need a script like the following:
#
#   https://github.com/antirez/gopher2redis
#
# --- SECURITY WARNING ---
#
# If you plan to put Redis on the internet in a publicly accessible address
# to server Gopher pages MAKE SURE TO SET A PASSWORD to the instance.
# Once a password is set:
#
#   1. The Gopher server (when enabled, not by default) will still serve
#      content via Gopher.
#   2. However other commands cannot be called before the client will
#      authenticate.
#
# So use the &apos;requirepass&apos; option to protect your instance.
#
# To enable Gopher support uncomment the following line and set
# the option from no (the default) to yes.
#
# gopher-enabled no

############################### ADVANCED CONFIG ###############################

# Hashes are encoded using a memory efficient data structure when they have a
# small number of entries, and the biggest entry does not exceed a given
# threshold. These thresholds can be configured using the following directives.
hash-max-ziplist-entries 512
hash-max-ziplist-value 64

# Lists are also encoded in a special way to save a lot of space.
# The number of entries allowed per internal list node can be specified
# as a fixed maximum size or a maximum number of elements.
# For a fixed maximum size, use -5 through -1, meaning:
# -5: max size: 64 Kb  &lt;-- not recommended for normal workloads
# -4: max size: 32 Kb  &lt;-- not recommended
# -3: max size: 16 Kb  &lt;-- probably not recommended
# -2: max size: 8 Kb   &lt;-- good
# -1: max size: 4 Kb   &lt;-- good
# Positive numbers mean store up to _exactly_ that number of elements
# per list node.
# The highest performing option is usually -2 (8 Kb size) or -1 (4 Kb size),
# but if your use case is unique, adjust the settings as necessary.
list-max-ziplist-size -2

# Lists may also be compressed.
# Compress depth is the number of quicklist ziplist nodes from *each* side of
# the list to *exclude* from compression.  The head and tail of the list
# are always uncompressed for fast push/pop operations.  Settings are:
# 0: disable all list compression
# 1: depth 1 means &quot;don&apos;t start compressing until after 1 node into the list,
#    going from either the head or tail&quot;
#    So: [head]-&gt;node-&gt;node-&gt;...-&gt;node-&gt;[tail]
#    [head], [tail] will always be uncompressed; inner nodes will compress.
# 2: [head]-&gt;[next]-&gt;node-&gt;node-&gt;...-&gt;node-&gt;[prev]-&gt;[tail]
#    2 here means: don&apos;t compress head or head-&gt;next or tail-&gt;prev or tail,
#    but compress all nodes between them.
# 3: [head]-&gt;[next]-&gt;[next]-&gt;node-&gt;node-&gt;...-&gt;node-&gt;[prev]-&gt;[prev]-&gt;[tail]
# etc.
list-compress-depth 0

# Sets have a special encoding in just one case: when a set is composed
# of just strings that happen to be integers in radix 10 in the range
# of 64 bit signed integers.
# The following configuration setting sets the limit in the size of the
# set in order to use this special memory saving encoding.
set-max-intset-entries 512

# Similarly to hashes and lists, sorted sets are also specially encoded in
# order to save a lot of space. This encoding is only used when the length and
# elements of a sorted set are below the following limits:
zset-max-ziplist-entries 128
zset-max-ziplist-value 64

# HyperLogLog sparse representation bytes limit. The limit includes the
# 16 bytes header. When an HyperLogLog using the sparse representation crosses
# this limit, it is converted into the dense representation.
#
# A value greater than 16000 is totally useless, since at that point the
# dense representation is more memory efficient.
#
# The suggested value is ~ 3000 in order to have the benefits of
# the space efficient encoding without slowing down too much PFADD,
# which is O(N) with the sparse encoding. The value can be raised to
# ~ 10000 when CPU is not a concern, but space is, and the data set is
# composed of many HyperLogLogs with cardinality in the 0 - 15000 range.
hll-sparse-max-bytes 3000

# Streams macro node max size / items. The stream data structure is a radix
# tree of big nodes that encode multiple items inside. Using this configuration
# it is possible to configure how big a single node can be in bytes, and the
# maximum number of items it may contain before switching to a new node when
# appending new stream entries. If any of the following settings are set to
# zero, the limit is ignored, so for instance it is possible to set just a
# max entires limit by setting max-bytes to 0 and max-entries to the desired
# value.
stream-node-max-bytes 4096
stream-node-max-entries 100

# Active rehashing uses 1 millisecond every 100 milliseconds of CPU time in
# order to help rehashing the main Redis hash table (the one mapping top-level
# keys to values). The hash table implementation Redis uses (see dict.c)
# performs a lazy rehashing: the more operation you run into a hash table
# that is rehashing, the more rehashing &quot;steps&quot; are performed, so if the
# server is idle the rehashing is never complete and some more memory is used
# by the hash table.
#
# The default is to use this millisecond 10 times every second in order to
# actively rehash the main dictionaries, freeing memory when possible.
#
# If unsure:
# use &quot;activerehashing no&quot; if you have hard latency requirements and it is
# not a good thing in your environment that Redis can reply from time to time
# to queries with 2 milliseconds delay.
#
# use &quot;activerehashing yes&quot; if you don&apos;t have such hard requirements but
# want to free memory asap when possible.
activerehashing yes

# The client output buffer limits can be used to force disconnection of clients
# that are not reading data from the server fast enough for some reason (a
# common reason is that a Pub/Sub client can&apos;t consume messages as fast as the
# publisher can produce them).
#
# The limit can be set differently for the three different classes of clients:
#
# normal -&gt; normal clients including MONITOR clients
# replica  -&gt; replica clients
# pubsub -&gt; clients subscribed to at least one pubsub channel or pattern
#
# The syntax of every client-output-buffer-limit directive is the following:
#
# client-output-buffer-limit &lt;class&gt; &lt;hard limit&gt; &lt;soft limit&gt; &lt;soft seconds&gt;
#
# A client is immediately disconnected once the hard limit is reached, or if
# the soft limit is reached and remains reached for the specified number of
# seconds (continuously).
# So for instance if the hard limit is 32 megabytes and the soft limit is
# 16 megabytes / 10 seconds, the client will get disconnected immediately
# if the size of the output buffers reach 32 megabytes, but will also get
# disconnected if the client reaches 16 megabytes and continuously overcomes
# the limit for 10 seconds.
#
# By default normal clients are not limited because they don&apos;t receive data
# without asking (in a push way), but just after a request, so only
# asynchronous clients may create a scenario where data is requested faster
# than it can read.
#
# Instead there is a default limit for pubsub and replica clients, since
# subscribers and replicas receive data in a push fashion.
#
# Both the hard or the soft limit can be disabled by setting them to zero.
client-output-buffer-limit normal 0 0 0
client-output-buffer-limit replica 256mb 64mb 60
client-output-buffer-limit pubsub 32mb 8mb 60

# Client query buffers accumulate new commands. They are limited to a fixed
# amount by default in order to avoid that a protocol desynchronization (for
# instance due to a bug in the client) will lead to unbound memory usage in
# the query buffer. However you can configure it here if you have very special
# needs, such us huge multi/exec requests or alike.
#
# client-query-buffer-limit 1gb

# In the Redis protocol, bulk requests, that are, elements representing single
# strings, are normally limited ot 512 mb. However you can change this limit
# here, but must be 1mb or greater
#
# proto-max-bulk-len 512mb

# Redis calls an internal function to perform many background tasks, like
# closing connections of clients in timeout, purging expired keys that are
# never requested, and so forth.
#
# Not all tasks are performed with the same frequency, but Redis checks for
# tasks to perform according to the specified &quot;hz&quot; value.
#
# By default &quot;hz&quot; is set to 10. Raising the value will use more CPU when
# Redis is idle, but at the same time will make Redis more responsive when
# there are many keys expiring at the same time, and timeouts may be
# handled with more precision.
#
# The range is between 1 and 500, however a value over 100 is usually not
# a good idea. Most users should use the default of 10 and raise this up to
# 100 only in environments where very low latency is required.
hz 10

# Normally it is useful to have an HZ value which is proportional to the
# number of clients connected. This is useful in order, for instance, to
# avoid too many clients are processed for each background task invocation
# in order to avoid latency spikes.
#
# Since the default HZ value by default is conservatively set to 10, Redis
# offers, and enables by default, the ability to use an adaptive HZ value
# which will temporary raise when there are many connected clients.
#
# When dynamic HZ is enabled, the actual configured HZ will be used
# as a baseline, but multiples of the configured HZ value will be actually
# used as needed once more clients are connected. In this way an idle
# instance will use very little CPU time while a busy instance will be
# more responsive.
dynamic-hz yes

# When a child rewrites the AOF file, if the following option is enabled
# the file will be fsync-ed every 32 MB of data generated. This is useful
# in order to commit the file to the disk more incrementally and avoid
# big latency spikes.
aof-rewrite-incremental-fsync yes

# When redis saves RDB file, if the following option is enabled
# the file will be fsync-ed every 32 MB of data generated. This is useful
# in order to commit the file to the disk more incrementally and avoid
# big latency spikes.
rdb-save-incremental-fsync yes

# Redis LFU eviction (see maxmemory setting) can be tuned. However it is a good
# idea to start with the default settings and only change them after investigating
# how to improve the performances and how the keys LFU change over time, which
# is possible to inspect via the OBJECT FREQ command.
#
# There are two tunable parameters in the Redis LFU implementation: the
# counter logarithm factor and the counter decay time. It is important to
# understand what the two parameters mean before changing them.
#
# The LFU counter is just 8 bits per key, it&apos;s maximum value is 255, so Redis
# uses a probabilistic increment with logarithmic behavior. Given the value
# of the old counter, when a key is accessed, the counter is incremented in
# this way:
#
# 1. A random number R between 0 and 1 is extracted.
# 2. A probability P is calculated as 1/(old_value*lfu_log_factor+1).
# 3. The counter is incremented only if R &lt; P.
#
# The default lfu-log-factor is 10. This is a table of how the frequency
# counter changes with a different number of accesses with different
# logarithmic factors:
#
# +--------+------------+------------+------------+------------+------------+
# | factor | 100 hits   | 1000 hits  | 100K hits  | 1M hits    | 10M hits   |
# +--------+------------+------------+------------+------------+------------+
# | 0      | 104        | 255        | 255        | 255        | 255        |
# +--------+------------+------------+------------+------------+------------+
# | 1      | 18         | 49         | 255        | 255        | 255        |
# +--------+------------+------------+------------+------------+------------+
# | 10     | 10         | 18         | 142        | 255        | 255        |
# +--------+------------+------------+------------+------------+------------+
# | 100    | 8          | 11         | 49         | 143        | 255        |
# +--------+------------+------------+------------+------------+------------+
#
# NOTE: The above table was obtained by running the following commands:
#
#   redis-benchmark -n 1000000 incr foo
#   redis-cli object freq foo
#
# NOTE 2: The counter initial value is 5 in order to give new objects a chance
# to accumulate hits.
#
# The counter decay time is the time, in minutes, that must elapse in order
# for the key counter to be divided by two (or decremented if it has a value
# less &lt;= 10).
#
# The default value for the lfu-decay-time is 1. A Special value of 0 means to
# decay the counter every time it happens to be scanned.
#
# lfu-log-factor 10
# lfu-decay-time 1

########################### ACTIVE DEFRAGMENTATION #######################
#
# What is active defragmentation?
# -------------------------------
#
# Active (online) defragmentation allows a Redis server to compact the
# spaces left between small allocations and deallocations of data in memory,
# thus allowing to reclaim back memory.
#
# Fragmentation is a natural process that happens with every allocator (but
# less so with Jemalloc, fortunately) and certain workloads. Normally a server
# restart is needed in order to lower the fragmentation, or at least to flush
# away all the data and create it again. However thanks to this feature
# implemented by Oran Agra for Redis 4.0 this process can happen at runtime
# in an &quot;hot&quot; way, while the server is running.
#
# Basically when the fragmentation is over a certain level (see the
# configuration options below) Redis will start to create new copies of the
# values in contiguous memory regions by exploiting certain specific Jemalloc
# features (in order to understand if an allocation is causing fragmentation
# and to allocate it in a better place), and at the same time, will release the
# old copies of the data. This process, repeated incrementally for all the keys
# will cause the fragmentation to drop back to normal values.
#
# Important things to understand:
#
# 1. This feature is disabled by default, and only works if you compiled Redis
#    to use the copy of Jemalloc we ship with the source code of Redis.
#    This is the default with Linux builds.
#
# 2. You never need to enable this feature if you don&apos;t have fragmentation
#    issues.
#
# 3. Once you experience fragmentation, you can enable this feature when
#    needed with the command &quot;CONFIG SET activedefrag yes&quot;.
#
# The configuration parameters are able to fine tune the behavior of the
# defragmentation process. If you are not sure about what they mean it is
# a good idea to leave the defaults untouched.

# Enabled active defragmentation
# activedefrag no

# Minimum amount of fragmentation waste to start active defrag
# active-defrag-ignore-bytes 100mb

# Minimum percentage of fragmentation to start active defrag
# active-defrag-threshold-lower 10

# Maximum percentage of fragmentation at which we use maximum effort
# active-defrag-threshold-upper 100

# Minimal effort for defrag in CPU percentage, to be used when the lower
# threshold is reached
# active-defrag-cycle-min 1

# Maximal effort for defrag in CPU percentage, to be used when the upper
# threshold is reached
# active-defrag-cycle-max 25

# Maximum number of set/hash/zset/list fields that will be processed from
# the main dictionary scan
# active-defrag-max-scan-fields 1000

# Jemalloc background thread for purging will be enabled by default
jemalloc-bg-thread yes

# It is possible to pin different threads and processes of Redis to specific
# CPUs in your system, in order to maximize the performances of the server.
# This is useful both in order to pin different Redis threads in different
# CPUs, but also in order to make sure that multiple Redis instances running
# in the same host will be pinned to different CPUs.
#
# Normally you can do this using the &quot;taskset&quot; command, however it is also
# possible to this via Redis configuration directly, both in Linux and FreeBSD.
#
# You can pin the server/IO threads, bio threads, aof rewrite child process, and
# the bgsave child process. The syntax to specify the cpu list is the same as
# the taskset command:
#
# Set redis server/io threads to cpu affinity 0,2,4,6:
# server_cpulist 0-7:2
#
# Set bio threads to cpu affinity 1,3:
# bio_cpulist 1,3
#
# Set aof rewrite child process to cpu affinity 8,9,10,11:
# aof_rewrite_cpulist 8-11
#
# Set bgsave child process to cpu affinity 1,10,11
# bgsave_cpulist 1,10-11
</code></pre>
<h4 id="&#x6D4B;&#x8BD5;-redis-cli&#x8FDE;&#x63A5;&#x4E0A;&#x6765;">&#x6D4B;&#x8BD5; redis-cli&#x8FDE;&#x63A5;&#x4E0A;&#x6765;</h4>
<pre><code class="lang-dockerfile">docker exec -it &#x8FD0;&#x884C;&#x7740;redis&#x670D;&#x52A1;&#x5BB9;&#x5668;&#x7684;ID redis-cli
</code></pre>
<p><img src="image/Snipaste_2020-10-04_12-28-49.png" alt=""></p>
<h4 id="&#x6D4B;&#x8BD5;&#x6301;&#x4E45;&#x5316;&#x6587;&#x4EF6;&#x751F;&#x6210;">&#x6D4B;&#x8BD5;&#x6301;&#x4E45;&#x5316;&#x6587;&#x4EF6;&#x751F;&#x6210;</h4>
<p><img src="image/Snipaste_2020-10-04_12-29-12.png" alt=""></p>
<h1 id="&#x7B2C;-8-&#x7AE0;-&#x5C06;&#x955C;&#x50CF;&#x63A8;&#x9001;&#x5230;&#x963F;&#x91CC;&#x4E91;">&#x7B2C; 8 &#x7AE0; &#x5C06;&#x955C;&#x50CF;&#x63A8;&#x9001;&#x5230;&#x963F;&#x91CC;&#x4E91;</h1>
<h3 id="&#x672C;&#x5730;&#x955C;&#x50CF;&#x53D1;&#x5E03;&#x5230;&#x963F;&#x91CC;&#x4E91;&#x6D41;&#x7A0B;">&#x672C;&#x5730;&#x955C;&#x50CF;&#x53D1;&#x5E03;&#x5230;&#x963F;&#x91CC;&#x4E91;&#x6D41;&#x7A0B;</h3>
<p><img src="image/Snipaste_2020-10-04_12-49-17.png" alt=""></p>
<h3 id="&#x955C;&#x50CF;&#x751F;&#x6210;&#x65B9;&#x6CD5;">&#x955C;&#x50CF;&#x751F;&#x6210;&#x65B9;&#x6CD5;</h3>
<p>1&#x3001;&#x524D;&#x9762;&#x7684;Dockerfile</p>
<p>2&#x3001;&#x4ECE;&#x5BB9;&#x5668;&#x4E2D;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x65B0;&#x7684;&#x955C;&#x50CF; </p>
<pre><code class="lang-dockerfile">docker commit [OPTIONS] &#x5BB9;&#x5668;ID [REPOSITORY[:TAG]]
</code></pre>
<p><img src="image/Snipaste_2020-10-04_12-50-48.png" alt=""></p>
<h3 id="&#x5C06;&#x672C;&#x5730;&#x955C;&#x50CF;&#x63A8;&#x9001;&#x5230;&#x963F;&#x91CC;&#x4E91;">&#x5C06;&#x672C;&#x5730;&#x955C;&#x50CF;&#x63A8;&#x9001;&#x5230;&#x963F;&#x91CC;&#x4E91;</h3>
<h4 id="1&#x3001;&#x672C;&#x5730;&#x955C;&#x50CF;&#x7D20;&#x6750;&#x539F;&#x578B;">1&#x3001;&#x672C;&#x5730;&#x955C;&#x50CF;&#x7D20;&#x6750;&#x539F;&#x578B;</h4>
<p><img src="image/Snipaste_2020-10-04_12-51-52.png" alt=""></p>
<p>2&#x3001;&#x963F;&#x91CC;&#x4E91;&#x5F00;&#x53D1;&#x8005;&#x5E73;&#x53F0;</p>
<p><a href="https://promotion.aliyun.com/ntms/act/kubernetes.html" target="_blank">https://promotion.aliyun.com/ntms/act/kubernetes.html</a></p>
<p><img src="image/Snipaste_2020-10-04_12-53-02.png" alt=""></p>
<h4 id="3&#x3001;&#x521B;&#x5EFA;&#x955C;&#x50CF;&#x4ED3;&#x5E93;">3&#x3001;&#x521B;&#x5EFA;&#x955C;&#x50CF;&#x4ED3;&#x5E93;</h4>
<p><img src="image/Snipaste_2020-10-04_12-54-07.png" alt=""></p>
<p>&#x547D;&#x540D;&#x7A7A;&#x95F4;</p>
<p>&#x4ED3;&#x5E93;&#x540D;&#x79F0;</p>
<h4 id="4&#x3001;&#x5C06;&#x955C;&#x50CF;&#x63A8;&#x9001;&#x5230;registry">4&#x3001;&#x5C06;&#x955C;&#x50CF;&#x63A8;&#x9001;&#x5230;registry</h4>
<pre><code class="lang-java">$ sudo docker login --username=white3e registry.cn-shenzhen.aliyuncs.com
$ sudo docker tag [ImageId] registry.cn-shenzhen.aliyuncs.com/ggccqq/mycentos:[&#x955C;&#x50CF;&#x7248;&#x672C;&#x53F7;]
$ sudo docker push registry.cn-shenzhen.aliyuncs.com/ggccqq/mycentos:[&#x955C;&#x50CF;&#x7248;&#x672C;&#x53F7;]
&#x5176;&#x4E2D;[ImageId][&#x955C;&#x50CF;&#x7248;&#x672C;]&#x81EA;&#x5DF1;&#x586B;&#x5199;
</code></pre>
<p><img src="image/Snipaste_2020-10-04_12-56-10.png" alt=""></p>
<h4 id="5&#x3001;&#x516C;&#x6709;&#x4E91;&#x53EF;&#x4EE5;&#x67E5;&#x8BE2;&#x5F97;&#x5230;">5&#x3001;&#x516C;&#x6709;&#x4E91;&#x53EF;&#x4EE5;&#x67E5;&#x8BE2;&#x5F97;&#x5230;</h4>
<p><img src="image/Snipaste_2020-10-04_12-56-53.png" alt=""></p>
<h4 id="6&#x3001;&#x67E5;&#x770B;&#x8BE6;&#x60C5;">6&#x3001;&#x67E5;&#x770B;&#x8BE6;&#x60C5;</h4>
<p><img src="image/Snipaste_2020-10-04_12-57-23.png" alt=""></p>
<h3 id="&#x5C06;&#x963F;&#x91CC;&#x4E91;&#x4E0A;&#x7684;&#x955C;&#x50CF;&#x4E0B;&#x8F7D;&#x5230;&#x672C;&#x5730;">&#x5C06;&#x963F;&#x91CC;&#x4E91;&#x4E0A;&#x7684;&#x955C;&#x50CF;&#x4E0B;&#x8F7D;&#x5230;&#x672C;&#x5730;</h3>
<p><img src="image/Snipaste_2020-10-04_12-59-00.png" alt=""></p>
<p>&#x81F3;&#x6B64;Docker&#x57FA;&#x7840;&#x7BC7;&#x5B8C;&#x7ED3;</p>
<p>&#x200B;    2020-10-4</p>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="../redis/redis.html" class="navigation navigation-prev " aria-label="Previous page: redis">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="../nginx/Nginx.html" class="navigation navigation-next " aria-label="Next page: Nginx">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"typora-root-url":"image","title":"Docker","level":"1.3.20","depth":2,"next":{"title":"Nginx","level":"1.3.21","depth":2,"path":"back/nginx/Nginx.md","ref":"./back/nginx/Nginx.md","articles":[]},"previous":{"title":"redis","level":"1.3.19","depth":2,"path":"back/redis/redis.md","ref":"./back/redis/redis.md","articles":[]},"dir":"ltr"},"config":{"gitbook":"*","theme":"default","variables":{},"plugins":["back-to-top-button"],"pluginsConfig":{"back-to-top-button":{},"highlight":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"}},"file":{"path":"back/Docker/Docker基础篇之快速上手.md","mtime":"2022-07-24T02:13:46.459Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2022-10-31T08:53:45.469Z"},"basePath":"../..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../../gitbook/gitbook.js"></script>
    <script src="../../gitbook/theme.js"></script>
    
        
        <script src="../../gitbook/gitbook-plugin-back-to-top-button/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

